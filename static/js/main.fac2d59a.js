/*! For license information please see main.fac2d59a.js.LICENSE.txt */
(()=>{var e={85(e,t,n){"use strict";n.d(t,{R:()=>i});var r=n(6882),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.C6(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return r.C6(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(8297).y))},164(e,t,n){"use strict";n.d(t,{E:()=>i,b:()=>o});var r=n(85),i=new(n(3571).q)(r.R),o=i},230(e,t,n){"use strict";n.d(t,{v:()=>c});var r=n(6882),i=n(1367),o=n(974),a=n(8297),s=n(6255),l=n(578),u=n(3617),c=function(e){function t(n,r,i){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=o.I;break;case 1:if(!n){a.destination=o.I;break}if("object"===typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new f(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new f(a,n,r,i)}return a}return r.C6(t,e),t.prototype[s.D]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(a.y),f=function(e){function t(t,n,r,a){var s,l=e.call(this)||this;l._parentSubscriber=t;var u=l;return(0,i.T)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.I&&(u=Object.create(n),(0,i.T)(u.unsubscribe)&&l.add(u.unsubscribe.bind(u)),u.unsubscribe=l.unsubscribe.bind(l))),l._context=u,l._next=s,l._error=r,l._complete=a,l}return r.C6(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;l.$.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=l.$.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,u.T)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,u.T)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};l.$.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),l.$.useDeprecatedSynchronousErrorHandling)throw n;(0,u.T)(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!l.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return l.$.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,u.T)(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(c)},236(e,t,n){"use strict";n.d(t,{H:()=>a});var r=n(8851),i=n(5157),o=n(6120);function a(e,t){return t?(0,o.c)(e,t):e instanceof r.c?e:new r.c((0,i.i)(e))}},251(e,t,n){"use strict";n.d(t,{c:()=>a});var r=n(8851),i=n(7557),o=n(5508);function a(e,t){return t?(0,o.V)(e,t):new r.c((0,i.v)(e))}},439(e,t,n){"use strict";n.d(t,{Y:()=>i});var r=n(6882),i=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.C6(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(8297).y)},578(e,t,n){"use strict";n.d(t,{$:()=>i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},658(e,t,n){"use strict";function r(e){return!!e&&"function"!==typeof e.subscribe&&"function"===typeof e.then}n.d(t,{y:()=>r})},974(e,t,n){"use strict";n.d(t,{I:()=>o});var r=n(578),i=n(3617),o={closed:!0,next:function(e){},error:function(e){if(r.$.useDeprecatedSynchronousErrorHandling)throw e;(0,i.T)(e)},complete:function(){}}},1008(e,t,n){"use strict";n.d(t,{I:()=>d,$:()=>h});var r=n(6882),i=1,o=function(){return Promise.resolve()}(),a={};function s(e){return e in a&&(delete a[e],!0)}var l=function(e){var t=i++;return a[t]=!0,o.then(function(){return s(t)&&e()}),t},u=function(e){s(e)},c=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.C6(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=l(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(u(n),t.scheduled=void 0)},t}(n(85).R),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.C6(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(3571).q),h=new f(c),d=h},1068(e,t,n){"use strict";n.d(t,{ZS:()=>f,zV:()=>c});var r=n(6882),i=n(2414),o=n(8342),a=n(8535),s=n(6790),l=n(251),u={};function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return(0,i.m)(e[e.length-1])&&(r=e.pop()),"function"===typeof e[e.length-1]&&(n=e.pop()),1===e.length&&(0,o.c)(e[0])&&(e=e[0]),(0,l.c)(e,r).lift(new f(n))}var f=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.resultSelector))},e}(),h=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.C6(t,e),t.prototype._next=function(e){this.values.push(u),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add((0,s.F)(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0===(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,i=r[n],o=this.toRespond?i===u?--this.toRespond:this.toRespond:0;r[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(a.E)},1090(e,t,n){"use strict";n.d(t,{T:()=>o});var r=n(6882),i=n(230);function o(e,t){return function(n){if("function"!==typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.C6(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(i.v)},1352(e,t,n){"use strict";var r=n(7119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},1367(e,t,n){"use strict";function r(e){return"function"===typeof e}n.d(t,{T:()=>r})},1615(e,t,n){"use strict";function r(){}n.d(t,{l:()=>r})},1638(e,t,n){"use strict";n.d(t,{s:()=>r});var r=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}()},1761(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],f=1,h=null,d=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(v=!1,w(e),!m)if(null!==r(u))m=!0,D(S);else{var t=r(c);null!==t&&F(x,t.startTime-e)}}function S(e,n){m=!1,v&&(v=!1,b(N),N=-1),p=!0;var o=d;try{for(w(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!M());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(u)&&i(u),w(n)}else i(u);h=r(u)}if(null!==h)var l=!0;else{var f=r(c);null!==f&&F(x,f.startTime-n),l=!1}return l}finally{h=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,C=null,N=-1,E=5,T=-1;function M(){return!(t.unstable_now()-T<E)}function j(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?_():(k=!1,C=null)}}else k=!1}if("function"===typeof y)_=function(){y(j)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=j,_=function(){A.postMessage(null)}}else _=function(){g(j,0)};function D(e){C=e,k||(k=!0,_())}function F(e,n){N=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(v?(b(N),N=-1):v=!0,F(x,o-a))):(e.sortIndex=s,n(u,e),m||p||(m=!0,D(S))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},1820(e,t,n){"use strict";n.d(t,{p:()=>o});var r=n(6882),i=n(230);function o(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.C6(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(i.v)},2049(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var w=y.prototype=new b;w.constructor=y,m(w,g.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:_.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function M(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+T(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),M(a,t,i,"",function(e){return e})):null!=a&&(N(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var u=0;u<e.length;u++){var c=o+T(s=e[u],u);l+=M(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=M(s=s.value,t,i,c=o+T(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},D={transition:null},F={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=y,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},2113(e,t,n){"use strict";n.d(t,{G:()=>l,f:()=>u});var r=n(6882),i=n(8770),o=n(8851),a=n(8297),s=n(3754),l=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.C6(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.y).add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.y.EMPTY)),e},t.prototype.refCount=function(){return(0,s.B)()(this)},t}(o.c),u=function(){var e=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.C6(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.PJ)},2413(e,t,n){"use strict";n.d(t,{P:()=>r});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},2414(e,t,n){"use strict";function r(e){return e&&"function"===typeof e.schedule}n.d(t,{m:()=>r})},2511(e,t,n){"use strict";n.d(t,{_:()=>r});var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},2654(e,t,n){"use strict";var r=n(9950),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},2776(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3452),i=n(3203),o=n(3292);t.zipSamplesPpg=function(e){var t=[],n=null;return e.pipe(i.mergeMap(function(e){if(e.timestamp!==n&&(n=e.timestamp,t.length)){var i=r.from([t.slice()]);return t.splice(0,t.length,e),i}return t.push(e),r.from([])}),i.concat(r.from([t])),i.mergeMap(function(e){var t=e[0].samples.map(function(t,n){for(var r=[NaN,NaN,NaN],i=0,a=e;i<a.length;i++){var s=a[i];r[s.ppgChannel]=s.samples[n]}return{data:r,index:e[0].index,timestamp:e[0].timestamp+1e3*n/o.PPG_FREQUENCY}});return r.from(t)}))}},3013(e,t,n){"use strict";n.d(t,{ee:()=>c,yU:()=>u});var r=n(6882),i=n(251),o=n(8342),a=n(230),s=n(3737),l=n(3056);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"===typeof n&&e.pop(),(0,i.c)(e,void 0).lift(new c(n))}var c=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.resultSelector))},e}(),f=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var i=e.call(this,t)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector="function"===typeof n?n:void 0,i}return r.C6(t,e),t.prototype._next=function(e){var t=this.iterators;(0,o.c)(e)?t.push(new d(e)):"function"===typeof e[s.lJ]?t.push(new h(e[s.lJ]())):t.push(new p(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe());else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){if("function"===typeof(a=e[r]).hasValue&&!a.hasValue())return}var i=!1,o=[];for(r=0;r<t;r++){var a,s=(a=e[r]).next();if(a.hasCompleted()&&(i=!0),s.done)return void n.complete();o.push(s.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(a.v),h=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),d=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[s.lJ]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),p=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r.C6(t,e),t.prototype[s.lJ]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return(0,l.tS)(this.observable,new l.zA(this))},t}(l.gn)},3056(e,t,n){"use strict";n.d(t,{gn:()=>l,tS:()=>u,zA:()=>s});var r=n(6882),i=n(230),o=n(8851),a=n(5157),s=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return r.C6(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(i.v),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.C6(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(i.v);function u(e,t){if(!t.closed){if(e instanceof o.c)return e.subscribe(t);var n;try{n=(0,a.i)(e)(t)}catch(r){t.error(r)}return n}}},3203(e,t,n){"use strict";n.r(t),n.d(t,{audit:()=>o,auditTime:()=>c,buffer:()=>f,bufferCount:()=>m,bufferTime:()=>w,bufferToggle:()=>j,bufferWhen:()=>D,catchError:()=>I,combineAll:()=>U,combineLatest:()=>H,concat:()=>q,concatAll:()=>Y.K,concatMap:()=>G,concatMapTo:()=>Q,count:()=>Z,debounce:()=>J,debounceTime:()=>ne,defaultIfEmpty:()=>ae,delay:()=>fe,delayWhen:()=>ve,dematerialize:()=>xe,distinct:()=>ke,distinctUntilChanged:()=>Ee,distinctUntilKeyChanged:()=>je,elementAt:()=>Ve,endWith:()=>We,every:()=>qe,exhaust:()=>Ge,exhaustMap:()=>Ke,expand:()=>tt,filter:()=>Ae.p,finalize:()=>it,find:()=>st,findIndex:()=>ct,first:()=>ht,flatMap:()=>$.qI,groupBy:()=>dt.$,ignoreElements:()=>pt,isEmpty:()=>gt,last:()=>_t,map:()=>Xe.T,mapTo:()=>kt,materialize:()=>Et,max:()=>zt,merge:()=>Ot,mergeAll:()=>Rt.U,mergeMap:()=>$.ZZ,mergeMapTo:()=>Lt,mergeScan:()=>Ut,min:()=>Ht,multicast:()=>qt,observeOn:()=>$t.QE,onErrorResumeNext:()=>Gt,pairwise:()=>Xt,partition:()=>tn,pluck:()=>nn,publish:()=>on,publishBehavior:()=>sn,publishLast:()=>un,publishReplay:()=>fn,race:()=>dn,reduce:()=>Ft,refCount:()=>Nn.B,repeat:()=>pn,repeatWhen:()=>gn,retry:()=>wn,retryWhen:()=>_n,sample:()=>En,sampleTime:()=>jn,scan:()=>jt,sequenceEqual:()=>Fn,share:()=>Ln,shareReplay:()=>Un,single:()=>Bn,skip:()=>Wn,skipLast:()=>$n,skipUntil:()=>Zn,skipWhile:()=>Jn,startWith:()=>nr,subscribeOn:()=>ar,switchAll:()=>fr,switchMap:()=>lr,switchMapTo:()=>hr,take:()=>Le,takeLast:()=>wt,takeUntil:()=>dr,takeWhile:()=>vr,tap:()=>xr,throttle:()=>Cr,throttleTime:()=>Tr,throwIfEmpty:()=>Fe,timeInterval:()=>Dr,timeout:()=>Ur,timeoutWith:()=>Ir,timestamp:()=>Br,toArray:()=>Wr,window:()=>qr,windowCount:()=>Gr,windowTime:()=>Xr,windowToggle:()=>ii,windowWhen:()=>si,withLatestFrom:()=>ci,zip:()=>pi,zipAll:()=>mi});var r=n(6882),i=n(3056);function o(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.durationSelector))},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.C6(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(r){return this.destination.error(r)}var n=(0,i.tS)(t,new i.zA(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},t.prototype.clearThrottle=function(){var e=this,t=e.value,n=e.hasValue,r=e.throttled;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(i.gn),l=n(164),u=n(8063);function c(e,t){return void 0===t&&(t=l.b),o(function(){return(0,u.O)(e,t)})}function f(e){return function(t){return t.lift(new h(e))}}var h=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.closingNotifier))},e}(),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.buffer=[],r.add((0,i.tS)(n,new i.zA(r))),r}return r.C6(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(){var e=this.buffer;this.buffer=[],this.destination.next(e)},t}(i.gn),p=n(230);function m(e,t){return void 0===t&&(t=null),function(n){return n.lift(new v(e,t))}}var v=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?b:g}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),g=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bufferSize=n,r.buffer=[],r}return r.C6(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(p.v),b=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return r.C6(t,e),t.prototype._next=function(e){var t=this,n=t.bufferSize,r=t.startBufferEvery,i=t.buffers,o=t.count;this.count++,o%r===0&&i.push([]);for(var a=i.length;a--;){var s=i[a];s.push(e),s.length===n&&(i.splice(a,1),this.destination.next(s))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(p.v),y=n(2414);function w(e){var t=arguments.length,n=l.b;(0,y.m)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(t){return t.lift(new x(e,r,i,n))}}var x=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new _(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),S=function(){return function(){this.buffer=[]}}(),_=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=r,a.maxBufferSize=i,a.scheduler=o,a.contexts=[];var s=a.openContext();if(a.timespanOnly=null==r||r<0,a.timespanOnly){var l={subscriber:a,context:s,bufferTimeSpan:n};a.add(s.closeAction=o.schedule(k,n,l))}else{var u={subscriber:a,context:s},c={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:a,scheduler:o};a.add(s.closeAction=o.schedule(N,n,u)),a.add(o.schedule(C,r,c))}return a}return r.C6(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],a=o.buffer;a.push(e),a.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;t.length>0;){var r=t.shift();n.next(r.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(k,n,r))}},t.prototype.openContext=function(){var e=new S;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(p.v);function k(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function C(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(N,n,{subscriber:r,context:o})),this.schedule(e,t))}function N(e){var t=e.subscriber,n=e.context;t.closeContext(n)}var E=n(8297),T=n(6790),M=n(8535);function j(e,t){return function(n){return n.lift(new P(e,t))}}var P=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new A(e,this.openings,this.closingSelector))},e}(),A=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.closingSelector=r,i.contexts=[],i.add((0,T.F)(i,n)),i}return r.C6(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(n){this._error(n)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,r=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new E.y,r={buffer:[],subscription:n};t.push(r);var i=(0,T.F)(this,e,r);!i||i.closed?this.closeBuffer(r):(i.context=r,this.add(i),n.add(i))},t}(M.E);function D(e){return function(t){return t.lift(new F(e))}}var F=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new z(e,this.closingSelector))},e}(),z=function(e){function t(t,n){var r=e.call(this,t)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r.C6(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(r){return this.error(r)}e=new E.y,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add((0,i.tS)(t,new i.zA(this))),this.subscribing=!1},t}(i.gn);function I(e){return function(t){var n=new O(e),r=t.lift(n);return n.caught=r}}var O=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new R(e,this.selector,this.caught))},e}(),R=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.selector=n,i.caught=r,i}return r.C6(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(a){return void e.prototype.error.call(this,a)}this._unsubscribeAndRecycle();var r=new i.zA(this);this.add(r);var o=(0,i.tS)(n,r);o!==r&&this.add(o)}},t}(i.gn),L=n(1068);function U(e){return function(t){return t.lift(new L.ZS(e))}}var B=n(8342),V=n(236);function H(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"===typeof e[e.length-1]&&(n=e.pop()),1===e.length&&(0,B.c)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call((0,V.H)([t].concat(e)),new L.ZS(n))}}var W=n(5296);function q(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(W.x.apply(void 0,[t].concat(e)))}}var Y=n(4907),$=n(5812);function G(e,t){return(0,$.ZZ)(e,t,1)}function Q(e,t){return G(function(){return e},t)}function Z(e){return function(t){return t.lift(new X(e,t))}}var X=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new K(e,this.predicate,this.source))},e}(),K=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return r.C6(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(p.v);function J(e){return function(t){return t.lift(new ee(e))}}var ee=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new te(e,this.durationSelector))},e}(),te=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.C6(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(n){this.destination.error(n)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=(0,i.tS)(t,new i.zA(this)))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(i.gn);function ne(e,t){return void 0===t&&(t=l.b),function(n){return n.lift(new re(e,t))}}var re=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new ie(e,this.dueTime,this.scheduler))},e}(),ie=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.C6(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(oe,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(p.v);function oe(e){e.debouncedNext()}function ae(e){return void 0===e&&(e=null),function(t){return t.lift(new se(e))}}var se=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new le(e,this.defaultValue))},e}(),le=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.C6(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(p.v);function ue(e){return e instanceof Date&&!isNaN(+e)}var ce=n(7251);function fe(e,t){void 0===t&&(t=l.b);var n=ue(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new he(n,t))}}var he=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new de(e,this.delay,this.scheduler))},e}(),de=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r.C6(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new pe(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(ce.E.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(ce.E.createComplete()),this.unsubscribe()},t}(p.v),pe=function(){return function(e,t){this.time=e,this.notification=t}}(),me=n(8851);function ve(e,t){return t?function(n){return new ye(n,t).lift(new ge(e))}:function(t){return t.lift(new ge(e))}}var ge=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new be(e,this.delayDurationSelector))},e}(),be=function(e){function t(t,n){var r=e.call(this,t)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r.C6(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=(0,T.F)(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(M.E),ye=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subscriptionDelay=n,r}return r.C6(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new we(e,this.source))},t}(me.c),we=function(e){function t(t,n){var r=e.call(this)||this;return r.parent=t,r.source=n,r.sourceSubscribed=!1,r}return r.C6(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(p.v);function xe(){return function(e){return e.lift(new Se)}}var Se=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new _e(e))},e}(),_e=function(e){function t(t){return e.call(this,t)||this}return r.C6(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(p.v);function ke(e,t){return function(n){return n.lift(new Ce(e,t))}}var Ce=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new Ne(e,this.keySelector,this.flushes))},e}(),Ne=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.keySelector=n,o.values=new Set,r&&o.add((0,i.tS)(r,new i.zA(o))),o}return r.C6(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(r){return void n.error(r)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(i.gn);function Ee(e,t){return function(n){return n.lift(new Te(e,t))}}var Te=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new Me(e,this.compare,this.keySelector))},e}(),Me=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=r,i.hasKey=!1,"function"===typeof n&&(i.compare=n),i}return r.C6(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(p.v);function je(e,t){return Ee(function(n,r){return t?t(n[e],r[e]):n[e]===r[e]})}var Pe=n(9854),Ae=n(1820),De=n(9878);function Fe(e){return void 0===e&&(e=Oe),function(t){return t.lift(new ze(e))}}var ze=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new Ie(e,this.errorFactory))},e}(),Ie=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errorFactory=n,r.hasValue=!1,r}return r.C6(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(p.v);function Oe(){return new De.G}var Re=n(6471);function Le(e){return function(t){return 0===e?(0,Re.I)():t.lift(new Ue(e))}}var Ue=function(){function e(e){if(this.total=e,this.total<0)throw new Pe.k}return e.prototype.call=function(e,t){return t.subscribe(new Be(e,this.total))},e}(),Be=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.C6(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(p.v);function Ve(e,t){if(e<0)throw new Pe.k;var n=arguments.length>=2;return function(r){return r.pipe((0,Ae.p)(function(t,n){return n===e}),Le(1),n?ae(t):Fe(function(){return new Pe.k}))}}var He=n(5209);function We(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return(0,W.x)(t,He.of.apply(void 0,e))}}function qe(e,t){return function(n){return n.lift(new Ye(e,t,n))}}var Ye=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new $e(e,this.predicate,this.thisArg,this.source))},e}(),$e=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.C6(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(p.v);function Ge(){return function(e){return e.lift(new Qe)}}var Qe=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Ze(e))},e}(),Ze=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r.C6(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add((0,i.tS)(e,new i.zA(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.gn),Xe=n(1090);function Ke(e,t){return t?function(n){return n.pipe(Ke(function(n,r){return(0,V.H)(e(n,r)).pipe((0,Xe.T)(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new Je(e))}}var Je=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new et(e,this.project))},e}(),et=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return r.C6(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new i.zA(this),n=this.destination;n.add(t);var r=(0,i.tS)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.gn);function tt(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new nt(e,t,n))}}var nt=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new rt(e,this.project,this.concurrent,this.scheduler))},e}(),rt=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return r.C6(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,r=e.value,i=e.index;t.subscribeToProjection(n,r,i)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(e);try{var i=(0,this.project)(e,r);if(this.scheduler){var o={subscriber:this,result:i,value:e,index:r};this.destination.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(i,e,r)}catch(a){n.error(a)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add((0,i.tS)(e,new i.zA(this)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this._next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(i.gn);function it(e){return function(t){return t.lift(new ot(e))}}var ot=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new at(e,this.callback))},e}(),at=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new E.y(n)),r}return r.C6(t,e),t}(p.v);function st(e,t){if("function"!==typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new lt(e,n,!1,t))}}var lt=function(){function e(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}return e.prototype.call=function(e,t){return t.subscribe(new ut(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),ut=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.predicate=n,a.source=r,a.yieldIndex=i,a.thisArg=o,a.index=0,a}return r.C6(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,r=this.index++;try{t.call(n||this,e,r,this.source)&&this.notifyComplete(this.yieldIndex?r:e)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(p.v);function ct(e,t){return function(n){return n.lift(new lt(e,n,!0,t))}}var ft=n(5973);function ht(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?(0,Ae.p)(function(t,n){return e(t,n,r)}):ft.D,Le(1),n?ae(t):Fe(function(){return new De.G}))}}var dt=n(6458);function pt(){return function(e){return e.lift(new mt)}}var mt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new vt(e))},e}(),vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.C6(t,e),t.prototype._next=function(e){},t}(p.v);function gt(){return function(e){return e.lift(new bt)}}var bt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new yt(e))},e}(),yt=function(e){function t(t){return e.call(this,t)||this}return r.C6(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(p.v);function wt(e){return function(t){return 0===e?(0,Re.I)():t.lift(new xt(e))}}var xt=function(){function e(e){if(this.total=e,this.total<0)throw new Pe.k}return e.prototype.call=function(e,t){return t.subscribe(new St(e,this.total))},e}(),St=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.C6(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(p.v);function _t(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?(0,Ae.p)(function(t,n){return e(t,n,r)}):ft.D,wt(1),n?ae(t):Fe(function(){return new De.G}))}}function kt(e){return function(t){return t.lift(new Ct(e))}}var Ct=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new Nt(e,this.value))},e}(),Nt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return r.C6(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(p.v);function Et(){return function(e){return e.lift(new Tt)}}var Tt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Mt(e))},e}(),Mt=function(e){function t(t){return e.call(this,t)||this}return r.C6(t,e),t.prototype._next=function(e){this.destination.next(ce.E.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(ce.E.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(ce.E.createComplete()),e.complete()},t}(p.v);function jt(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Pt(e,t,n))}}var Pt=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new At(e,this.accumulator,this.seed,this.hasSeed))},e}(),At=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.C6(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)},t}(p.v),Dt=n(3843);function Ft(e,t){return arguments.length>=2?function(n){return(0,Dt.F)(jt(e,t),wt(1),ae(t))(n)}:function(t){return(0,Dt.F)(jt(function(t,n,r){return e(t,n,r+1)}),wt(1))(t)}}function zt(e){return Ft("function"===typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}var It=n(3370);function Ot(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(It.h.apply(void 0,[t].concat(e)))}}var Rt=n(9149);function Lt(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"===typeof t?(0,$.ZZ)(function(){return e},t,n):("number"===typeof t&&(n=t),(0,$.ZZ)(function(){return e},n))}function Ut(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new Bt(e,t,n))}}var Bt=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new Vt(e,this.accumulator,this.seed,this.concurrent))},e}(),Vt=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.C6(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,e,t)}catch(i){return n.error(i)}this.active++,this._innerSub(r)}else this.buffer.push(e)},t.prototype._innerSub=function(e){var t=new i.zA(this),n=this.destination;n.add(t);var r=(0,i.tS)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e){var t=this.destination;this.acc=e,this.hasValue=!0,t.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(i.gn);function Ht(e){return Ft("function"===typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}var Wt=n(2113);function qt(e,t){return function(n){var r;if(r="function"===typeof e?e:function(){return e},"function"===typeof t)return n.lift(new Yt(r,t));var i=Object.create(n,Wt.f);return i.source=n,i.subjectFactory=r,i}}var Yt=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}(),$t=n(7389);function Gt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&(0,B.c)(e[0])&&(e=e[0]),function(t){return t.lift(new Qt(e))}}var Qt=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new Zt(e,this.nextSources))},e}(),Zt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.nextSources=n,r}return r.C6(t,e),t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new i.zA(this),n=this.destination;n.add(t);var r=(0,i.tS)(e,t);r!==t&&n.add(r)}else this.destination.complete()},t}(i.gn);function Xt(){return function(e){return e.lift(new Kt)}}var Kt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Jt(e))},e}(),Jt=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return r.C6(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(p.v),en=n(4002);function tn(e,t){return function(n){return[(0,Ae.p)(e,t)(n),(0,Ae.p)((0,en.A)(e,t))(n)]}}function nn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(t){return(0,Xe.T)(function(e,t){var n=function(n){for(var r=n,i=0;i<t;i++){var o=null!=r?r[e[i]]:void 0;if(void 0===o)return;r=o}return r};return n}(e,n))(t)}}var rn=n(8770);function on(e){return e?qt(function(){return new rn.B7},e):qt(new rn.B7)}var an=n(8300);function sn(e){return function(t){return qt(new an.t(e))(t)}}var ln=n(3412);function un(){return function(e){return qt(new ln.h)(e)}}var cn=n(7091);function fn(e,t,n,r){n&&"function"!==typeof n&&(r=n);var i="function"===typeof n?n:void 0,o=new cn.m(e,t,r);return function(e){return qt(function(){return o},i)(e)}}var hn=n(4617);function dn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&(0,B.c)(e[0])&&(e=e[0]),t.lift.call(hn.O4.apply(void 0,[t].concat(e)))}}function pn(e){return void 0===e&&(e=-1),function(t){return 0===e?(0,Re.I)():e<0?t.lift(new mn(-1,t)):t.lift(new mn(e-1,t))}}var mn=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new vn(e,this.count,this.source))},e}(),vn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.C6(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(p.v);function gn(e){return function(t){return t.lift(new bn(e))}}var bn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new yn(e,this.notifier,t))},e}(),yn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return r.C6(t,e),t.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new rn.B7;try{t=(0,this.notifier)(this.notifications)}catch(n){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=(0,i.tS)(t,new i.zA(this))},t}(i.gn);function wn(e){return void 0===e&&(e=-1),function(t){return t.lift(new xn(e,t))}}var xn=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Sn(e,this.count,this.source))},e}(),Sn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.C6(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return e.prototype.error.call(this,t);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(p.v);function _n(e){return function(t){return t.lift(new kn(e,t))}}var kn=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Cn(e,this.notifier,this.source))},e}(),Cn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i}return r.C6(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{n=new rn.B7;try{r=(0,this.notifier)(n)}catch(a){return e.prototype.error.call(this,a)}o=(0,i.tS)(r,new i.zA(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(i.gn),Nn=n(3754);function En(e){return function(t){return t.lift(new Tn(e))}}var Tn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new Mn(e),r=t.subscribe(n);return r.add((0,i.tS)(this.notifier,new i.zA(n))),r},e}(),Mn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return r.C6(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(i.gn);function jn(e,t){return void 0===t&&(t=l.b),function(n){return n.lift(new Pn(e,t))}}var Pn=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new An(e,this.period,this.scheduler))},e}(),An=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(Dn,n,{subscriber:i,period:n})),i}return r.C6(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(p.v);function Dn(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}function Fn(e,t){return function(n){return n.lift(new zn(e,t))}}var zn=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new In(e,this.compareTo,this.comparator))},e}(),In=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new On(t,i))),i}return r.C6(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this,t=e._a,n=e._b,r=e.comparator;t.length>0&&n.length>0;){var i=t.shift(),o=n.shift(),a=!1;try{a=r?r(i,o):i===o}catch(s){this.destination.error(s)}a||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(p.v),On=function(e){function t(t,n){var r=e.call(this,t)||this;return r.parent=n,r}return r.C6(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(p.v);function Rn(){return new rn.B7}function Ln(){return function(e){return(0,Nn.B)()(qt(Rn)(e))}}function Un(e,t,n){var r;return r=e&&"object"===typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=e.refCount,l=e.scheduler,u=0,c=!1,f=!1;return function(e){var r;u++,!t||c?(c=!1,t=new cn.m(i,a,l),r=t.subscribe(this),n=e.subscribe({next:function(e){t.next(e)},error:function(e){c=!0,t.error(e)},complete:function(){f=!0,n=void 0,t.complete()}}),f&&(n=void 0)):r=t.subscribe(this),this.add(function(){u--,r.unsubscribe(),r=void 0,n&&!f&&s&&0===u&&(n.unsubscribe(),n=void 0,t=void 0)})}}(r))}}function Bn(e){return function(t){return t.lift(new Vn(e,t))}}var Vn=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Hn(e,this.predicate,this.source))},e}(),Hn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return r.C6(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(n){this.destination.error(n)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new De.G)},t}(p.v);function Wn(e){return function(t){return t.lift(new qn(e))}}var qn=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new Yn(e,this.total))},e}(),Yn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.C6(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(p.v);function $n(e){return function(t){return t.lift(new Gn(e))}}var Gn=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new Pe.k}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new p.v(e)):t.subscribe(new Qn(e,this._skipCount))},e}(),Qn=function(e){function t(t,n){var r=e.call(this,t)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r.C6(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var r=n%t,i=this._ring,o=i[r];i[r]=e,this.destination.next(o)}},t}(p.v);function Zn(e){return function(t){return t.lift(new Xn(e))}}var Xn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new Kn(e,this.notifier))},e}(),Kn=function(e){function t(t,n){var r=e.call(this,t)||this;r.hasValue=!1;var o=new i.zA(r);r.add(o),r.innerSubscription=o;var a=(0,i.tS)(n,o);return a!==o&&(r.add(a),r.innerSubscription=a),r}return r.C6(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(i.gn);function Jn(e){return function(t){return t.lift(new er(e))}}var er=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new tr(e,this.predicate))},e}(),tr=function(e){function t(t,n){var r=e.call(this,t)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r.C6(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}},t}(p.v);function nr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return(0,y.m)(n)?(e.pop(),function(t){return(0,W.x)(e,t,n)}):function(t){return(0,W.x)(e,t)}}var rr=n(1008),ir=n(6280),or=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=rr.I);var i=e.call(this)||this;return i.source=t,i.delayTime=n,i.scheduler=r,(!(0,ir.k)(n)||n<0)&&(i.delayTime=0),r&&"function"===typeof r.schedule||(i.scheduler=rr.I),i}return r.C6(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=rr.I),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(me.c);function ar(e,t){return void 0===t&&(t=0),function(n){return n.lift(new sr(e,t))}}var sr=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new or(t,this.delay,this.scheduler).subscribe(e)},e}();function lr(e,t){return"function"===typeof t?function(n){return n.pipe(lr(function(n,r){return(0,V.H)(e(n,r)).pipe((0,Xe.T)(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new ur(e))}}var ur=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new cr(e,this.project))},e}(),cr=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return r.C6(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new i.zA(this),r=this.destination;r.add(n),this.innerSubscription=(0,i.tS)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(i.gn);function fr(){return lr(ft.D)}function hr(e,t){return t?lr(function(){return e},t):lr(function(){return e})}function dr(e){return function(t){return t.lift(new pr(e))}}var pr=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new mr(e),r=(0,i.tS)(this.notifier,new i.zA(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n},e}(),mr=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return r.C6(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(i.gn);function vr(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new gr(e,t))}}var gr=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new br(e,this.predicate,this.inclusive))},e}(),br=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return r.C6(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(p.v),yr=n(1615),wr=n(1367);function xr(e,t,n){return function(r){return r.lift(new Sr(e,t,n))}}var Sr=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new _r(e,this.nextOrObserver,this.error,this.complete))},e}(),_r=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._tapNext=yr.l,o._tapError=yr.l,o._tapComplete=yr.l,o._tapError=r||yr.l,o._tapComplete=i||yr.l,(0,wr.T)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||yr.l,o._tapError=n.error||yr.l,o._tapComplete=n.complete||yr.l),o}return r.C6(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(p.v),kr={leading:!0,trailing:!1};function Cr(e,t){return void 0===t&&(t=kr),function(n){return n.lift(new Nr(e,!!t.leading,!!t.trailing))}}var Nr=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new Er(e,this.durationSelector,this.leading,this.trailing))},e}(),Er=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return r.C6(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=(0,i.tS)(t,new i.zA(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(t){return this.destination.error(t),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(i.gn);function Tr(e,t,n){return void 0===t&&(t=l.b),void 0===n&&(n=kr),function(r){return r.lift(new Mr(e,t,n.leading,n.trailing))}}var Mr=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new jr(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),jr=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.duration=n,a.scheduler=r,a.leading=i,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return r.C6(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Pr,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(p.v);function Pr(e){e.subscriber.clearThrottle()}var Ar=n(8438);function Dr(e){return void 0===e&&(e=l.b),function(t){return(0,Ar.v)(function(){return t.pipe(jt(function(t,n){var r=t.current;return{value:n,current:e.now(),last:r}},{current:e.now(),value:void 0,last:void 0}),(0,Xe.T)(function(e){var t=e.current,n=e.last,r=e.value;return new Fr(r,t-n)}))})}}var Fr=function(){return function(e,t){this.value=e,this.interval=t}}(),zr=n(4984);function Ir(e,t,n){return void 0===n&&(n=l.b),function(r){var i=ue(e),o=i?+e-n.now():Math.abs(e);return r.lift(new Or(o,i,t,n))}}var Or=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new Rr(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),Rr=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.absoluteTimeout=n,a.waitFor=r,a.withObservable=i,a.scheduler=o,a.scheduleTimeout(),a}return r.C6(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add((0,i.tS)(t,new i.zA(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(i.gn),Lr=n(8698);function Ur(e,t){return void 0===t&&(t=l.b),Ir(e,(0,Lr.$)(new zr.M),t)}function Br(e){return void 0===e&&(e=l.b),(0,Xe.T)(function(t){return new Vr(t,e.now())})}var Vr=function(){return function(e,t){this.value=e,this.timestamp=t}}();function Hr(e,t,n){return 0===n?[t]:(e.push(t),e)}function Wr(){return Ft(Hr,[])}function qr(e){return function(t){return t.lift(new Yr(e))}}var Yr=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new $r(e),r=t.subscribe(n);return r.closed||n.add((0,i.tS)(this.windowBoundaries,new i.zA(n))),r},e}(),$r=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new rn.B7,t.next(n.window),n}return r.C6(t,e),t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new rn.B7;t.next(n)},t}(i.gn);function Gr(e,t){return void 0===t&&(t=0),function(n){return n.lift(new Qr(e,t))}}var Qr=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new Zr(e,this.windowSize,this.startWindowEvery))},e}(),Zr=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.destination=t,i.windowSize=n,i.startWindowEvery=r,i.windows=[new rn.B7],i.count=0,t.next(i.windows[0]),i}return r.C6(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length,a=0;a<o&&!this.closed;a++)i[a].next(e);var s=this.count-r+1;if(s>=0&&s%t===0&&!this.closed&&i.shift().complete(),++this.count%t===0&&!this.closed){var l=new rn.B7;i.push(l),n.next(l)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(p.v);function Xr(e){var t=l.b,n=null,r=Number.POSITIVE_INFINITY;return(0,y.m)(arguments[3])&&(t=arguments[3]),(0,y.m)(arguments[2])?t=arguments[2]:(0,ir.k)(arguments[2])&&(r=Number(arguments[2])),(0,y.m)(arguments[1])?t=arguments[1]:(0,ir.k)(arguments[1])&&(n=Number(arguments[1])),function(i){return i.lift(new Kr(e,n,r,t))}}var Kr=function(){function e(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new ei(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),Jr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return r.C6(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(rn.B7),ei=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;a.destination=t,a.windowTimeSpan=n,a.windowCreationInterval=r,a.maxWindowSize=i,a.scheduler=o,a.windows=[];var s=a.openWindow();if(null!==r&&r>=0){var l={subscriber:a,window:s,context:null},u={windowTimeSpan:n,windowCreationInterval:r,subscriber:a,scheduler:o};a.add(o.schedule(ri,n,l)),a.add(o.schedule(ni,r,u))}else{var c={subscriber:a,window:s,windowTimeSpan:n};a.add(o.schedule(ti,n,c))}return a}return r.C6(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var i=t[r];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new Jr;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(p.v);function ti(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function ni(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,i=e.windowCreationInterval,o=n.openWindow(),a=this,s={action:a,subscription:null},l={subscriber:n,window:o,context:s};s.subscription=r.schedule(ri,t,l),a.add(s.subscription),a.schedule(e,i)}function ri(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}function ii(e,t){return function(n){return n.lift(new oi(e,t))}}var oi=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new ai(e,this.openings,this.closingSelector))},e}(),ai=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=(0,T.F)(i,n,n)),i}return r.C6(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,r=-1;++r<n;){var i=t[r];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,r,i){if(e===this.openings){var o=void 0;try{o=(0,this.closingSelector)(t)}catch(c){return this.error(c)}var a=new rn.B7,s=new E.y,l={window:a,subscription:s};this.contexts.push(l);var u=(0,T.F)(this,o,l);u.closed?this.closeWindow(this.contexts.length-1):(u.context=l,s.add(u)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],r=n.window,i=n.subscription;t.splice(e,1),r.complete(),i.unsubscribe()}},t}(M.E);function si(e){return function(t){return t.lift(new li(e))}}var li=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new ui(e,this.closingSelector))},e}(),ui=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.closingSelector=n,r.openWindow(),r}return r.C6(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow(i)},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,r=this.window=new rn.B7;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(i){return this.destination.error(i),void this.window.error(i)}this.add(this.closingNotification=(0,T.F)(this,n))},t}(M.E);function ci(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"===typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new fi(r,n))}}var fi=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new hi(e,this.observables,this.project))},e}(),hi=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.observables=n,i.project=r,i.toRespond=[];var o=n.length;i.values=new Array(o);for(var a=0;a<o;a++)i.toRespond.push(a);for(a=0;a<o;a++){var s=n[a];i.add((0,T.F)(i,s,void 0,a))}return i}return r.C6(t,e),t.prototype.notifyNext=function(e,t,n){this.values[n]=t;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(M.E),di=n(3013);function pi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(di.yU.apply(void 0,[t].concat(e)))}}function mi(e){return function(t){return t.lift(new di.ee(e))}}},3292(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3452),a=n(3203),s=n(6694),l=n(5484),u=n(6737);t.zipSamples=u.zipSamples;var c=n(2776);t.zipSamplesPpg=c.zipSamplesPpg,t.MUSE_SERVICE=65165;var f=["273e000f-4c4d-454d-96be-f03bac821358","273e0010-4c4d-454d-96be-f03bac821358","273e0011-4c4d-454d-96be-f03bac821358"];t.PPG_FREQUENCY=64,t.PPG_SAMPLES_PER_READING=6;var h=["273e0003-4c4d-454d-96be-f03bac821358","273e0004-4c4d-454d-96be-f03bac821358","273e0005-4c4d-454d-96be-f03bac821358","273e0006-4c4d-454d-96be-f03bac821358","273e0007-4c4d-454d-96be-f03bac821358"];t.EEG_FREQUENCY=256,t.EEG_SAMPLES_PER_READING=12,t.ppgChannelNames=["ambient","infrared","red"],t.channelNames=["TP9","AF7","AF8","TP10","AUX"];var d=function(){function e(){this.enableAux=!1,this.enablePpg=!1,this.deviceName="",this.connectionStatus=new o.BehaviorSubject(!1),this.gatt=null,this.lastIndex=null,this.lastTimestamp=null}return e.prototype.connect=function(e){return r(this,void 0,void 0,function(){var n,r,u,c,d,p,m,v,g,b,y,w,x,S,_,k,C,N,E,T,M,j=this;return i(this,function(P){switch(P.label){case 0:return e?(this.gatt=e,[3,4]):[3,1];case 1:return[4,navigator.bluetooth.requestDevice({filters:[{services:[t.MUSE_SERVICE]}]})];case 2:return n=P.sent(),r=this,[4,n.gatt.connect()];case 3:r.gatt=P.sent(),P.label=4;case 4:return this.deviceName=this.gatt.device.name||null,[4,this.gatt.getPrimaryService(t.MUSE_SERVICE)];case 5:return u=P.sent(),o.fromEvent(this.gatt.device,"gattserverdisconnected").pipe(a.first()).subscribe(function(){j.gatt=null,j.connectionStatus.next(!1)}),c=this,[4,u.getCharacteristic("273e0001-4c4d-454d-96be-f03bac821358")];case 6:return c.controlChar=P.sent(),d=this,[4,l.observableCharacteristic(this.controlChar)];case 7:return d.rawControlData=P.sent().pipe(a.map(function(e){return l.decodeResponse(new Uint8Array(e.buffer))}),a.share()),this.controlResponses=s.parseControl(this.rawControlData),[4,u.getCharacteristic("273e000b-4c4d-454d-96be-f03bac821358")];case 8:return p=P.sent(),m=this,[4,l.observableCharacteristic(p)];case 9:return m.telemetryData=P.sent().pipe(a.map(s.parseTelemetry)),[4,u.getCharacteristic("273e0009-4c4d-454d-96be-f03bac821358")];case 10:return v=P.sent(),g=this,[4,l.observableCharacteristic(v)];case 11:return g.gyroscopeData=P.sent().pipe(a.map(s.parseGyroscope)),[4,u.getCharacteristic("273e000a-4c4d-454d-96be-f03bac821358")];case 12:return b=P.sent(),y=this,[4,l.observableCharacteristic(b)];case 13:if(y.accelerometerData=P.sent().pipe(a.map(s.parseAccelerometer)),this.eventMarkers=new o.Subject,!this.enablePpg)return[3,18];this.ppgCharacteristics=[],w=[],x=f.length,S=function(e){var n,r,o,c;return i(this,function(i){switch(i.label){case 0:return n=f[e],[4,u.getCharacteristic(n)];case 1:return r=i.sent(),c=(o=w).push,[4,l.observableCharacteristic(r)];case 2:return c.apply(o,[i.sent().pipe(a.map(function(n){var r=n.getUint16(0);return{index:r,ppgChannel:e,samples:s.decodePPGSamples(new Uint8Array(n.buffer).subarray(2)),timestamp:j.getTimestamp(r,t.PPG_SAMPLES_PER_READING,t.PPG_FREQUENCY)}}))]),_.ppgCharacteristics.push(r),[2]}})},_=this,k=0,P.label=14;case 14:return k<x?[5,S(k)]:[3,17];case 15:P.sent(),P.label=16;case 16:return k++,[3,14];case 17:this.ppgReadings=o.merge.apply(void 0,w),P.label=18;case 18:this.eegCharacteristics=[],C=[],N=this.enableAux?h.length:4,E=function(e){var n,r,o,c;return i(this,function(i){switch(i.label){case 0:return n=h[e],[4,u.getCharacteristic(n)];case 1:return r=i.sent(),c=(o=C).push,[4,l.observableCharacteristic(r)];case 2:return c.apply(o,[i.sent().pipe(a.map(function(n){var r=n.getUint16(0);return{electrode:e,index:r,samples:s.decodeEEGSamples(new Uint8Array(n.buffer).subarray(2)),timestamp:j.getTimestamp(r,t.EEG_SAMPLES_PER_READING,t.EEG_FREQUENCY)}}))]),T.eegCharacteristics.push(r),[2]}})},T=this,M=0,P.label=19;case 19:return M<N?[5,E(M)]:[3,22];case 20:P.sent(),P.label=21;case 21:return M++,[3,19];case 22:return this.eegReadings=o.merge.apply(void 0,C),this.connectionStatus.next(!0),[2]}})})},e.prototype.sendCommand=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.controlChar.writeValue(l.encodeCommand(e))];case 1:return t.sent(),[2]}})})},e.prototype.start=function(){return r(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,this.pause()];case 1:return t.sent(),e="p21",this.enablePpg?e="p50":this.enableAux&&(e="p20"),[4,this.controlChar.writeValue(l.encodeCommand(e))];case 2:return t.sent(),[4,this.controlChar.writeValue(l.encodeCommand("s"))];case 3:return t.sent(),[4,this.resume()];case 4:return t.sent(),[2]}})})},e.prototype.pause=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.sendCommand("h")];case 1:return e.sent(),[2]}})})},e.prototype.resume=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.sendCommand("d")];case 1:return e.sent(),[2]}})})},e.prototype.deviceInfo=function(){return r(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return e=this.controlResponses.pipe(a.filter(function(e){return!!e.fw}),a.take(1)).toPromise(),[4,this.sendCommand("v1")];case 1:return t.sent(),[2,e]}})})},e.prototype.injectMarker=function(e,t){return void 0===t&&(t=(new Date).getTime()),r(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,this.eventMarkers.next({value:e,timestamp:t})];case 1:return n.sent(),[2]}})})},e.prototype.disconnect=function(){this.gatt&&(this.lastIndex=null,this.lastTimestamp=null,this.gatt.disconnect(),this.connectionStatus.next(!1))},e.prototype.getTimestamp=function(e,t,n){var r=1/n*1e3*t;for(null!==this.lastIndex&&null!==this.lastTimestamp||(this.lastIndex=e,this.lastTimestamp=(new Date).getTime()-r);this.lastIndex-e>4096;)e+=65536;return e===this.lastIndex?this.lastTimestamp:e>this.lastIndex?(this.lastTimestamp+=r*(e-this.lastIndex),this.lastIndex=e,this.lastTimestamp):this.lastTimestamp-r*(this.lastIndex-e)},e}();t.MuseClient=d},3370(e,t,n){"use strict";n.d(t,{h:()=>s});var r=n(8851),i=n(2414),o=n(9149),a=n(251);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,s=null,l=e[e.length-1];return(0,i.m)(l)?(s=e.pop(),e.length>1&&"number"===typeof e[e.length-1]&&(n=e.pop())):"number"===typeof l&&(n=e.pop()),null===s&&1===e.length&&e[0]instanceof r.c?e[0]:(0,o.U)(n)((0,a.c)(e,s))}},3412(e,t,n){"use strict";n.d(t,{h:()=>a});var r=n(6882),i=n(8770),o=n(8297),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return r.C6(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.y.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.y.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i.B7)},3452(e,t,n){"use strict";n.r(t),n.d(t,{ArgumentOutOfRangeError:()=>P.k,AsyncSubject:()=>c.h,BehaviorSubject:()=>l.t,ConnectableObservable:()=>i.G,EMPTY:()=>Z.w,EmptyError:()=>A.G,GroupedObservable:()=>o.k,NEVER:()=>he,Notification:()=>N.E,NotificationKind:()=>N.I,ObjectUnsubscribedError:()=>D.P,Observable:()=>r.c,ReplaySubject:()=>u.m,Scheduler:()=>_._,Subject:()=>s.B7,Subscriber:()=>C.v,Subscription:()=>k.y,TimeoutError:()=>z.M,UnsubscriptionError:()=>F.Z,VirtualAction:()=>S,VirtualTimeScheduler:()=>x,animationFrame:()=>w,animationFrameScheduler:()=>y,asap:()=>f.I,asapScheduler:()=>f.$,async:()=>h.b,asyncScheduler:()=>h.E,bindCallback:()=>U,bindNodeCallback:()=>H,combineLatest:()=>$.zV,concat:()=>G.x,config:()=>je.$,defer:()=>Q.v,empty:()=>Z.I,forkJoin:()=>J,from:()=>K.H,fromEvent:()=>ne,fromEventPattern:()=>ie,generate:()=>oe,identity:()=>M.D,iif:()=>se,interval:()=>ue,isObservable:()=>j,merge:()=>fe.h,never:()=>de,noop:()=>T.l,observable:()=>a.s,of:()=>pe.of,onErrorResumeNext:()=>me,pairs:()=>ve,partition:()=>xe,pipe:()=>E.F,queue:()=>d.g,queueScheduler:()=>d.T,race:()=>Se.O4,range:()=>_e,scheduled:()=>Me.c,throwError:()=>Ce.$,timer:()=>Ne.O,using:()=>Ee,zip:()=>Te.yU});var r=n(8851),i=n(2113),o=n(6458),a=n(1638),s=n(8770),l=n(8300),u=n(7091),c=n(3412),f=n(1008),h=n(164),d=n(5738),p=n(6882),m=n(85),v=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return p.C6(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(m.R),g=n(3571),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p.C6(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(g.q),y=new b(v),w=y,x=function(e){function t(t,n){void 0===t&&(t=S),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,function(){return r.frame})||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return p.C6(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(g.q),S=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return p.C6(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(m.R),_=n(2511),k=n(8297),C=n(230),N=n(7251),E=n(3843),T=n(1615),M=n(5973);function j(e){return!!e&&(e instanceof r.c||"function"===typeof e.lift&&"function"===typeof e.subscribe)}var P=n(9854),A=n(9878),D=n(2413),F=n(7167),z=n(4984),I=n(1090),O=n(4593),R=n(8342),L=n(2414);function U(e,t,n){if(t){if(!(0,L.m)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return U(e,n).apply(void 0,r).pipe((0,I.T)(function(e){return(0,R.c)(e)?t.apply(void 0,e):t(e)}))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o,a=this,s={context:a,subject:o,callbackFunc:e,scheduler:n};return new r.c(function(r){if(n){var i={args:t,subscriber:r,params:s};return n.schedule(B,0,i)}if(!o){o=new c.h;try{e.apply(a,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.next(e.length<=1?e[0]:e),o.complete()}]))}catch(l){(0,O.H)(o)?o.error(l):console.warn(l)}}return o.subscribe(r)})}}function B(e){var t=this,n=e.args,r=e.subscriber,i=e.params,o=i.callbackFunc,a=i.context,s=i.scheduler,l=i.subject;if(!l){l=i.subject=new c.h;try{o.apply(a,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(s.schedule(V,0,{value:r,subject:l}))}]))}catch(u){l.error(u)}}this.add(l.subscribe(r))}function V(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function H(e,t,n){if(t){if(!(0,L.m)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return H(e,n).apply(void 0,r).pipe((0,I.T)(function(e){return(0,R.c)(e)?t.apply(void 0,e):t(e)}))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new r.c(function(r){var i=o.context,a=o.subject;if(n)return n.schedule(W,0,{params:o,subscriber:r,context:i});if(!a){a=o.subject=new c.h;try{e.apply(i,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?a.error(n):(a.next(e.length<=1?e[0]:e),a.complete())}]))}catch(s){(0,O.H)(a)?a.error(s):console.warn(s)}}return a.subscribe(r)})}}function W(e){var t=this,n=e.params,r=e.subscriber,i=e.context,o=n.callbackFunc,a=n.args,s=n.scheduler,l=n.subject;if(!l){l=n.subject=new c.h;try{o.apply(i,a.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(s.schedule(Y,0,{err:r,subject:l}));else{var i=e.length<=1?e[0]:e;t.add(s.schedule(q,0,{value:i,subject:l}))}}]))}catch(u){this.add(s.schedule(Y,0,{err:u,subject:l}))}}this.add(l.subscribe(r))}function q(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function Y(e){var t=e.err;e.subject.error(t)}var $=n(1068),G=n(5296),Q=n(8438),Z=n(6471),X=n(5500),K=n(236);function J(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if((0,R.c)(n))return ee(n,null);if((0,X.G)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return ee(r.map(function(e){return n[e]}),r)}}if("function"===typeof e[e.length-1]){var i=e.pop();return ee(e=1===e.length&&(0,R.c)(e[0])?e[0]:e,null).pipe((0,I.T)(function(e){return i.apply(void 0,e)}))}return ee(e,null)}function ee(e,t){return new r.c(function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var l=(0,K.H)(e[s]),u=!1;n.add(l.subscribe({next:function(e){u||(u=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&u||(a===r&&n.next(t?t.reduce(function(e,t,n){return e[t]=i[n],e},{}):i),n.complete())}}))},l=0;l<r;l++)s(l);else n.complete()})}var te=n(1367);function ne(e,t,n,i){return(0,te.T)(n)&&(i=n,n=void 0),i?ne(e,t,n).pipe((0,I.T)(function(e){return(0,R.c)(e)?i.apply(void 0,e):i(e)})):new r.c(function(r){re(e,t,function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)},r,n)})}function re(e,t,n,r,i){var o;if(function(e){return e&&"function"===typeof e.addEventListener&&"function"===typeof e.removeEventListener}(e)){var a=e;e.addEventListener(t,n,i),o=function(){return a.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"===typeof e.on&&"function"===typeof e.off}(e)){var s=e;e.on(t,n),o=function(){return s.off(t,n)}}else if(function(e){return e&&"function"===typeof e.addListener&&"function"===typeof e.removeListener}(e)){var l=e;e.addListener(t,n),o=function(){return l.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var u=0,c=e.length;u<c;u++)re(e[u],t,n,r,i)}r.add(o)}function ie(e,t,n){return n?ie(e,t).pipe((0,I.T)(function(e){return(0,R.c)(e)?n.apply(void 0,e):n(e)})):new r.c(function(n){var r,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(i)}catch(o){return void n.error(o)}if((0,te.T)(t))return function(){return t(i,r)}})}function oe(e,t,n,i,o){var a,s;if(1==arguments.length){var l=e;s=l.initialState,t=l.condition,n=l.iterate,a=l.resultSelector||M.D,o=l.scheduler}else void 0===i||(0,L.m)(i)?(s=e,a=M.D,o=i):(s=e,a=i);return new r.c(function(e){var r=s;if(o)return o.schedule(ae,0,{subscriber:e,iterate:n,condition:t,resultSelector:a,state:r});for(;;){if(t){var i=void 0;try{i=t(r)}catch(u){return void e.error(u)}if(!i){e.complete();break}}var l=void 0;try{l=a(r)}catch(u){return void e.error(u)}if(e.next(l),e.closed)break;try{r=n(r)}catch(u){return void e.error(u)}}})}function ae(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(o){return void t.error(o)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(o){return void t.error(o)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(o){return void t.error(o)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function se(e,t,n){return void 0===t&&(t=Z.w),void 0===n&&(n=Z.w),(0,Q.v)(function(){return e()?t:n})}var le=n(6280);function ue(e,t){return void 0===e&&(e=0),void 0===t&&(t=h.b),(!(0,le.k)(e)||e<0)&&(e=0),t&&"function"===typeof t.schedule||(t=h.b),new r.c(function(n){return n.add(t.schedule(ce,e,{subscriber:n,counter:0,period:e})),n})}function ce(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var fe=n(3370),he=new r.c(T.l);function de(){return he}var pe=n(5209);function me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return Z.w;var n=e[0],i=e.slice(1);return 1===e.length&&(0,R.c)(n)?me.apply(void 0,n):new r.c(function(e){var t=function(){return e.add(me.apply(void 0,i).subscribe(e))};return(0,K.H)(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})})}function ve(e,t){return t?new r.c(function(n){var r=Object.keys(e),i=new k.y;return i.add(t.schedule(ge,0,{keys:r,index:0,subscriber:n,subscription:i,obj:e})),i}):new r.c(function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()})}function ge(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var a=t[n];r.next([a,o[a]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}var be=n(4002),ye=n(5157),we=n(1820);function xe(e,t,n){return[(0,we.p)(t,n)(new r.c((0,ye.i)(e))),(0,we.p)((0,be.A)(t,n))(new r.c((0,ye.i)(e)))]}var Se=n(4617);function _e(e,t,n){return void 0===e&&(e=0),new r.c(function(r){void 0===t&&(t=e,e=0);var i=0,o=e;if(n)return n.schedule(ke,0,{index:i,count:t,start:e,subscriber:r});for(;;){if(i++>=t){r.complete();break}if(r.next(o++),r.closed)break}})}function ke(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}var Ce=n(8698),Ne=n(8063);function Ee(e,t){return new r.c(function(n){var r,i;try{r=e()}catch(a){return void n.error(a)}try{i=t(r)}catch(a){return void n.error(a)}var o=(i?(0,K.H)(i):Z.w).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}})}var Te=n(3013),Me=n(6120),je=n(578)},3571(e,t,n){"use strict";n.d(t,{q:()=>o});var r=n(6882),i=n(2511),o=function(e){function t(n,r){void 0===r&&(r=i._.now);var o=e.call(this,n,function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.C6(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i._)},3617(e,t,n){"use strict";function r(e){setTimeout(function(){throw e},0)}n.d(t,{T:()=>r})},3737(e,t,n){"use strict";function r(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{lJ:()=>i});var i=r()},3754(e,t,n){"use strict";n.d(t,{B:()=>o});var r=n(6882),i=n(230);function o(){return function(e){return e.lift(new a(e))}}var a=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new s(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.C6(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(i.v)},3769(e,t,n){var r=n(8298).fft;e.exports={ifft:function(e){for(var t=[],n=0;n<e.length;n++)t[n]=[e[n][1],e[n][0]];for(var i=r(t),o=[],a=0;a<i.length;a++)o[a]=[i[a][1]/i.length,i[a][0]/i.length];return o}}},3843(e,t,n){"use strict";n.d(t,{F:()=>i,m:()=>o});var r=n(5973);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return 0===e.length?r.D:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}},4002(e,t,n){"use strict";function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,{A:()=>r})},4414(e,t,n){"use strict";e.exports=n(2654)},4593(e,t,n){"use strict";n.d(t,{H:()=>i});var r=n(230);function i(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.v?i:null}return!0}},4617(e,t,n){"use strict";n.d(t,{O4:()=>l});var r=n(6882),i=n(8342),o=n(251),a=n(8535),s=n(6790);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!(0,i.c)(e[0]))return e[0];e=e[0]}return(0,o.c)(e,void 0).lift(new u)}var u=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new c(e))},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.C6(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=(0,s.F)(this,r,void 0,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(t)},t}(a.E)},4710(e,t,n){var r=n(4806),i={};e.exports={fftMag:function(e){var t=e.map(r.magnitude);return t.slice(0,t.length/2)},fftFreq:function(e,t){var n=t/e.length;return e.slice(0,e.length/2).map(function(e,t){return t*n})},exponent:function(e,t){var n=-2*Math.PI*(e/t);return i[t]=i[t]||{},i[t][e]=i[t][e]||[Math.cos(n),Math.sin(n)],i[t][e]}}},4806(e){e.exports={add:function(e,t){return[e[0]+t[0],e[1]+t[1]]},subtract:function(e,t){return[e[0]-t[0],e[1]-t[1]]},multiply:function(e,t){return[e[0]*t[0]-e[1]*t[1],e[0]*t[1]+e[1]*t[0]]},magnitude:function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}}},4907(e,t,n){"use strict";n.d(t,{K:()=>i});var r=n(9149);function i(){return(0,r.U)(1)}},4984(e,t,n){"use strict";n.d(t,{M:()=>r});var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},5157(e,t,n){"use strict";n.d(t,{i:()=>c});var r=n(7557),i=n(3617),o=n(3737),a=n(1638),s=n(8481),l=n(658),u=n(5500),c=function(e){if(e&&"function"===typeof e[a.s])return c=e,function(e){var t=c[a.s]();if("function"!==typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,s.X)(e))return(0,r.v)(e);if((0,l.y)(e))return n=e,function(e){return n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,i.T),e};if(e&&"function"===typeof e[o.lJ])return t=e,function(e){for(var n=t[o.lJ]();;){var r=void 0;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"===typeof n.return&&e.add(function(){n.return&&n.return()}),e};var t,n,c,f=(0,u.G)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+f+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},5209(e,t,n){"use strict";n.d(t,{of:()=>a});var r=n(2414),i=n(251),o=n(5508);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return(0,r.m)(n)?(e.pop(),(0,o.V)(e,n)):(0,i.c)(e)}},5296(e,t,n){"use strict";n.d(t,{x:()=>o});var r=n(5209),i=n(4907);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.K)()(r.of.apply(void 0,e))}},5340(e,t,n){"use strict";e.exports=n(1761)},5344(e,t,n){var r=n(4806),i=n(4710);e.exports=function(e){for(var t=[],n=e.length,o=0;o<n;o++){t[o]=[0,0];for(var a=0;a<n;a++){var s,l=i.exponent(o*a,n);s=Array.isArray(e[a])?r.multiply(e[a],l):r.multiply([e[a],0],l),t[o]=r.add(t[o],s)}}return t}},5484(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3452),a=n(3203);t.decodeResponse=function(e){return(new TextDecoder).decode(e.subarray(1,1+e[0]))},t.encodeCommand=function(e){var t=(new TextEncoder).encode("X"+e+"\n");return t[0]=t.length-1,t},t.observableCharacteristic=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,e.startNotifications()];case 1:return n.sent(),t=o.fromEvent(e.service.device,"gattserverdisconnected"),[2,o.fromEvent(e,"characteristicvaluechanged").pipe(a.takeUntil(t),a.map(function(e){return e.target.value}))]}})})}},5500(e,t,n){"use strict";function r(e){return null!==e&&"object"===typeof e}n.d(t,{G:()=>r})},5508(e,t,n){"use strict";n.d(t,{V:()=>o});var r=n(8851),i=n(8297);function o(e,t){return new r.c(function(n){var r=new i.y,o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},5738(e,t,n){"use strict";n.d(t,{g:()=>s,T:()=>a});var r=n(6882),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.C6(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(85).R),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.C6(t,e),t}(n(3571).q),a=new o(i),s=a},5812(e,t,n){"use strict";n.d(t,{ZZ:()=>s,qI:()=>c});var r=n(6882),i=n(1090),o=n(236),a=n(3056);function s(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"===typeof t?function(r){return r.pipe(s(function(n,r){return(0,o.H)(e(n,r)).pipe((0,i.T)(function(e,i){return t(n,e,r,i)}))},n))}:("number"===typeof t&&(n=t),function(t){return t.lift(new l(e,n))})}var l=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.concurrent))},e}(),u=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.C6(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new a.zA(this),n=this.destination;n.add(t);var r=(0,a.tS)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(a.gn),c=s},5973(e,t,n){"use strict";function r(e){return e}n.d(t,{D:()=>r})},6120(e,t,n){"use strict";n.d(t,{c:()=>c});var r=n(8851),i=n(8297),o=n(1638);var a=n(5508),s=n(3737);var l=n(658),u=n(8481);function c(e,t){if(null!=e){if(function(e){return e&&"function"===typeof e[o.s]}(e))return function(e,t){return new r.c(function(n){var r=new i.y;return r.add(t.schedule(function(){var i=e[o.s]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}(e,t);if((0,l.y)(e))return function(e,t){return new r.c(function(n){var r=new i.y;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r})}(e,t);if((0,u.X)(e))return(0,a.V)(e,t);if(function(e){return e&&"function"===typeof e[s.lJ]}(e)||"string"===typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.c(function(n){var r,o=new i.y;return o.add(function(){r&&"function"===typeof r.return&&r.return()}),o.add(t.schedule(function(){r=e[s.lJ](),o.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}}))})),o})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},6255(e,t,n){"use strict";n.d(t,{D:()=>r});var r=function(){return"function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},6280(e,t,n){"use strict";n.d(t,{k:()=>i});var r=n(8342);function i(e){return!(0,r.c)(e)&&e-parseFloat(e)+1>=0}},6458(e,t,n){"use strict";n.d(t,{$:()=>l,k:()=>h});var r=n(6882),i=n(230),o=n(8297),a=n(8851),s=n(8770);function l(e,t,n,r){return function(i){return i.lift(new u(e,t,n,r))}}var u=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),c=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.keySelector=n,a.elementSelector=r,a.durationSelector=i,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return r.C6(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(n){return void this.error(n)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(l){this.error(l)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new s.B7,n.set(t,i);var o=new h(t,i,this);if(this.destination.next(o),this.durationSelector){var a=void 0;try{a=this.durationSelector(new h(t,i))}catch(l){return void this.error(l)}this.add(a.subscribe(new f(t,i,this)))}}i.closed||i.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach(function(t,n){t.error(e)}),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(i.v),f=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return r.C6(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(i.v),h=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return r.C6(t,e),t.prototype._subscribe=function(e){var t=new o.y,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new d(n)),t.add(r.subscribe(e)),t},t}(a.c),d=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r.C6(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.y)},6471(e,t,n){"use strict";n.d(t,{I:()=>o,w:()=>i});var r=n(8851),i=new r.c(function(e){return e.complete()});function o(e){return e?function(e){return new r.c(function(t){return e.schedule(function(){return t.complete()})})}(e):i}},6694(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3203);function i(e){for(var t=[],n=0;n<e.length;n++)n%3===0?t.push(e[n]<<4|e[n+1]>>4):(t.push((15&e[n])<<8|e[n+1]),n++);return t}function o(e){for(var t=[],n=0;n<e.length;n+=3)t.push(e[n]<<16|e[n+1]<<8|e[n+2]);return t}function a(e,t){function n(n){return{x:t*e.getInt16(n),y:t*e.getInt16(n+2),z:t*e.getInt16(n+4)}}return{sequenceId:e.getUint16(0),samples:[n(2),n(8),n(14)]}}t.parseControl=function(e){return e.pipe(r.concatMap(function(e){return e.split("")}),r.scan(function(e,t){return e.indexOf("}")>=0?t:e+t},""),r.filter(function(e){return e.indexOf("}")>=0}),r.map(function(e){return JSON.parse(e)}))},t.decodeUnsigned12BitData=i,t.decodeUnsigned24BitData=o,t.decodeEEGSamples=function(e){return i(e).map(function(e){return.48828125*(e-2048)})},t.decodePPGSamples=function(e){return o(e)},t.parseTelemetry=function(e){return{sequenceId:e.getUint16(0),batteryLevel:e.getUint16(2)/512,fuelGaugeVoltage:2.2*e.getUint16(4),temperature:e.getUint16(8)}},t.parseAccelerometer=function(e){return a(e,610352e-10)},t.parseGyroscope=function(e){return a(e,.0074768)}},6737(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3452),i=n(3203),o=n(3292);t.zipSamples=function(e){var t=[],n=null;return e.pipe(i.mergeMap(function(e){if(e.timestamp!==n&&(n=e.timestamp,t.length)){var i=r.from([t.slice()]);return t.splice(0,t.length,e),i}return t.push(e),r.from([])}),i.concat(r.from([t])),i.mergeMap(function(e){var t=e[0].samples.map(function(t,n){for(var r=[NaN,NaN,NaN,NaN,NaN],i=0,a=e;i<a.length;i++){var s=a[i];r[s.electrode]=s.samples[n]}return{data:r,index:e[0].index,timestamp:e[0].timestamp+1e3*n/o.EEG_FREQUENCY}});return r.from(t)}))}},6790(e,t,n){"use strict";n.d(t,{F:()=>s});var r=n(6882),i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.C6(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(230).v),o=n(5157),a=n(8851);function s(e,t,n,r,s){if(void 0===s&&(s=new i(e,n,r)),!s.closed)return t instanceof a.c?t.subscribe(s):(0,o.i)(t)(s)}},6882(e,t,n){"use strict";n.d(t,{C6:()=>i});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},7091(e,t,n){"use strict";n.d(t,{m:()=>c});var r=n(6882),i=n(8770),o=n(5738),a=n(8297),s=n(7389),l=n(2413),u=n(439),c=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.C6(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new f(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new l.P;if(this.isStopped||this.hasError?t=a.y.EMPTY:(this.observers.push(e),t=new u.Y(this,e)),i&&e.add(e=new s.YZ(e,i)),n)for(var c=0;c<o&&!e.closed;c++)e.next(r[c]);else for(c=0;c<o&&!e.closed;c++)e.next(r[c].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.g).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i.B7),f=function(){return function(e,t){this.time=e,this.value=t}}()},7119(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8345)},7167(e,t,n){"use strict";n.d(t,{Z:()=>r});var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},7223(e,t,n){e.exports={fft:n(8298).fft,ifft:n(3769).ifft,fftInPlace:n(8298).fftInPlace,util:n(4710),dft:n(5344),idft:n(8103)}},7251(e,t,n){"use strict";n.d(t,{E:()=>s,I:()=>r});var r,i=n(6471),o=n(5209),a=n(8698);r||(r={});var s=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"===typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return(0,a.$)(this.error);case"C":return(0,i.I)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return"undefined"!==typeof t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},7389(e,t,n){"use strict";n.d(t,{QE:()=>a,YZ:()=>l});var r=n(6882),i=n(230),o=n(7251);function a(e,t){return void 0===t&&(t=0),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))},e}(),l=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return r.C6(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new u(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o.E.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o.E.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(o.E.createComplete()),this.unsubscribe()},t}(i.v),u=function(){return function(e,t){this.notification=e,this.destination=t}}()},7557(e,t,n){"use strict";n.d(t,{v:()=>r});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},8063(e,t,n){"use strict";n.d(t,{O:()=>s});var r=n(8851),i=n(164),o=n(6280),a=n(2414);function s(e,t,n){void 0===e&&(e=0);var s=-1;return(0,o.k)(t)?s=Number(t)<1?1:Number(t):(0,a.m)(t)&&(n=t),(0,a.m)(n)||(n=i.b),new r.c(function(t){var r=(0,o.k)(e)?e:+e-n.now();return n.schedule(l,r,{index:0,period:s,subscriber:t})})}function l(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},8103(e,t,n){var r=n(5344);e.exports=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=[e[n][1],e[n][0]];for(var i=r(t),o=[],a=0;a<i.length;a++)o[a]=[i[a][1]/i.length,i[a][0]/i.length];return o}},8297(e,t,n){"use strict";n.d(t,{y:()=>s});var r=n(8342),i=n(5500),o=n(1367),a=n(7167),s=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,s=n._parentOrParents,u=n._ctorUnsubscribe,c=n._unsubscribe,f=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,s instanceof e)s.remove(this);else if(null!==s)for(var h=0;h<s.length;++h){s[h].remove(this)}if((0,o.T)(c)){u&&(this._unsubscribe=void 0);try{c.call(this)}catch(m){t=m instanceof a.Z?l(m.errors):[m]}}if((0,r.c)(f)){h=-1;for(var d=f.length;++h<d;){var p=f[h];if((0,i.G)(p))try{p.unsubscribe()}catch(m){t=t||[],m instanceof a.Z?t=t.concat(l(m.errors)):t.push(m)}}}if(t)throw new a.Z(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!==typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){return e.reduce(function(e,t){return e.concat(t instanceof a.Z?t.errors:t)},[])}},8298(e,t,n){var r=n(4806),i=n(4710),o=n(8591);e.exports={fft:function e(t){var n=[],o=t.length;if(1==o)return Array.isArray(t[0])?[[t[0][0],t[0][1]]]:[[t[0],0]];for(var a=e(t.filter(function(e,t){return t%2==0})),s=e(t.filter(function(e,t){return t%2==1})),l=0;l<o/2;l++){var u=a[l],c=r.multiply(i.exponent(l,o),s[l]);n[l]=r.add(u,c),n[l+o/2]=r.subtract(u,c)}return n},fftInPlace:function(e){for(var t=e.length,n=o.countTrailingZeros(t),a=0;a<t;a++){var s=o.reverse(a)>>>o.INT_BITS-n;if(s>a){var l=[e[a],0];e[a]=e[s],e[s]=l}else e[s]=[e[s],0]}for(var u=2;u<=t;u+=u)for(var c=0;c<u/2;c++)for(var f=i.exponent(c,u),h=0;h<t/u;h++){var d=r.multiply(f,e[h*u+c+u/2]);e[h*u+c+u/2]=r.subtract(e[h*u+c],d),e[h*u+c]=r.add(e[h*u+c],d)}}}},8300(e,t,n){"use strict";n.d(t,{t:()=>a});var r=n(6882),i=n(8770),o=n(2413),a=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r.C6(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.P;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.B7)},8342(e,t,n){"use strict";n.d(t,{c:()=>r});var r=function(){return Array.isArray||function(e){return e&&"number"===typeof e.length}}()},8345(e,t,n){"use strict";var r=n(9950),i=n(5340);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,b);v[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,b);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,b);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var I,O=Object.assign;function R(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var L=!1;function U(e,t){if(!e||L)return"";L=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{L=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?R(e):""}function B(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case C:return"Profiler";case k:return"StrictMode";case M:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function K(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]})});var ge=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,ke=null;function Ce(e){if(e=yi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Se(e.stateNode,e.type,t))}}function Ne(e){_e?ke?ke.push(e):ke=[e]:_e=e}function Ee(){if(_e){var e=_e,t=ke;if(ke=_e=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Me(){}var je=!1;function Pe(e,t,n){if(je)return e(t,n);je=!0;try{return Te(e,t,n)}finally{je=!1,(null!==_e||null!==ke)&&(Me(),Ee())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(c)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(ce){De=!1}function ze(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ie=!1,Oe=null,Re=!1,Le=null,Ue={onError:function(e){Ie=!0,Oe=e}};function Be(e,t,n,r,i,o,a,s,l){Ie=!1,Oe=null,ze.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var $e=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ze=i.unstable_requestPaint,Xe=i.unstable_now,Ke=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ft(s):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,_t,kt,Ct,Nt=!1,Et=[],Tt=null,Mt=null,jt=null,Pt=new Map,At=new Map,Dt=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function It(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ot(e){var t=bi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Lt(e,t,n){Rt(e)&&n.delete(t)}function Ut(){Nt=!1,null!==Tt&&Rt(Tt)&&(Tt=null),null!==Mt&&Rt(Mt)&&(Mt=null),null!==jt&&Rt(jt)&&(jt=null),Pt.forEach(Lt),At.forEach(Lt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return Bt(t,e)}if(0<Et.length){Bt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==Mt&&Bt(Mt,e),null!==jt&&Bt(jt,e),Pt.forEach(t),At.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ot(n),null===n.blockedOn&&Dt.shift()}var Ht=w.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var i=yt,o=Ht.transition;Ht.transition=null;try{yt=1,$t(e,t,n,r)}finally{yt=i,Ht.transition=o}}function Yt(e,t,n,r){var i=yt,o=Ht.transition;Ht.transition=null;try{yt=4,$t(e,t,n,r)}finally{yt=i,Ht.transition=o}}function $t(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,Gt,n),zt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=It(Tt,e,t,n,r,i),!0;case"dragenter":return Mt=It(Mt,e,t,n,r,i),!0;case"mouseover":return jt=It(jt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,It(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,At.set(o,It(At.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(zt(e,r),4&t&&-1<Ft.indexOf(e)){for(;null!==i;){var o=yi(i);if(null!==o&&xt(o),null===(o=Qt(e,t,n,r))&&Wr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=bi(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Kt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Kt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),fn=O({},un,{view:0,detail:0}),hn=on(fn),dn=O({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),mn=on(O({},dn,{dataTransfer:0})),vn=on(O({},fn,{relatedTarget:0})),gn=on(O({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=O({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=on(bn),wn=on(O({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Cn(){return kn}var Nn=O({},fn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=on(Nn),Tn=on(O({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=on(O({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),jn=on(O({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=O({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(Pn),Dn=[9,13,27,32],Fn=c&&"CompositionEvent"in window,zn=null;c&&"documentMode"in document&&(zn=document.documentMode);var In=c&&"TextEvent"in window&&!zn,On=c&&(!Fn||zn&&8<zn&&11>=zn),Rn=String.fromCharCode(32),Ln=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Ne(r),0<(t=Yr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function Gn(e){Rr(e,0)}function Qn(e){if($(wi(e)))return e}function Zn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Kn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Kn=Jn}else Kn=!1;Xn=Kn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),$n=Yn=null)}function nr(e){if("value"===e.propertyName&&Qn($n)){var t=[];qn(t,$n,e,xe(e)),Pe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn($n)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,br=null,yr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==vr||vr!==G(r)||("selectionStart"in(r=vr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Yr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},_r={},kr={};function Cr(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return _r[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Nr=Cr("animationend"),Er=Cr("animationiteration"),Tr=Cr("animationstart"),Mr=Cr("transitionend"),jr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){jr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Fr=Pr[Dr];Ar(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}Ar(Nr,"onAnimationEnd"),Ar(Er,"onAnimationIteration"),Ar(Tr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Mr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(zr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,u){if(Be.apply(this,arguments),Ie){if(!Ie)throw Error(o(198));var c=Oe;Ie=!1,Oe=null,Re||(Re=!0,Le=c)}}(r,t,void 0,e),e.currentTarget=null}function Rr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Or(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Or(i,s,u),o=l}}}if(Re)throw e=Le,Re=!1,Le=null,e}function Lr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,a.forEach(function(t){"selectionchange"!==t&&(Ir.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Zt(t)){case 1:var i=qt;break;case 4:i=Yt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=bi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Pe(function(){var r=o,i=xe(n),a=[];e:{var s=jr.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":u="focus",l=vn;break;case"focusout":u="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Nr:case Er:case Tr:l=gn;break;case Mr:l=jn;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==h&&(null!=(m=Ae(p,h))&&c.push(qr(p,m,d)))),f)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!bi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?bi(u):null)&&(u!==(f=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==l?s:wi(l),d=null==u?s:wi(u),(s=new c(m,p+"leave",l,n,i)).target=f,s.relatedTarget=d,m=null,bi(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=d,c.relatedTarget=f,m=c),f=m,l&&u)e:{for(h=u,p=0,d=c=l;d;d=$r(d))p++;for(d=0,m=h;m;m=$r(m))d++;for(;0<p-d;)c=$r(c),p--;for(;0<d-p;)h=$r(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=$r(c),h=$r(h)}c=null}else c=null;null!==l&&Gr(a,s,l,c,!1),null!==u&&null!==f&&Gr(a,f,u,c,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Zn;else if(Wn(s))if(Xn)v=ar;else{v=ir;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(e,r))?qn(a,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?wi(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,br=null);break;case"focusout":br=gr=vr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var b;if(Fn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Vn?Un(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(On&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Vn&&(b=en()):(Kt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(g=Yr(r,y)).length&&(y=new wn(y,e,null,n,i),a.push({event:y,listeners:g}),b?y.data=b:null!==(b=Bn(n))&&(y.data=b))),(b=In?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Ln=!0,Rn);case"textInput":return(e=t.data)===Rn&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Fn&&Un(e,t)?(e=en(),Jt=Kt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=b))}Rr(a,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ae(e,n))&&r.unshift(qr(e,o,i)),null!=(o=Ae(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Ae(n,o))&&a.unshift(qr(n,l,s)):i||null!=(l=Ae(n,o))&&a.push(qr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Zr,"")}function Kr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,mi="__reactEvents$"+fi,vi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function bi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[di]||null}var Si=[],_i=-1;function ki(e){return{current:e}}function Ci(e){0>_i||(e.current=Si[_i],Si[_i]=null,_i--)}function Ni(e,t){_i++,Si[_i]=e.current,e.current=t}var Ei={},Ti=ki(Ei),Mi=ki(!1),ji=Ei;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ci(Mi),Ci(Ti)}function Fi(e,t,n){if(Ti.current!==Ei)throw Error(o(168));Ni(Ti,t),Ni(Mi,n)}function zi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return O({},n,r)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,ji=Ti.current,Ni(Ti,e),Ni(Mi,Mi.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=zi(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Ci(Mi),Ci(Ti),Ni(Ti,e)):Ci(Mi),Ni(Mi,n)}var Ri=null,Li=!1,Ui=!1;function Bi(e){null===Ri?Ri=[e]:Ri.push(e)}function Vi(){if(!Ui&&null!==Ri){Ui=!0;var e=0,t=yt;try{var n=Ri;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ri=null,Li=!1}catch(i){throw null!==Ri&&(Ri=Ri.slice(e+1)),$e(Je,Vi),i}finally{yt=t,Ui=!1}}return null}var Hi=[],Wi=0,qi=null,Yi=0,$i=[],Gi=0,Qi=null,Zi=1,Xi="";function Ki(e,t){Hi[Wi++]=Yi,Hi[Wi++]=qi,qi=e,Yi=t}function Ji(e,t,n){$i[Gi++]=Zi,$i[Gi++]=Xi,$i[Gi++]=Qi,Qi=e;var r=Zi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Zi=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Zi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ki(e,1),Ji(e,1,0))}function to(e){for(;e===qi;)qi=Hi[--Wi],Hi[Wi]=null,Yi=Hi[--Wi],Hi[Wi]=null;for(;e===Qi;)Qi=$i[--Gi],$i[Gi]=null,Xi=$i[--Gi],$i[Gi]=null,Zi=$i[--Gi],$i[Gi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Zi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ui(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var vo=w.ReactCurrentBatchConfig;function go(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var bo=ki(null),yo=null,wo=null,xo=null;function So(){xo=wo=yo=null}function _o(e){var t=bo.current;Ci(bo),e._currentValue=t}function ko(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){yo=e,xo=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function No(e){var t=e._currentValue;if(xo!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===yo)throw Error(o(308));wo=e,yo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Eo=null;function To(e){null===Eo?Eo=[e]:Eo.push(e)}function Mo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,To(t)):(n.next=i.next,i.next=n),t.interleaved=n,jo(e,r)}function jo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,jo(e,n)}return null===(i=r.interleaved)?(t.next=t,To(r)):(t.next=i.next,i.next=t),r.interleaved=t,jo(e,n)}function Io(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Oo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ro(e,t,n,r){var i=e.updateQueue;Po=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var f=i.baseState;for(a=0,c=u=l=null,s=o;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,d=n,m.tag){case 1:if("function"===typeof(p=m.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(d,f,h):p)||void 0===h)break e;f=O({},f,h);break e;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=d,l=f):c=c.next=d,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Il|=a,e.lanes=a,e.memoizedState=f}}function Lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Fo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nu(t,e,i,r),Io(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Fo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nu(t,e,i,r),Io(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Fo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zo(e,i,r))&&(nu(t,e,r,n),Io(t,e,r))}};function Ho(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Wo(e,t,n){var r=!1,i=Ei,o=t.contextType;return"object"===typeof o&&null!==o?o=No(o):(i=Ai(t)?ji:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ei),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function Yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uo,Ao(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=No(o):(o=Ai(t)?ji:Ti.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vo.enqueueReplaceState(i,i.state,null),Ro(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function $o(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Uo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Zo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ou(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&Qo(o)===t.type)?((r=i(t,n.props)).ref=$o(e,t,n),r.return=e,r):((r=Fu(n.type,n.key,n.props,null,e.mode,r)).ref=$o(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ru(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=zu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ou(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Fu(t.type,t.key,t.props,null,e.mode,n)).ref=$o(e,null,t),n.return=e,n;case S:return(t=Ru(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||z(t))return(t=zu(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case A:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||z(n))return null!==i?null:f(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function m(i,o,s,l){for(var u=null,c=null,f=o,m=o=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=d(i,f,s[m],l);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,m),null===c?u=g:c.sibling=g,c=g,f=v}if(m===s.length)return n(i,f),io&&Ki(i,m),u;if(null===f){for(;m<s.length;m++)null!==(f=h(i,s[m],l))&&(o=a(f,o,m),null===c?u=f:c.sibling=f,c=f);return io&&Ki(i,m),u}for(f=r(i,f);m<s.length;m++)null!==(v=p(f,i,m,s[m],l))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),o=a(v,o,m),null===c?u=v:c.sibling=v,c=v);return e&&f.forEach(function(e){return t(i,e)}),io&&Ki(i,m),u}function v(i,s,l,u){var c=z(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var f=c=null,m=s,v=s=0,g=null,b=l.next();null!==m&&!b.done;v++,b=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var y=d(i,m,b.value,u);if(null===y){null===m&&(m=g);break}e&&m&&null===y.alternate&&t(i,m),s=a(y,s,v),null===f?c=y:f.sibling=y,f=y,m=g}if(b.done)return n(i,m),io&&Ki(i,v),c;if(null===m){for(;!b.done;v++,b=l.next())null!==(b=h(i,b.value,u))&&(s=a(b,s,v),null===f?c=b:f.sibling=b,f=b);return io&&Ki(i,v),c}for(m=r(i,m);!b.done;v++,b=l.next())null!==(b=p(m,i,v,b.value,u))&&(e&&null!==b.alternate&&m.delete(null===b.key?v:b.key),s=a(b,s,v),null===f?c=b:f.sibling=b,f=b);return e&&m.forEach(function(e){return t(i,e)}),io&&Ki(i,v),c}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===_){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===A&&Qo(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=$o(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===_?((o=zu(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Fu(a.type,a.key,a.props,null,r.mode,l)).ref=$o(r,o,a),l.return=r,r=l)}return s(r);case S:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Ru(a,r.mode,l)).return=r,r=o}return s(r);case A:return e(r,o,(c=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(z(a))return v(r,o,a,l);Go(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Ou(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Xo=Zo(!0),Ko=Zo(!1),Jo={},ea=ki(Jo),ta=ki(Jo),na=ki(Jo);function ra(e){if(e===Jo)throw Error(o(174));return e}function ia(e,t){switch(Ni(na,t),Ni(ta,e),Ni(ea,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(ea),Ni(ea,t)}function oa(){Ci(ea),Ci(ta),Ci(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(Ni(ta,e),Ni(ea,n))}function sa(e){ta.current===e&&(Ci(ea),Ci(ta))}var la=ki(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function fa(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var ha=w.ReactCurrentDispatcher,da=w.ReactCurrentBatchConfig,pa=0,ma=null,va=null,ga=null,ba=!1,ya=!1,wa=0,xa=0;function Sa(){throw Error(o(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,a){if(pa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),ya){a=0;do{if(ya=!1,wa=0,25<=a)throw Error(o(301));a+=1,ga=va=null,t.updateQueue=null,ha.current=us,e=n(r,i)}while(ya)}if(ha.current=as,t=null!==va&&null!==va.next,pa=0,ga=va=ma=null,ba=!1,t)throw Error(o(300));return e}function Ca(){var e=0!==wa;return wa=0,e}function Na(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?ma.memoizedState=ga=e:ga=ga.next=e,ga}function Ea(){if(null===va){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===ga?ma.memoizedState:ga.next;if(null!==t)ga=t,va=e;else{if(null===e)throw Error(o(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ga?ma.memoizedState=ga=e:ga=ga.next=e}return ga}function Ta(e,t){return"function"===typeof t?t(e):t}function Ma(e){var t=Ea(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var f=c.lane;if((pa&f)===f)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,s=r):u=u.next=h,ma.lanes|=f,Il|=f}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,Il|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ja(e){var t=Ea(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Pa(){}function Aa(e,t){var n=ma,r=Ea(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,Wa(za.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,La(9,Fa.bind(null,n,r,i,t),void 0,null),null===Ml)throw Error(o(349));0!==(30&pa)||Da(n,t,i)}return i}function Da(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Fa(e,t,n,r){t.value=n,t.getSnapshot=r,Ia(t)&&Oa(e)}function za(e,t,n){return n(function(){Ia(t)&&Oa(e)})}function Ia(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Oa(e){var t=jo(e,1);null!==t&&nu(t,e,1,-1)}function Ra(e){var t=Na();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function La(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return Ea().memoizedState}function Ba(e,t,n,r){var i=Na();ma.flags|=e,i.memoizedState=La(1|t,n,void 0,void 0===r?null:r)}function Va(e,t,n,r){var i=Ea();r=void 0===r?null:r;var o=void 0;if(null!==va){var a=va.memoizedState;if(o=a.destroy,null!==r&&_a(r,a.deps))return void(i.memoizedState=La(t,n,o,r))}ma.flags|=e,i.memoizedState=La(1|t,n,o,r)}function Ha(e,t){return Ba(8390656,8,e,t)}function Wa(e,t){return Va(2048,8,e,t)}function qa(e,t){return Va(4,2,e,t)}function Ya(e,t){return Va(4,4,e,t)}function $a(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,$a.bind(null,t,e),n)}function Qa(){}function Za(e,t){var n=Ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ka(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,Il|=n,e.baseState=!0),t)}function Ja(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{yt=n,da.transition=r}}function es(){return Ea().memoizedState}function ts(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Mo(e,t,n,r))){nu(n,e,r,eu()),os(n,t,r)}}function ns(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,To(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Mo(e,t,i,r))&&(nu(n,e,r,i=eu()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function is(e,t){ya=ba=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var as={readContext:No,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:No,useCallback:function(e,t){return Na().memoizedState=[e,void 0===t?null:t],e},useContext:No,useEffect:Ha,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,$a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Na();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Na();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Na().memoizedState=e},useState:Ra,useDebugValue:Qa,useDeferredValue:function(e){return Na().memoizedState=e},useTransition:function(){var e=Ra(!1),t=e[0];return e=Ja.bind(null,e[1]),Na().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=Na();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ml)throw Error(o(349));0!==(30&pa)||Da(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ha(za.bind(null,r,a,e),[e]),r.flags|=2048,La(9,Fa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Na(),t=Ml.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Zi&~(1<<32-at(Zi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:No,useCallback:Za,useContext:No,useEffect:Wa,useImperativeHandle:Ga,useInsertionEffect:qa,useLayoutEffect:Ya,useMemo:Xa,useReducer:Ma,useRef:Ua,useState:function(){return Ma(Ta)},useDebugValue:Qa,useDeferredValue:function(e){return Ka(Ea(),va.memoizedState,e)},useTransition:function(){return[Ma(Ta)[0],Ea().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Aa,useId:es,unstable_isNewReconciler:!1},us={readContext:No,useCallback:Za,useContext:No,useEffect:Wa,useImperativeHandle:Ga,useInsertionEffect:qa,useLayoutEffect:Ya,useMemo:Xa,useReducer:ja,useRef:Ua,useState:function(){return ja(Ta)},useDebugValue:Qa,useDeferredValue:function(e){var t=Ea();return null===va?t.memoizedState=e:Ka(t,va.memoizedState,e)},useTransition:function(){return[ja(Ta)[0],Ea().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Aa,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,ql=r),hs(0,t)},n}function ms(e,t,n){(n=Fo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fo(-1,1)).tag=2,zo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=w.ReactCurrentOwner,ws=!1;function xs(e,t,n,r){t.child=null===e?Ko(t,null,n,r):Xo(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=ka(e,t,n,r,o,i),n=Ca(),null===e||ws?(io&&n&&eo(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function _s(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Au(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ks(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Du(o,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Es(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ni(Dl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ni(Dl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ni(Dl,Al),Al|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ni(Dl,Al),Al|=r;return xs(e,t,i,n),t.child}function Ns(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,i){var o=Ai(n)?ji:Ti.current;return o=Pi(t,o),Co(t,i),n=ka(e,t,n,r,o,i),r=Ca(),null===e||ws?(io&&r&&eo(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ts(e,t,n,r,i){if(Ai(n)){var o=!0;Ii(t)}else o=!1;if(Co(t,i),null===t.stateNode)Hs(e,t),Wo(t,n,r),Yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=No(u):u=Pi(t,u=Ai(n)?ji:Ti.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&qo(t,a,r,u),Po=!1;var h=t.memoizedState;a.state=h,Ro(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Mi.current||Po?("function"===typeof c&&(Bo(t,n,c,r),l=t.memoizedState),(s=Po||Ho(t,n,s,r,h,l,u))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Do(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:go(t.type,s),a.props=u,f=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=No(l):l=Pi(t,l=Ai(n)?ji:Ti.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==l)&&qo(t,a,r,l),Po=!1,h=t.memoizedState,a.state=h,Ro(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||Mi.current||Po?("function"===typeof d&&(Bo(t,n,d,r),p=t.memoizedState),(u=Po||Ho(t,n,u,r,h,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ms(e,t,n,r,o,i)}function Ms(e,t,n,r,i,o){Ns(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Oi(t,n,!1),Ws(e,t,o);r=t.stateNode,ys.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):xs(e,t,s,o),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function js(e){var t=e.stateNode;t.pendingContext?Fi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fi(0,t.context,!1),ia(e,t.containerInfo)}function Ps(e,t,n,r,i){return po(),mo(i),t.flags|=256,xs(e,t,n,r),t.child}var As,Ds,Fs,zs={dehydrated:null,treeContext:null,retryLane:0};function Is(e){return{baseLanes:e,cachePool:null,transitions:null}}function Os(e,t,n){var r,i=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ni(la,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Iu(l,i,0,null),e=zu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Is(n),t.memoizedState=zs,e):Rs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Ls(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Iu({mode:"visible",children:r.children},i,0,null),(a=zu(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,s),t.child.memoizedState=Is(s),t.memoizedState=zs,a);if(0===(1&t.mode))return Ls(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ls(e,t,s,r=fs(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),ws||l){if(null!==(r=Ml)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,jo(e,i),nu(r,e,i,-1))}return mu(),Ls(e,t,s,r=fs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Eu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&($i[Gi++]=Zi,$i[Gi++]=Xi,$i[Gi++]=Qi,Zi=e.id,Xi=e.overflow,Qi=t),t=Rs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Du(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Du(r,s):(s=zu(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Is(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=zs,i}return e=(s=e.child).sibling,i=Du(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Rs(e,t){return(t=Iu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ls(e,t,n,r){return null!==r&&mo(r),Xo(t,e.child,null,n),(e=Rs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ko(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ni(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $s(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return Ai(t.type)&&Di(),Ys(t),null;case 3:return r=t.stateNode,oa(),Ci(Mi),Ci(Ti),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Ys(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ys(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(i=0;i<zr.length;i++)Lr(zr[i],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":Z(r,a),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Lr("invalid",r);break;case"textarea":ie(r,a),Lr("invalid",r)}for(var l in be(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Kr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Kr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Lr("scroll",r)}switch(n){case"input":Y(r),J(r,a,!0);break;case"textarea":Y(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[di]=r,As(e,t),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Lr("cancel",e),Lr("close",e),i=r;break;case"iframe":case"object":case"embed":Lr("load",e),i=r;break;case"video":case"audio":for(i=0;i<zr.length;i++)Lr(zr[i],e);i=r;break;case"source":Lr("error",e),i=r;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),i=r;break;case"details":Lr("toggle",e),i=r;break;case"input":Z(e,r),i=Q(e,r),Lr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=O({},r,{value:void 0}),Lr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Lr("invalid",e)}for(a in be(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ve(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Lr("scroll",e):null!=c&&y(e,a,c,l))}switch(n){case"input":Y(e),J(e,r,!1);break;case"textarea":Y(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)Fs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Kr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ys(t),null;case 13:if(Ci(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Fl&&(Fl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return oa(),null===e&&Vr(t.stateNode.containerInfo),Ys(t),null;case 10:return _o(t.type._context),Ys(t),null;case 19:if(Ci(la),null===(a=t.memoizedState))return Ys(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)qs(a,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ua(e))){for(t.flags|=128,qs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ni(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Vl&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ua(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ys(t),null}else 2*Xe()-a.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=la.current,Ni(la,r?1&n|2:1&n),t):(Ys(t),null);case 22:case 23:return fu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Gs(e,t){switch(to(t),t.tag){case 1:return Ai(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ci(Mi),Ci(Ti),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ci(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(la),null;case 4:return oa(),null;case 10:return _o(t.type._context),null;case 22:case 23:return fu(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=O({},i,{value:void 0}),r=O({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in be(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Lr("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Fs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Zs=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Ks=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){ku(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){ku(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[mi],delete t[vi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,fl=!1;function hl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Zs||Js(n,t);case 6:var r=cl,i=fl;cl=null,hl(e,t,n),fl=i,null!==(cl=r)&&(fl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(fl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=fl,cl=n.stateNode.containerInfo,fl=!0,hl(e,t,n),cl=r,fl=i;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Zs&&(Js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ku(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,hl(e,t,n),Zs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach(function(t){var r=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,fl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));dl(a,s,i),cl=null,fl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){ku(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(v){ku(e,e.return,v)}try{nl(5,e,e.return)}catch(v){ku(e,e.return,v)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){ku(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),ye(l,s);var c=ye(l,a);for(s=0;s<u.length;s+=2){var f=u[s],h=u[s+1];"style"===f?ve(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):y(i,f,h,c)}switch(l){case"input":K(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(v){ku(e,e.return,v)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){ku(e,e.return,v)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(v){ku(e,e.return,v)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Xe())),4&r&&pl(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(c=Zs)||f,ml(t,e),Zs=c):ml(t,e),gl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Ks=e,f=e.child;null!==f;){for(h=Ks=f;null!==Ks;){switch(p=(d=Ks).child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:Js(d,d.return);var m=d.stateNode;if("function"===typeof m.componentWillUnmount){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){ku(r,n,v)}}break;case 5:Js(d,d.return);break;case 22:if(null!==d.memoizedState){xl(h);continue}}null!==p?(p.return=d,Ks=p):xl(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(v){ku(e,e.return,v)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){ku(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){ku(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Ks=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==Ks;){var i=Ks,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Zs;s=Qs;var u=Zs;if(Qs=a,(Zs=l)&&!u)for(Ks=i;null!==Ks;)l=(a=Ks).child,22===a.tag&&null!==a.memoizedState?Sl(i):null!==l?(l.return=a,Ks=l):Sl(i);for(;null!==o;)Ks=o,yl(o,t,n),o=o.sibling;Ks=i,Qs=s,Zs=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ks=o):wl(e)}}function wl(e){for(;null!==Ks;){var t=Ks;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:go(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Lo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Lo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(o(163))}Zs||512&t.flags&&il(t)}catch(d){ku(t,t.return,d)}}if(t===e){Ks=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ks=n;break}Ks=t.return}}function xl(e){for(;null!==Ks;){var t=Ks;if(t===e){Ks=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ks=n;break}Ks=t.return}}function Sl(e){for(;null!==Ks;){var t=Ks;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){ku(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){ku(t,i,l)}}var o=t.return;try{il(t)}catch(l){ku(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){ku(t,a,l)}}}catch(l){ku(t,t.return,l)}if(t===e){Ks=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ks=s;break}Ks=t.return}}var _l,kl=Math.ceil,Cl=w.ReactCurrentDispatcher,Nl=w.ReactCurrentOwner,El=w.ReactCurrentBatchConfig,Tl=0,Ml=null,jl=null,Pl=0,Al=0,Dl=ki(0),Fl=0,zl=null,Il=0,Ol=0,Rl=0,Ll=null,Ul=null,Bl=0,Vl=1/0,Hl=null,Wl=!1,ql=null,Yl=null,$l=!1,Gl=null,Ql=0,Zl=0,Xl=null,Kl=-1,Jl=0;function eu(){return 0!==(6&Tl)?Xe():-1!==Kl?Kl:Kl=Xe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Pl?Pl&-Pl:null!==vo.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function nu(e,t,n,r){if(50<Zl)throw Zl=0,Xl=null,Error(o(185));gt(e,n,r),0!==(2&Tl)&&e===Ml||(e===Ml&&(0===(2&Tl)&&(Ol|=n),4===Fl&&su(e,Pl)),ru(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Vl=Xe()+500,Li&&Vi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Ml?Pl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Li=!0,Bi(e)}(lu.bind(null,e)):Bi(lu.bind(null,e)),ai(function(){0===(6&Tl)&&Vi()}),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Mu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Kl=-1,Jl=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=ht(e,e===Ml?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var i=Tl;Tl|=2;var a=pu();for(Ml===e&&Pl===t||(Hl=null,Vl=Xe()+500,hu(e,t));;)try{bu();break}catch(l){du(e,l)}So(),Cl.current=a,Tl=i,null!==jl?t=0:(Ml=null,Pl=0,t=Fl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t)throw n=zl,hu(e,0),su(e,r),ru(e,Xe()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vu(e,r))&&(0!==(a=pt(e))&&(r=a,t=ou(e,a))),1===t))throw n=zl,hu(e,0),su(e,r),ru(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xu(e,Ul,Hl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xu.bind(null,e,Ul,Hl),t);break}xu(e,Ul,Hl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(xu.bind(null,e,Ul,Hl),r);break}xu(e,Ul,Hl);break;default:throw Error(o(329))}}}return ru(e,Xe()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=Ll;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Ul,Ul=n,null!==t&&au(t)),e}function au(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function su(e,t){for(t&=~Rl,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Tl))throw Error(o(327));Su();var t=ht(e,0);if(0===(1&t))return ru(e,Xe()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=zl,hu(e,0),su(e,t),ru(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Ul,Hl),ru(e,Xe()),null}function uu(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Vl=Xe()+500,Li&&Vi())}}function cu(e){null!==Gl&&0===Gl.tag&&0===(6&Tl)&&Su();var t=Tl;Tl|=1;var n=El.transition,r=yt;try{if(El.transition=null,yt=1,e)return e()}finally{yt=r,El.transition=n,0===(6&(Tl=t))&&Vi()}}function fu(){Al=Dl.current,Ci(Dl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:oa(),Ci(Mi),Ci(Ti),fa();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ci(la);break;case 10:_o(r.type._context);break;case 22:case 23:fu()}n=n.return}if(Ml=e,jl=e=Du(e.current,null),Pl=Al=t,Fl=0,zl=null,Rl=Ol=Il=0,Ul=Ll=null,null!==Eo){for(t=0;t<Eo.length;t++)if(null!==(r=(n=Eo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Eo=null}return e}function du(e,t){for(;;){var n=jl;try{if(So(),ha.current=as,ba){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ba=!1}if(pa=0,ga=va=ma=null,ya=!1,wa=0,Nl.current=null,null===n||null===n.return){Fl=1,zl=t,jl=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Pl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,f=l,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,bs(p,s,l,0,t),1&p.mode&&vs(a,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(u),t.updateQueue=v}else m.add(u);break e}if(0===(1&t)){vs(a,c,t),mu();break e}u=Error(o(426))}else if(io&&1&l.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),bs(g,s,l,0,t),mo(cs(u,l));break e}}a=u=cs(u,l),4!==Fl&&(Fl=2),null===Ll?Ll=[a]:Ll.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Oo(a,ps(0,u,t));break e;case 1:l=u;var b=a.type,y=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Yl||!Yl.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t,Oo(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}wu(n)}catch(w){t=w,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function pu(){var e=Cl.current;return Cl.current=as,null===e?as:e}function mu(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===Ml||0===(268435455&Il)&&0===(268435455&Ol)||su(Ml,Pl)}function vu(e,t){var n=Tl;Tl|=2;var r=pu();for(Ml===e&&Pl===t||(Hl=null,hu(e,t));;)try{gu();break}catch(i){du(e,i)}if(So(),Tl=n,Cl.current=r,null!==jl)throw Error(o(261));return Ml=null,Pl=0,Fl}function gu(){for(;null!==jl;)yu(jl)}function bu(){for(;null!==jl&&!Qe();)yu(jl)}function yu(e){var t=_l(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?wu(e):jl=t,Nl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$s(n,t,Al)))return void(jl=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return Fl=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===Fl&&(Fl=5)}function xu(e,t,n){var r=yt,i=El.transition;try{El.transition=null,yt=1,function(e,t,n,r){do{Su()}while(null!==Gl);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Ml&&(jl=Ml=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,Mu(tt,function(){return Su(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=El.transition,El.transition=null;var s=yt;yt=1;var l=Tl;Tl|=4,Nl.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,u=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(u=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(l=s),d===a&&++f===r&&(u=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ks=t;null!==Ks;)if(e=(t=Ks).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ks=e;else for(;null!==Ks;){t=Ks;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?v:go(t.type,v),g);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){ku(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ks=e;break}Ks=t.return}m=tl,tl=!1}(e,n),vl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Ze(),Tl=l,yt=s,El.transition=a}else e.current=n;if($l&&($l=!1,Gl=e,Ql=i),a=e.pendingLanes,0===a&&(Yl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=ql,ql=null,e;0!==(1&Ql)&&0!==e.tag&&Su(),a=e.pendingLanes,0!==(1&a)?e===Xl?Zl++:(Zl=0,Xl=e):Zl=0,Vi()}(e,t,n,r)}finally{El.transition=i,yt=r}return null}function Su(){if(null!==Gl){var e=wt(Ql),t=El.transition,n=yt;try{if(El.transition=null,yt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Ql=0,0!==(6&Tl))throw Error(o(331));var i=Tl;for(Tl|=4,Ks=e.current;null!==Ks;){var a=Ks,s=a.child;if(0!==(16&Ks.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ks=c;null!==Ks;){var f=Ks;switch(f.tag){case 0:case 11:case 15:nl(8,f,a)}var h=f.child;if(null!==h)h.return=f,Ks=h;else for(;null!==Ks;){var d=(f=Ks).sibling,p=f.return;if(ol(f),f===c){Ks=null;break}if(null!==d){d.return=p,Ks=d;break}Ks=p}}}var m=a.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Ks=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Ks=s;else e:for(;null!==Ks;){if(0!==(2048&(a=Ks).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Ks=b;break e}Ks=a.return}}var y=e.current;for(Ks=y;null!==Ks;){var w=(s=Ks).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Ks=w;else e:for(s=y;null!==Ks;){if(0!==(2048&(l=Ks).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){ku(l,l.return,S)}if(l===s){Ks=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Ks=x;break e}Ks=l.return}}if(Tl=i,Vi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{yt=n,El.transition=t}}return!1}function _u(e,t,n){e=zo(e,t=ps(0,t=cs(n,t),1),1),t=eu(),null!==e&&(gt(e,1,t),ru(e,t))}function ku(e,t,n){if(3===e.tag)_u(e,e,n);else for(;null!==t;){if(3===t.tag){_u(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=zo(t,e=ms(t,e=cs(n,e),1),1),e=eu(),null!==t&&(gt(t,1,e),ru(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Pl&n)===n&&(4===Fl||3===Fl&&(130023424&Pl)===Pl&&500>Xe()-Bl?hu(e,0):Rl|=n),ru(e,t)}function Nu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=jo(e,t))&&(gt(e,t,n),ru(e,n))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Nu(e,n)}function Mu(e,t){return $e(e,t)}function ju(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(e,t,n,r){return new ju(e,t,n,r)}function Au(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Au(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return zu(n.children,i,a,t);case k:s=8,i|=8;break;case C:return(e=Pu(12,n,t,2|i)).elementType=C,e.lanes=a,e;case M:return(e=Pu(13,n,t,i)).elementType=M,e.lanes=a,e;case j:return(e=Pu(19,n,t,i)).elementType=j,e.lanes=a,e;case D:return Iu(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:s=10;break e;case E:s=9;break e;case T:s=11;break e;case P:s=14;break e;case A:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function zu(e,t,n,r){return(e=Pu(7,e,r,t)).lanes=n,e}function Iu(e,t,n,r){return(e=Pu(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Ou(e,t,n){return(e=Pu(6,e,null,t)).lanes=n,e}function Ru(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,i,o,a,s,l){return e=new Lu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(o),e}function Bu(e){if(!e)return Ei;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ai(n))return zi(e,n,t)}return t}function Vu(e,t,n,r,i,o,a,s,l){return(e=Uu(n,r,!0,e,0,o,0,s,l)).context=Bu(null),n=e.current,(o=Fo(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,zo(n,o,i),e.current.lanes=i,gt(e,i,r),ru(e,r),e}function Hu(e,t,n,r){var i=t.current,o=eu(),a=tu(i);return n=Bu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(i,t,a))&&(nu(e,i,a,o),Io(e,i,a)),a}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:js(t),po();break;case 5:aa(t);break;case 1:Ai(t.type)&&Ii(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ni(bo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ni(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Os(e,t,n):(Ni(la,1&la.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ni(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ni(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Ws(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,io&&0!==(1048576&t.flags)&&Ji(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Pi(t,Ti.current);Co(t,n),i=ka(null,t,r,e,i,n);var a=Ca();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(a=!0,Ii(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ao(t),i.updater=Vo,t.stateNode=i,i._reactInternals=t,Yo(t,r,e,n),t=Ms(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Au(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(r),e=go(r,e),i){case 0:t=Es(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=_s(null,t,r,go(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:go(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:go(r,i),n);case 3:e:{if(js(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Do(e,t),Ro(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Ko(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ws(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ns(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Os(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:go(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ni(bo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Mi.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Fo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),ko(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ko(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=No(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=go(r=t.type,t.pendingProps),_s(e,t,r,i=go(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),Hs(e,t),t.tag=1,Ai(r)?(e=!0,Ii(t)):e=!1,Co(t,n),Wo(t,r,i),Yo(t,r,i,n),Ms(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var $u="function"===typeof reportError?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ku(){}function Ju(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Wu(a);s.call(e)}}Hu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wu(a);o.call(e)}}var a=Vu(t,r,e,0,null,!1,0,"",Ku);return e._reactRootContainer=a,e[pi]=a.current,Vr(8===e.nodeType?e.parentNode:e),cu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wu(l);s.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Ku);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),cu(function(){Hu(t,l,n,r)}),l}(n,t,e,i,r);return Wu(a)}Qu.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hu(e,t,null,null)},Qu.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu(function(){Hu(null,e,null,null)}),t[pi]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ot(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(bt(t,1|n),ru(t,Xe()),0===(6&Tl)&&(Vl=Xe()+500,Vi()))}break;case 13:cu(function(){var t=jo(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}}),Yu(e,1)}},St=function(e){if(13===e.tag){var t=jo(e,134217728);if(null!==t)nu(t,e,134217728,eu());Yu(e,134217728)}},_t=function(e){if(13===e.tag){var t=tu(e),n=jo(e,t);if(null!==n)nu(n,e,t,eu());Yu(e,t)}},kt=function(){return yt},Ct=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Se=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));$(r),K(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uu,Me=cu;var ec={usingClientEntryPoint:!1,Events:[yi,wi,xi,Ne,Ee,uu]},tc={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zu(e))throw Error(o(299));var n=!1,r="",i=$u;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Gu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(o(200));return Ju(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=$u;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(o(200));return Ju(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu(function(){Ju(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Ju(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},8438(e,t,n){"use strict";n.d(t,{v:()=>a});var r=n(8851),i=n(236),o=n(6471);function a(e){return new r.c(function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,i.H)(n):(0,o.I)()).subscribe(t)})}},8481(e,t,n){"use strict";n.d(t,{X:()=>r});var r=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e}},8535(e,t,n){"use strict";n.d(t,{E:()=>i});var r=n(6882),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.C6(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(230).v)},8591(e,t){"use strict";function n(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=n,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var r=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(r),t.reverse=function(e){return r[255&e]<<24|r[e>>>8&255]<<16|r[e>>>16&255]<<8|r[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>n(e)+1}},8698(e,t,n){"use strict";n.d(t,{$:()=>i});var r=n(8851);function i(e,t){return t?new r.c(function(n){return t.schedule(o,0,{error:e,subscriber:n})}):new r.c(function(t){return t.error(e)})}function o(e){var t=e.error;e.subscriber.error(t)}},8770(e,t,n){"use strict";n.d(t,{B7:()=>f,PJ:()=>c});var r=n(6882),i=n(8851),o=n(230),a=n(8297),s=n(2413),l=n(439),u=n(6255),c=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.C6(t,e),t}(o.v),f=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.C6(t,e),t.prototype[u.D]=function(){return new c(this)},t.prototype.lift=function(e){var t=new h(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.P;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.P;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.P;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.P;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.P;return this.hasError?(e.error(this.thrownError),a.y.EMPTY):this.isStopped?(e.complete(),a.y.EMPTY):(this.observers.push(e),new l.Y(this,e))},t.prototype.asObservable=function(){var e=new i.c;return e.source=this,e},t.create=function(e,t){return new h(e,t)},t}(i.c),h=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.C6(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.y.EMPTY},t}(f)},8851(e,t,n){"use strict";n.d(t,{c:()=>c});var r=n(4593),i=n(230),o=n(6255),a=n(974);var s=n(1638),l=n(3843),u=n(578),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,s=function(e,t,n){if(e){if(e instanceof i.v)return e;if(e[o.D])return e[o.D]()}return e||t||n?new i.v(e,t,n):new i.v(a.I)}(e,t,n);if(r?s.add(r.call(s,this.source)):s.add(this.source||u.$.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.$.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){u.$.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),(0,r.H)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=f(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[s.s]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:(0,l.m)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function f(e){if(e||(e=u.$.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},9149(e,t,n){"use strict";n.d(t,{U:()=>o});var r=n(5812),i=n(5973);function o(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),(0,r.ZZ)(i.D,e)}},9854(e,t,n){"use strict";n.d(t,{k:()=>r});var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},9878(e,t,n){"use strict";n.d(t,{G:()=>r});var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},9950(e,t,n){"use strict";e.exports=n(2049)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".45437b76.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="meditrain:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var f=u[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/meditrain/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,o,[a,s,l]=r,u=0;if(a.some(t=>0!==e[t])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkmeditrain=self.webpackChunkmeditrain||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(9950),t=n(1352);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l=n(3292),u=n(4414);const c=e.forwardRef(function(t,n){let{onNewData:r,updateChannelMaps:i,onTelemetry:o,onPpg:a,onAccelerometer:s,onGyro:c,onStatusChange:f}=t;const[h,d]=(0,e.useState)(!1),[p,m]=(0,e.useState)(!1),[v,g]=(0,e.useState)(null),b=(0,e.useRef)(null),y=(0,e.useRef)([]);async function w(){try{var e;null!==(e=b.current)&&void 0!==e&&e.device&&b.current._onDisconnect&&b.current.device.removeEventListener("gattserverdisconnected",b.current._onDisconnect)}catch(n){}try{y.current.forEach(e=>{var t;return null===e||void 0===e||null===(t=e.unsubscribe)||void 0===t?void 0:t.call(e)})}catch(n){}y.current=[];try{var t;await(null===(t=b.current)||void 0===t?void 0:t.disconnect())}catch(n){}b.current=null}async function x(){if(p)return;m(!0),g(null);const e=new l.MuseClient;b.current=e;try{var t;e.enableAux=!0,e.enablePpg=!0,await e.connect();const n=()=>{d(!1),m(!1),g("Device disconnected"),w()};e._onDisconnect=n,null===(t=e.device)||void 0===t||t.addEventListener("gattserverdisconnected",n),y.current=[],y.current.push(e.eegReadings.subscribe(e=>r(e))),e.telemetryData&&o&&y.current.push(e.telemetryData.subscribe(e=>o(e))),e.ppgReadings&&a&&y.current.push(e.ppgReadings.subscribe(e=>a(e))),e.accelerometerData&&s&&y.current.push(e.accelerometerData.subscribe(e=>s(e))),e.gyroscopeData&&c&&y.current.push(e.gyroscopeData.subscribe(e=>c(e))),i(["TP9","AF7","AF8","TP10","AUXL","AUXR"]),await e.start(),d(!0)}catch(n){g((null===n||void 0===n?void 0:n.message)||"Unable to connect"),await w(),d(!1)}finally{m(!1)}}async function S(){await w(),d(!1),m(!1),g("Disconnected")}return(0,e.useEffect)(()=>()=>{w()},[]),(0,e.useEffect)(()=>{f&&f({isConnected:h,isConnecting:p,error:v})},[h,p,v,f]),(0,e.useImperativeHandle)(n,()=>({reconnect:async()=>{p||(await w(),await x())},disconnect:async()=>{await S()}})),(0,u.jsxs)("div",{children:[!h&&!p&&(0,u.jsx)("button",{onClick:x,children:"Connect to Muse"}),p&&(0,u.jsx)("p",{children:"Connecting to Muse..."}),h&&(0,u.jsxs)("div",{className:"inline-buttons",children:[(0,u.jsx)("p",{children:"Connected to EEG"}),(0,u.jsx)("button",{onClick:S,children:"Disconnect"})]}),!h&&!p&&v&&(0,u.jsxs)("p",{className:"subdued",children:["Status: ",v]}),h&&v&&(0,u.jsxs)("p",{className:"subdued",children:["Status: ",v]})]})}),f=c;const h=function(e){let{availableChannels:t,selectedChannels:n,onToggleChannel:r}=e;return(0,u.jsxs)("div",{className:"config-weights",children:[(0,u.jsxs)("div",{className:"config-list",children:[t.map(e=>(0,u.jsxs)("label",{className:"config-option",children:[(0,u.jsx)("input",{type:"checkbox",checked:n.includes(e),onChange:()=>r(e)}),(0,u.jsx)("span",{children:e})]},e)),0===t.length&&(0,u.jsx)("p",{className:"subdued",children:"No channels detected yet."})]}),(0,u.jsx)("p",{className:"subdued",children:"Selected sensors contribute to averaged views and the spectrogram."})]})};var d=n(7223);function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:256,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;const i=2*Math.PI*t/n,o=Math.sin(i)/(2*r),a=-2*Math.cos(i),s=1+o,l=-2*Math.cos(i),u=1-o;let c=0,f=0,h=0,d=0;const p=new Array(e.length);for(let m=0;m<e.length;m++){const t=e[m],n=1/s*t+a/s*c+1/s*f-l/s*h-u/s*d;p[m]=n,f=c,c=t,d=h,h=n}return p}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:60;const i=e.length;if(!i)return{frequencies:[],magnitudes:[]};const o=e.reduce((e,t)=>e+t,0)/i,a=e.map(e=>e-o),s=function(e){const t=new Array(e);for(let n=0;n<e;n++)t[n]=.5*(1-Math.cos(2*Math.PI*n/(e-1)));return t}(i),l=s.reduce((e,t)=>e+t*t,0)/i,u=(n?p(a,r,t,30):a).map((e,t)=>e*s[t]),c=(0,d.fft)(u),f=d.util.fftFreq(c,t),h=d.util.fftMag(c),m=[],v=[];for(let d=0;d<f.length;d++){if(f[d]<0)continue;const e=h[d]*h[d]/(t*i*l),n=0===d||d===f.length-1?1:2;m.push(e*n),v.push(f[d])}return{frequencies:v,magnitudes:m}}function v(e){return e}var g=1e-6;function b(e){return"translate("+e+",0)"}function y(e){return"translate(0,"+e+")"}function w(e){return t=>+e(t)}function x(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function S(){return!this.__axis}function _(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,l="undefined"!==typeof window&&window.devicePixelRatio>1?0:.5,u=1===e||4===e?-1:1,c=4===e||2===e?"x":"y",f=1===e||3===e?b:y;function h(h){var d=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,p=null==i?t.tickFormat?t.tickFormat.apply(t,n):v:i,m=Math.max(o,0)+s,b=t.range(),y=+b[0]+l,_=+b[b.length-1]+l,k=(t.bandwidth?x:w)(t.copy(),l),C=h.selection?h.selection():h,N=C.selectAll(".domain").data([null]),E=C.selectAll(".tick").data(d,t).order(),T=E.exit(),M=E.enter().append("g").attr("class","tick"),j=E.select("line"),P=E.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(M),j=j.merge(M.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),P=P.merge(M.append("text").attr("fill","currentColor").attr(c,u*m).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),h!==C&&(N=N.transition(h),E=E.transition(h),j=j.transition(h),P=P.transition(h),T=T.transition(h).attr("opacity",g).attr("transform",function(e){return isFinite(e=k(e))?f(e+l):this.getAttribute("transform")}),M.attr("opacity",g).attr("transform",function(e){var t=this.parentNode.__axis;return f((t&&isFinite(t=t(e))?t:k(e))+l)})),T.remove(),N.attr("d",4===e||2===e?a?"M"+u*a+","+y+"H"+l+"V"+_+"H"+u*a:"M"+l+","+y+"V"+_:a?"M"+y+","+u*a+"V"+l+"H"+_+"V"+u*a:"M"+y+","+l+"H"+_),E.attr("opacity",1).attr("transform",function(e){return f(k(e)+l)}),j.attr(c+"2",u*o),P.attr(c,u*m).text(p),C.filter(S).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),C.each(function(){this.__axis=k})}return h.scale=function(e){return arguments.length?(t=e,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),h):n.slice()},h.tickValues=function(e){return arguments.length?(r=null==e?null:Array.from(e),h):r&&r.slice()},h.tickFormat=function(e){return arguments.length?(i=e,h):i},h.tickSize=function(e){return arguments.length?(o=a=+e,h):o},h.tickSizeInner=function(e){return arguments.length?(o=+e,h):o},h.tickSizeOuter=function(e){return arguments.length?(a=+e,h):a},h.tickPadding=function(e){return arguments.length?(s=+e,h):s},h.offset=function(e){return arguments.length?(l=+e,h):l},h}function k(e){return _(2,e)}function C(e){return _(3,e)}function N(e){return _(4,e)}function E(){}function T(e){return null==e?E:function(){return this.querySelector(e)}}function M(){return[]}function j(e){return null==e?M:function(){return this.querySelectorAll(e)}}function P(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function A(e){return function(){return this.matches(e)}}function D(e){return function(t){return t.matches(e)}}var F=Array.prototype.find;function z(){return this.firstElementChild}var I=Array.prototype.filter;function O(){return Array.from(this.children)}function R(e){return new Array(e.length)}function L(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function U(e,t,n,r,i,o){for(var a,s=0,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new L(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function B(e,t,n,r,i,o,a){var s,l,u,c=new Map,f=t.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(l=t[s])&&(d[s]=u=a.call(l,l.__data__,s,t)+"",c.has(u)?i[s]=l:c.set(u,l));for(s=0;s<h;++s)u=a.call(e,o[s],s,o)+"",(l=c.get(u))?(r[s]=l,l.__data__=o[s],c.delete(u)):n[s]=new L(e,o[s]);for(s=0;s<f;++s)(l=t[s])&&c.get(d[s])===l&&(i[s]=l)}function V(e){return e.__data__}function H(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function W(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}L.prototype={constructor:L,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var q="http://www.w3.org/1999/xhtml";const Y={svg:"http://www.w3.org/2000/svg",xhtml:q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Y.hasOwnProperty(t)?{space:Y[t],local:e}:e}function G(e){return function(){this.removeAttribute(e)}}function Q(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Z(e,t){return function(){this.setAttribute(e,t)}}function X(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function K(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function J(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ee(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function te(e){return function(){this.style.removeProperty(e)}}function ne(e,t,n){return function(){this.style.setProperty(e,t,n)}}function re(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ie(e,t){return e.style.getPropertyValue(t)||ee(e).getComputedStyle(e,null).getPropertyValue(t)}function oe(e){return function(){delete this[e]}}function ae(e,t){return function(){this[e]=t}}function se(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function le(e){return e.trim().split(/^|\s+/)}function ue(e){return e.classList||new ce(e)}function ce(e){this._node=e,this._names=le(e.getAttribute("class")||"")}function fe(e,t){for(var n=ue(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function he(e,t){for(var n=ue(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function de(e){return function(){fe(this,e)}}function pe(e){return function(){he(this,e)}}function me(e,t){return function(){(t.apply(this,arguments)?fe:he)(this,e)}}function ve(){this.textContent=""}function ge(e){return function(){this.textContent=e}}function be(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function ye(){this.innerHTML=""}function we(e){return function(){this.innerHTML=e}}function xe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Se(){this.nextSibling&&this.parentNode.appendChild(this)}function _e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ke(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===q&&t.documentElement.namespaceURI===q?t.createElement(e):t.createElementNS(n,e)}}function Ce(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ne(e){var t=$(e);return(t.local?Ce:ke)(t)}function Ee(){return null}function Te(){var e=this.parentNode;e&&e.removeChild(this)}function Me(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function je(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Pe(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Ae(e,t,n){return function(){var r,i=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function De(e,t,n){var r=ee(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Fe(e,t){return function(){return De(this,e,t)}}function ze(e,t){return function(){return De(this,e,t.apply(this,arguments))}}ce.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Ie=[null];function Oe(e,t){this._groups=e,this._parents=t}function Re(){return new Oe([[document.documentElement]],Ie)}Oe.prototype=Re.prototype={constructor:Oe,select:function(e){"function"!==typeof e&&(e=T(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],l=s.length,u=r[i]=new Array(l),c=0;c<l;++c)(o=s[c])&&(a=e.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),u[c]=a);return new Oe(r,this._parents)},selectAll:function(e){e="function"===typeof e?P(e):j(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),i.push(a));return new Oe(r,i)},selectChild:function(e){return this.select(null==e?z:function(e){return function(){return F.call(this.children,e)}}("function"===typeof e?e:D(e)))},selectChildren:function(e){return this.selectAll(null==e?O:function(e){return function(){return I.call(this.children,e)}}("function"===typeof e?e:D(e)))},filter:function(e){"function"!==typeof e&&(e=A(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],u=0;u<s;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&l.push(o);return new Oe(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,V);var n,r=t?B:U,i=this._parents,o=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;++c){var f=i[c],h=o[c],d=h.length,p=H(e.call(f,f&&f.__data__,c,i)),m=p.length,v=l[c]=new Array(m),g=s[c]=new Array(m);r(f,h,v,g,u[c]=new Array(d),p,t);for(var b,y,w=0,x=0;w<m;++w)if(b=v[w]){for(w>=x&&(x=w+1);!(y=g[x])&&++x<m;);b._next=y||null}}return(s=new Oe(s,i))._enter=l,s._exit=u,s},enter:function(){return new Oe(this._enter||this._groups.map(R),this._parents)},exit:function(){return new Oe(this._exit||this._groups.map(R),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u,c=n[l],f=r[l],h=c.length,d=s[l]=new Array(h),p=0;p<h;++p)(u=c[p]||f[p])&&(d[p]=u);for(;l<i;++l)s[l]=n[l];return new Oe(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=W);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,u=i[o]=new Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(t)}return new Oe(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=$(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Q:G:"function"===typeof t?n.local?J:K:n.local?X:Z)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?te:"function"===typeof t?re:ne)(e,t,null==n?"":n)):ie(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?oe:"function"===typeof t?se:ae)(e,t)):this.node()[e]},classed:function(e,t){var n=le(e+"");if(arguments.length<2){for(var r=ue(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?me:t?de:pe)(n,t))},text:function(e){return arguments.length?this.each(null==e?ve:("function"===typeof e?be:ge)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ye:("function"===typeof e?xe:we)(e)):this.node().innerHTML},raise:function(){return this.each(Se)},lower:function(){return this.each(_e)},append:function(e){var t="function"===typeof e?e:Ne(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"===typeof e?e:Ne(e),r=null==t?Ee:"function"===typeof t?t:T(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Te)},clone:function(e){return this.select(e?je:Me)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?Ae:Pe,r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(r=0,l=s[u];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?ze:Fe)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const Le=Re;var Ue={value:()=>{}};function Be(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Ve(r)}function Ve(e){this._=e}function He(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function We(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Ue,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Ve.prototype=Be.prototype={constructor:Ve,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=o[a]).type)i[n]=We(i[n],e.name,t);else if(null==t)for(n in i)i[n]=We(i[n],e.name,null);return this}for(;++a<s;)if((n=(e=o[a]).type)&&(n=He(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ve(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const qe=Be;var Ye,$e,Ge=0,Qe=0,Ze=0,Xe=0,Ke=0,Je=0,et="object"===typeof performance&&performance.now?performance:Date,tt="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nt(){return Ke||(tt(rt),Ke=et.now()+Je)}function rt(){Ke=0}function it(){this._call=this._time=this._next=null}function ot(e,t,n){var r=new it;return r.restart(e,t,n),r}function at(){Ke=(Xe=et.now())+Je,Ge=Qe=0;try{!function(){nt(),++Ge;for(var e,t=Ye;t;)(e=Ke-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ge}()}finally{Ge=0,function(){var e,t,n=Ye,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Ye=t);$e=e,lt(r)}(),Ke=0}}function st(){var e=et.now(),t=e-Xe;t>1e3&&(Je-=t,Xe=e)}function lt(e){Ge||(Qe&&(Qe=clearTimeout(Qe)),e-Ke>24?(e<1/0&&(Qe=setTimeout(at,e-et.now()-Je)),Ze&&(Ze=clearInterval(Ze))):(Ze||(Xe=et.now(),Ze=setInterval(st,1e3)),Ge=1,tt(at)))}function ut(e,t,n){var r=new it;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}it.prototype=ot.prototype={constructor:it,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?nt():+n)+(null==t?0:+t),this._next||$e===this||($e?$e._next=this:Ye=this,$e=this),this._call=e,this._time=n,lt()},stop:function(){this._call&&(this._call=null,this._time=1/0,lt())}};var ct=qe("start","end","cancel","interrupt"),ft=[];function ht(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(o){var u,c,f,h;if(1!==n.state)return l();for(u in i)if((h=i[u]).name===n.name){if(3===h.state)return ut(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[u]):+u<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[u])}if(ut(function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),u=0,c=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=ot(o,0,n.time)}(e,n,{name:t,index:r,group:i,on:ct,tween:ft,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function dt(e,t){var n=mt(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function pt(e,t){var n=mt(e,t);if(n.state>3)throw new Error("too late; already running");return n}function mt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function vt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var gt,bt=180/Math.PI,yt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function wt(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*bt,skewX:Math.atan(l)*bt,scaleX:a,scaleY:s}}function xt(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],l=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:vt(e,i)},{i:l-2,x:vt(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:vt(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,l),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:vt(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,l),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:vt(e,n)},{i:s-2,x:vt(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var St=xt(function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?yt:wt(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),_t=xt(function(e){return null==e?yt:(gt||(gt=document.createElementNS("http://www.w3.org/2000/svg","g")),gt.setAttribute("transform",e),(e=gt.transform.baseVal.consolidate())?wt((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):yt)},", ",")",")");function kt(e,t){var n,r;return function(){var i=pt(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function Ct(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=pt(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function Nt(e,t,n){var r=e._id;return e.each(function(){var e=pt(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return mt(e,r).value[t]}}function Et(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Tt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Mt(){}var jt=.7,Pt=1/jt,At="\\s*([+-]?\\d+)\\s*",Dt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zt=/^#([0-9a-f]{3,8})$/,It=new RegExp("^rgb\\(".concat(At,",").concat(At,",").concat(At,"\\)$")),Ot=new RegExp("^rgb\\(".concat(Ft,",").concat(Ft,",").concat(Ft,"\\)$")),Rt=new RegExp("^rgba\\(".concat(At,",").concat(At,",").concat(At,",").concat(Dt,"\\)$")),Lt=new RegExp("^rgba\\(".concat(Ft,",").concat(Ft,",").concat(Ft,",").concat(Dt,"\\)$")),Ut=new RegExp("^hsl\\(".concat(Dt,",").concat(Ft,",").concat(Ft,"\\)$")),Bt=new RegExp("^hsla\\(".concat(Dt,",").concat(Ft,",").concat(Ft,",").concat(Dt,"\\)$")),Vt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ht(){return this.rgb().formatHex()}function Wt(){return this.rgb().formatRgb()}function qt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=zt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Yt(t):3===n?new Qt(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?$t(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?$t(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=It.exec(e))?new Qt(t[1],t[2],t[3],1):(t=Ot.exec(e))?new Qt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Rt.exec(e))?$t(t[1],t[2],t[3],t[4]):(t=Lt.exec(e))?$t(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ut.exec(e))?tn(t[1],t[2]/100,t[3]/100,1):(t=Bt.exec(e))?tn(t[1],t[2]/100,t[3]/100,t[4]):Vt.hasOwnProperty(e)?Yt(Vt[e]):"transparent"===e?new Qt(NaN,NaN,NaN,0):null}function Yt(e){return new Qt(e>>16&255,e>>8&255,255&e,1)}function $t(e,t,n,r){return r<=0&&(e=t=n=NaN),new Qt(e,t,n,r)}function Gt(e,t,n,r){return 1===arguments.length?((i=e)instanceof Mt||(i=qt(i)),i?new Qt((i=i.rgb()).r,i.g,i.b,i.opacity):new Qt):new Qt(e,t,n,null==r?1:r);var i}function Qt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Zt(){return"#".concat(en(this.r)).concat(en(this.g)).concat(en(this.b))}function Xt(){const e=Kt(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Jt(this.r),", ").concat(Jt(this.g),", ").concat(Jt(this.b)).concat(1===e?")":", ".concat(e,")"))}function Kt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function en(e){return((e=Jt(e))<16?"0":"")+e.toString(16)}function tn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rn(e,t,n,r)}function nn(e){if(e instanceof rn)return new rn(e.h,e.s,e.l,e.opacity);if(e instanceof Mt||(e=qt(e)),!e)return new rn;if(e instanceof rn)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new rn(a,s,l,e.opacity)}function rn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function on(e){return(e=(e||0)%360)<0?e+360:e}function an(e){return Math.max(0,Math.min(1,e||0))}function sn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function ln(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}Et(Mt,qt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ht,formatHex:Ht,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return nn(this).formatHsl()},formatRgb:Wt,toString:Wt}),Et(Qt,Gt,Tt(Mt,{brighter(e){return e=null==e?Pt:Math.pow(Pt,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?jt:Math.pow(jt,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qt(Jt(this.r),Jt(this.g),Jt(this.b),Kt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zt,formatHex:Zt,formatHex8:function(){return"#".concat(en(this.r)).concat(en(this.g)).concat(en(this.b)).concat(en(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Xt,toString:Xt})),Et(rn,function(e,t,n,r){return 1===arguments.length?nn(e):new rn(e,t,n,null==r?1:r)},Tt(Mt,{brighter(e){return e=null==e?Pt:Math.pow(Pt,e),new rn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?jt:Math.pow(jt,e),new rn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Qt(sn(e>=240?e-240:e+120,i,r),sn(e,i,r),sn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new rn(on(this.h),an(this.s),an(this.l),Kt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kt(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(on(this.h),", ").concat(100*an(this.s),"%, ").concat(100*an(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const un=e=>()=>e;function cn(e,t){return function(n){return e+n*t}}function fn(e){return 1===(e=+e)?hn:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):un(isNaN(t)?n:t)}}function hn(e,t){var n=t-e;return n?cn(e,n):un(isNaN(e)?t:e)}const dn=function e(t){var n=fn(t);function r(e,t){var r=n((e=Gt(e)).r,(t=Gt(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=hn(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function pn(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Gt(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}pn(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return ln((n-r/t)*t,a,i,o,s)}}),pn(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return ln((n-r/t)*t,i,o,a,s)}});var mn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vn=new RegExp(mn.source,"g");function gn(e,t){var n,r,i,o=mn.lastIndex=vn.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=mn.exec(e))&&(r=vn.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:vt(n,r)})),o=vn.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function bn(e,t){var n;return("number"===typeof t?vt:t instanceof qt?dn:(n=qt(t))?(t=n,dn):gn)(e,t)}function yn(e){return function(){this.removeAttribute(e)}}function wn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xn(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function Sn(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function _n(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttribute(e)}}function kn(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttributeNS(e.space,e.local)}}function Cn(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Nn(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function En(e,t){return function(){dt(this,e).delay=+t.apply(this,arguments)}}function Tn(e,t){return t=+t,function(){dt(this,e).delay=t}}function Mn(e,t){return function(){pt(this,e).duration=+t.apply(this,arguments)}}function jn(e,t){return t=+t,function(){pt(this,e).duration=t}}var Pn=Le.prototype.constructor;function An(e){return function(){this.style.removeProperty(e)}}var Dn=0;function Fn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function zn(){return++Dn}var In=Le.prototype;Fn.prototype=function(e){return Le().transition(e)}.prototype={constructor:Fn,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=T(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,u=r[a],c=u.length,f=o[a]=new Array(c),h=0;h<c;++h)(s=u[h])&&(l=e.call(s,s.__data__,h,u))&&("__data__"in s&&(l.__data__=s.__data__),f[h]=l,ht(f[h],t,n,h,f,mt(s,n)));return new Fn(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=j(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,u=r[s],c=u.length,f=0;f<c;++f)if(l=u[f]){for(var h,d=e.call(l,l.__data__,f,u),p=mt(l,n),m=0,v=d.length;m<v;++m)(h=d[m])&&ht(h,t,n,m,d,p);o.push(d),a.push(l)}return new Fn(o,a,t,n)},selectChild:In.selectChild,selectChildren:In.selectChildren,filter:function(e){"function"!==typeof e&&(e=A(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],u=0;u<s;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&l.push(o);return new Fn(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,u=t[s],c=n[s],f=u.length,h=a[s]=new Array(f),d=0;d<f;++d)(l=u[d]||c[d])&&(h[d]=l);for(;s<r;++s)a[s]=t[s];return new Fn(a,this._parents,this._name,this._id)},selection:function(){return new Pn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=zn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var c=mt(a,t);ht(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Fn(r,this._parents,e,n)},call:In.call,nodes:In.nodes,node:In.node,size:In.size,empty:In.empty,each:In.each,on:function(e,t){var n=this._id;return arguments.length<2?mt(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?dt:pt;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}(n,e,t))},attr:function(e,t){var n=$(e),r="transform"===n?_t:bn;return this.attrTween(e,"function"===typeof t?(n.local?kn:_n)(n,r,Nt(this,"attr."+e,t)):null==t?(n.local?wn:yn)(n):(n.local?Sn:xn)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=$(e);return this.tween(n,(r.local?Cn:Nn)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?St:bn;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=ie(this,e),a=(this.style.removeProperty(e),ie(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on("end.style."+e,An(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var a=ie(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=ie(this,e)),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}(e,r,Nt(this,"style."+e,t))).each(function(e,t){var n,r,i,o,a="style."+t,s="end."+a;return function(){var l=pt(this,e),u=l.on,c=null==l.value[a]?o||(o=An(t)):void 0;u===n&&i===c||(r=(n=u).copy()).on(s,i=c),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var a=ie(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Nt(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=mt(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?kt:Ct)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?En:Tn)(t,e)):mt(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Mn:jn)(t,e)):mt(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){pt(this,e).ease=t}}(t,e)):mt(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;pt(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){0===--i&&o()}};n.each(function(){var n=pt(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}),0===i&&o()})},[Symbol.iterator]:In[Symbol.iterator]};var On={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Rn(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}Le.prototype.interrupt=function(e){return this.each(function(){!function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}}(this,e)})},Le.prototype.transition=function(e){var t,n;e instanceof Fn?(t=e._id,e=e._name):(t=zn(),(n=On).time=nt(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)(a=s[u])&&ht(a,e,t,u,s,n||Rn(a,t));return new Fn(r,this._parents,e,t)};const{abs:Ln,max:Un,min:Bn}=Math;function Vn(e){return[+e[0],+e[1]]}function Hn(e){return[Vn(e[0]),Vn(e[1])]}["w","e"].map(Wn),["n","s"].map(Wn),["n","w","e","s","nw","ne","sw","se"].map(Wn);function Wn(e){return{type:e}}function qn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Yn(e){return(e=qn(Math.abs(e)))?e[1]:NaN}var $n,Gn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qn(e){if(!(t=Gn.exec(e)))throw new Error("invalid format: "+e);var t;return new Zn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Zn(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Xn(e,t){var n=qn(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Qn.prototype=Zn.prototype,Zn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Kn={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Xn(100*e,t),r:Xn,s:function(e,t){var n=qn(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-($n=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qn(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Jn(e){return e}var er,tr,nr,rr=Array.prototype.map,ir=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function or(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Jn:(t=rr.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Jn:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(rr.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"\u2212":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=Qn(e)).fill,n=e.align,f=e.sign,h=e.symbol,d=e.zero,p=e.width,m=e.comma,v=e.precision,g=e.trim,b=e.type;"n"===b?(m=!0,b="g"):Kn[b]||(void 0===v&&(v=12),g=!0,b="g"),(d||"0"===t&&"="===n)&&(d=!0,t="0",n="=");var y="$"===h?i:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===h?o:/[%p]/.test(b)?l:"",x=Kn[b],S=/[defgprs%]/.test(b);function _(e){var i,o,l,h=y,_=w;if("c"===b)_=x(e)+_,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:x(Math.abs(e),v),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==f&&(k=!1),h=(k?"("===f?f:u:"-"===f||"("===f?"":f)+h,_=("s"===b?ir[8+$n/3]:"")+_+(k&&"("===f?")":""),S)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){_=(46===l?a+e.slice(i+1):e.slice(i))+_,e=e.slice(0,i);break}}m&&!d&&(e=r(e,1/0));var C=h.length+e.length+_.length,N=C<p?new Array(p-C+1).join(t):"";switch(m&&d&&(e=r(N+e,N.length?p-_.length:1/0),N=""),n){case"<":e=h+e+_+N;break;case"=":e=h+N+e+_;break;case"^":e=N.slice(0,C=N.length>>1)+h+e+_+N.slice(C);break;default:e=N+h+e+_}return s(e)}return v=void 0===v?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),_.toString=function(){return e+""},_}return{format:f,formatPrefix:function(e,t){var n=f(((e=Qn(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Yn(t)/3))),i=Math.pow(10,-r),o=ir[8+r/3];return function(e){return n(i*e)+o}}}}er=or({thousands:",",grouping:[3],currency:["$",""]}),tr=er.format,nr=er.formatPrefix;const ar=Math.sqrt(50),sr=Math.sqrt(10),lr=Math.sqrt(2);function ur(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=ar?10:o>=sr?5:o>=lr?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?ur(e,t,2*n):[s,l,u]}function cr(e,t,n){return ur(e=+e,t=+t,n=+n)[2]}function fr(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?cr(t,e,n):cr(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function hr(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dr(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pr(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=hr,n=(t,n)=>hr(e(t),n),r=(t,n)=>e(t)-n):(t=e===hr||e===dr?e:mr,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function mr(){return 0}const vr=pr(hr),gr=vr.right,br=(vr.left,pr(function(e){return null===e?NaN:+e}).center,gr);function yr(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=_r(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function wr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function xr(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=_r(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}function Sr(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function _r(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?un(t):("number"===i?vt:"string"===i?(n=qt(t))?(t=n,dn):gn:t instanceof qt?dn:t instanceof Date?wr:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?yr:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?xr:vt:Sr))(e,t)}function kr(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Cr(e){return+e}var Nr=[0,1];function Er(e){return e}function Tr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Mr(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Tr(i,r),o=n(a,o)):(r=Tr(r,i),o=n(o,a)),function(e){return o(r(e))}}function jr(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Tr(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=br(e,t,1,r)-1;return o[n](i[n](t))}}function Pr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ar(){var e,t,n,r,i,o,a=Nr,s=Nr,l=_r,u=Er;function c(){var e=Math.min(a.length,s.length);return u!==Er&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?jr:Mr,i=o=null,f}function f(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(u(t)))}return f.invert=function(n){return u(t((o||(o=r(s,a.map(e),vt)))(n)))},f.domain=function(e){return arguments.length?(a=Array.from(e,Cr),c()):a.slice()},f.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},f.rangeRound=function(e){return s=Array.from(e),l=kr,c()},f.clamp=function(e){return arguments.length?(u=!!e||Er,c()):u!==Er},f.interpolate=function(e){return arguments.length?(l=e,c()):l},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}}function Dr(){return Ar()(Er,Er)}function Fr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function zr(e,t,n,r){var i,o=fr(e,t,n);switch((r=Qn(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Yn(t)/3)))-Yn(Math.abs(e)))}(o,a))||(r.precision=i),nr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yn(t)-Yn(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-Yn(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return tr(r)}function Ir(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?ur(t,e,n):ur(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return zr(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],u=o[s],c=10;for(u<l&&(i=l,l=u,u=i,i=a,a=s,s=i);c-- >0;){if((i=cr(l,u,n))===r)return o[a]=l,o[s]=u,t(o);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i}r=i}return e},e}function Or(){var e=Dr();return e.copy=function(){return Pr(e,Or())},Fr.apply(e,arguments),Ir(e)}const Rr=1e3,Lr=6e4,Ur=36e5,Br=864e5,Vr=6048e5,Hr=2592e6,Wr=31536e6,qr=new Date,Yr=new Date;function $r(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>$r(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(qr.setTime(+t),Yr.setTime(+r),e(qr),e(Yr),Math.floor(n(qr,Yr))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const Gr=$r(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Gr.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?$r(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Gr:null);Gr.range;const Qr=$r(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getUTCSeconds()),Zr=(Qr.range,$r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rr)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getMinutes())),Xr=(Zr.range,$r(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getUTCMinutes())),Kr=(Xr.range,$r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rr-e.getMinutes()*Lr)},(e,t)=>{e.setTime(+e+t*Ur)},(e,t)=>(t-e)/Ur,e=>e.getHours())),Jr=(Kr.range,$r(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ur)},(e,t)=>(t-e)/Ur,e=>e.getUTCHours())),ei=(Jr.range,$r(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Lr)/Br,e=>e.getDate()-1)),ti=(ei.range,$r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Br,e=>e.getUTCDate()-1)),ni=(ti.range,$r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Br,e=>Math.floor(e/Br)));ni.range;function ri(e){return $r(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Lr)/Vr)}const ii=ri(0),oi=ri(1),ai=ri(2),si=ri(3),li=ri(4),ui=ri(5),ci=ri(6);ii.range,oi.range,ai.range,si.range,li.range,ui.range,ci.range;function fi(e){return $r(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Vr)}const hi=fi(0),di=fi(1),pi=fi(2),mi=fi(3),vi=fi(4),gi=fi(5),bi=fi(6),yi=(hi.range,di.range,pi.range,mi.range,vi.range,gi.range,bi.range,$r(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),wi=(yi.range,$r(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),xi=(wi.range,$r(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));xi.every=e=>isFinite(e=Math.floor(e))&&e>0?$r(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;xi.range;const Si=$r(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Si.every=e=>isFinite(e=Math.floor(e))&&e>0?$r(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;Si.range;function _i(e,t,n,r,i,o){const a=[[Qr,1,Rr],[Qr,5,5e3],[Qr,15,15e3],[Qr,30,3e4],[o,1,Lr],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Ur],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Br],[r,2,1728e5],[n,1,Vr],[t,1,Hr],[t,3,7776e6],[e,1,Wr]];function s(t,n,r){const i=Math.abs(n-t)/r,o=pr(e=>{let[,,t]=e;return t}).right(a,i);if(o===a.length)return e.every(fr(t/Wr,n/Wr,r));if(0===o)return Gr.every(Math.max(fr(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}const[ki,Ci]=_i(Si,wi,hi,ni,Jr,Xr),[Ni,Ei]=_i(xi,yi,ii,ei,Kr,Zr);function Ti(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Mi(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ji(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Pi,Ai,Di={"-":"",_:" ",0:"0"},Fi=/^\s*\d+/,zi=/^%/,Ii=/[\\^$*+?|[\]().{}]/g;function Oi(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Ri(e){return e.replace(Ii,"\\$&")}function Li(e){return new RegExp("^(?:"+e.map(Ri).join("|")+")","i")}function Ui(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Bi(e,t,n){var r=Fi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Vi(e,t,n){var r=Fi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Hi(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Wi(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function qi(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Yi(e,t,n){var r=Fi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function $i(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Gi(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Qi(e,t,n){var r=Fi.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Zi(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Xi(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Ki(e,t,n){var r=Fi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Ji(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function eo(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function to(e,t,n){var r=Fi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function no(e,t,n){var r=Fi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ro(e,t,n){var r=Fi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function io(e,t,n){var r=zi.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function oo(e,t,n){var r=Fi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function ao(e,t,n){var r=Fi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function so(e,t){return Oi(e.getDate(),t,2)}function lo(e,t){return Oi(e.getHours(),t,2)}function uo(e,t){return Oi(e.getHours()%12||12,t,2)}function co(e,t){return Oi(1+ei.count(xi(e),e),t,3)}function fo(e,t){return Oi(e.getMilliseconds(),t,3)}function ho(e,t){return fo(e,t)+"000"}function po(e,t){return Oi(e.getMonth()+1,t,2)}function mo(e,t){return Oi(e.getMinutes(),t,2)}function vo(e,t){return Oi(e.getSeconds(),t,2)}function go(e){var t=e.getDay();return 0===t?7:t}function bo(e,t){return Oi(ii.count(xi(e)-1,e),t,2)}function yo(e){var t=e.getDay();return t>=4||0===t?li(e):li.ceil(e)}function wo(e,t){return e=yo(e),Oi(li.count(xi(e),e)+(4===xi(e).getDay()),t,2)}function xo(e){return e.getDay()}function So(e,t){return Oi(oi.count(xi(e)-1,e),t,2)}function _o(e,t){return Oi(e.getFullYear()%100,t,2)}function ko(e,t){return Oi((e=yo(e)).getFullYear()%100,t,2)}function Co(e,t){return Oi(e.getFullYear()%1e4,t,4)}function No(e,t){var n=e.getDay();return Oi((e=n>=4||0===n?li(e):li.ceil(e)).getFullYear()%1e4,t,4)}function Eo(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Oi(t/60|0,"0",2)+Oi(t%60,"0",2)}function To(e,t){return Oi(e.getUTCDate(),t,2)}function Mo(e,t){return Oi(e.getUTCHours(),t,2)}function jo(e,t){return Oi(e.getUTCHours()%12||12,t,2)}function Po(e,t){return Oi(1+ti.count(Si(e),e),t,3)}function Ao(e,t){return Oi(e.getUTCMilliseconds(),t,3)}function Do(e,t){return Ao(e,t)+"000"}function Fo(e,t){return Oi(e.getUTCMonth()+1,t,2)}function zo(e,t){return Oi(e.getUTCMinutes(),t,2)}function Io(e,t){return Oi(e.getUTCSeconds(),t,2)}function Oo(e){var t=e.getUTCDay();return 0===t?7:t}function Ro(e,t){return Oi(hi.count(Si(e)-1,e),t,2)}function Lo(e){var t=e.getUTCDay();return t>=4||0===t?vi(e):vi.ceil(e)}function Uo(e,t){return e=Lo(e),Oi(vi.count(Si(e),e)+(4===Si(e).getUTCDay()),t,2)}function Bo(e){return e.getUTCDay()}function Vo(e,t){return Oi(di.count(Si(e)-1,e),t,2)}function Ho(e,t){return Oi(e.getUTCFullYear()%100,t,2)}function Wo(e,t){return Oi((e=Lo(e)).getUTCFullYear()%100,t,2)}function qo(e,t){return Oi(e.getUTCFullYear()%1e4,t,4)}function Yo(e,t){var n=e.getUTCDay();return Oi((e=n>=4||0===n?vi(e):vi.ceil(e)).getUTCFullYear()%1e4,t,4)}function $o(){return"+0000"}function Go(){return"%"}function Qo(e){return+e}function Zo(e){return Math.floor(+e/1e3)}function Xo(e){return new Date(e)}function Ko(e){return e instanceof Date?+e:+new Date(+e)}function Jo(e,t,n,r,i,o,a,s,l,u){var c=Dr(),f=c.invert,h=c.domain,d=u(".%L"),p=u(":%S"),m=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),b=u("%b %d"),y=u("%B"),w=u("%Y");function x(e){return(l(e)<e?d:s(e)<e?p:a(e)<e?m:o(e)<e?v:r(e)<e?i(e)<e?g:b:n(e)<e?y:w)(e)}return c.invert=function(e){return new Date(f(e))},c.domain=function(e){return arguments.length?h(Array.from(e,Ko)):h().map(Xo)},c.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?x:u(t)},c.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(function(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}(n,e)):c},c.copy=function(){return Pr(c,Jo(e,t,n,r,i,o,a,s,l,u))},c}function ea(){return Fr.apply(Jo(Ni,Ei,xi,yi,ii,ei,Kr,Zr,Qr,Ai).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}!function(e){Pi=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=Li(i),c=Ui(i),f=Li(o),h=Ui(o),d=Li(a),p=Ui(a),m=Li(s),v=Ui(s),g=Li(l),b=Ui(l),y={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:so,e:so,f:ho,g:ko,G:No,H:lo,I:uo,j:co,L:fo,m:po,M:mo,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Qo,s:Zo,S:vo,u:go,U:bo,V:wo,w:xo,W:So,x:null,X:null,y:_o,Y:Co,Z:Eo,"%":Go},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:To,e:To,f:Do,g:Wo,G:Yo,H:Mo,I:jo,j:Po,L:Ao,m:Fo,M:zo,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Qo,s:Zo,S:Io,u:Oo,U:Ro,V:Uo,w:Bo,W:Vo,x:null,X:null,y:Ho,Y:qo,Z:$o,"%":Go},x={a:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:Xi,e:Xi,f:ro,g:$i,G:Yi,H:Ji,I:Ji,j:Ki,L:no,m:Zi,M:eo,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:Qi,Q:oo,s:ao,S:to,u:Vi,U:Hi,V:Wi,w:Bi,W:qi,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:$i,Y:Yi,Z:Gi,"%":io};function S(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=Di[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function _(e,t){return function(n){var r,i,o=ji(1900,void 0,1);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Mi(ji(o.y,0,1))).getUTCDay(),r=i>4||0===i?di.ceil(r):di(r),r=ti.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Ti(ji(o.y,0,1))).getDay(),r=i>4||0===i?oi.ceil(r):oi(r),r=ei.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Mi(ji(o.y,0,1)).getUTCDay():Ti(ji(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Mi(o)):Ti(o)}}function k(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in Di?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return y.x=S(n,y),y.X=S(r,y),y.c=S(t,y),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),{format:function(e){var t=S(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}(e),Ai=Pi.format,Pi.parse,Pi.utcFormat,Pi.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const ta=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function na(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}function ra(e){return"string"===typeof e?new Oe([[document.querySelector(e)]],[document.documentElement]):new Oe([[e]],Ie)}var ia,oa,aa,sa,la,ua,ca,fa,ha,da,pa,ma,va,ga;Array.prototype.slice;function ba(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function ya(e){return function(){return e}}function wa(e){this._context=e}function xa(e){return new wa(e)}function Sa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}wa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};const _a=Math.PI,ka=2*_a,Ca=1e-6,Na=ka-Ca;function Ea(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Ta{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Ea:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return Ea;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(ia||(ia=Sa(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(oa||(oa=Sa(["Z"]))))}lineTo(e,t){this._append(aa||(aa=Sa(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(sa||(sa=Sa(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,o){this._append(la||(la=Sa(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+o)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let o=this._x1,a=this._y1,s=n-e,l=r-t,u=o-e,c=a-t,f=u*u+c*c;if(null===this._x1)this._append(ua||(ua=Sa(["M",",",""])),this._x1=e,this._y1=t);else if(f>Ca)if(Math.abs(c*s-l*u)>Ca&&i){let h=n-o,d=r-a,p=s*s+l*l,m=h*h+d*d,v=Math.sqrt(p),g=Math.sqrt(f),b=i*Math.tan((_a-Math.acos((p+f-m)/(2*v*g)))/2),y=b/g,w=b/v;Math.abs(y-1)>Ca&&this._append(fa||(fa=Sa(["L",",",""])),e+y*u,t+y*c),this._append(ha||(ha=Sa(["A",",",",0,0,",",",",",""])),i,i,+(c*h>u*d),this._x1=e+w*s,this._y1=t+w*l)}else this._append(ca||(ca=Sa(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,u=t+s,c=1^o,f=o?r-i:i-r;null===this._x1?this._append(da||(da=Sa(["M",",",""])),l,u):(Math.abs(this._x1-l)>Ca||Math.abs(this._y1-u)>Ca)&&this._append(pa||(pa=Sa(["L",",",""])),l,u),n&&(f<0&&(f=f%ka+ka),f>Na?this._append(ma||(ma=Sa(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,c,e-a,t-s,n,n,c,this._x1=l,this._y1=u):f>Ca&&this._append(va||(va=Sa(["A",",",",0,",",",",",",",""])),n,n,+(f>=_a),c,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(ga||(ga=Sa(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function Ma(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new Ta(t)}function ja(e){return e[0]}function Pa(e){return e[1]}function Aa(e,t){var n=ya(!0),r=null,i=xa,o=null,a=Ma(s);function s(s){var l,u,c,f=(s=ba(s)).length,h=!1;for(null==r&&(o=i(c=a())),l=0;l<=f;++l)!(l<f&&n(u=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(u,l,s),+t(u,l,s));if(c)return o=null,c+""||null}return e="function"===typeof e?e:void 0===e?ja:ya(e),t="function"===typeof t?t:void 0===t?Pa:ya(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:ya(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:ya(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:ya(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function Da(e,t,n){this.k=e,this.x=t,this.y=n}Da.prototype={constructor:Da,scale:function(e){return 1===e?this:new Da(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Da(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Da(1,0,0);Da.prototype;const Fa=function(t){let{channels:n=[],windowSize:r=4096,height:i=220,sampleRate:o=256,badLabels:a=[],autoHeight:s=!1}=t;const l=(0,e.useRef)(null),[c,f]=(0,e.useState)(i),h=o;(0,e.useEffect)(()=>{s||f(i)},[i,s]);const d=(0,e.useMemo)(()=>{const e=ta;return n.filter(e=>e.samples&&e.samples.length>0).map((t,n)=>{const i=t.samples.slice(-r),o=function(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}(i),a=function(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}(i),s=.1*(a-o||Math.abs(a)||1);return{id:t.label||t.electrode,color:e[n%e.length],samples:i,min:o-s,max:a+s}})},[n,r]);if((0,e.useEffect)(()=>{if(!l.current||!s)return;const e=l.current.parentElement;if(!e)return;const t=()=>{var t;const n=null===(t=l.current)||void 0===t?void 0:t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=(null===n||void 0===n?void 0:n.height)||0||r.height||i;o!==c&&f(o)};t();let n=null;return"undefined"!==typeof ResizeObserver?(n=new ResizeObserver(()=>t()),n.observe(l.current),n.observe(e)):window.addEventListener("resize",t),()=>{n?n.disconnect():window.removeEventListener("resize",t)}},[c,s,i]),(0,e.useEffect)(()=>{if(!l.current||0===d.length)return;const e=ra(l.current);e.selectAll("*").remove();const t=28,n=t+r,i=c-20,o=i/d.length;d.forEach((i,s)=>{const l=s*o,u=a.includes(i.id),c=Or().domain([0,r]).range([0,n-t]),f=Or().domain([i.min,i.max]).range([o,0]),h=Aa().x((e,n)=>t+c(n)).y(e=>l+f(e));e.append("path").datum(i.samples).attr("fill","none").attr("stroke",u?"#f97316":i.color).attr("stroke-width",1.2).attr("d",h),e.append("text").attr("x",4).attr("y",l+12).attr("fill",u?"#fbbf24":"rgba(255,255,255,0.7)").attr("font-size",10).text(u?"".concat(i.id," (bad)"):i.id)});const s=r/h;for(let r=0;r<=4;r++){const i=r/4,o=t+i*(n-t),a="-".concat(Math.round((1-i)*s),"s");e.append("text").attr("x",o).attr("y",c-4).attr("fill","rgba(255,255,255,0.6)").attr("font-size",10).attr("text-anchor",4===r?"end":0===r?"start":"middle").text(4===r?"0s":a)}e.append("line").attr("x1",t).attr("y1",0).attr("x2",t).attr("y2",i).attr("stroke","rgba(255,255,255,0.35)").attr("stroke-width",1),e.append("line").attr("x1",t).attr("y1",i).attr("x2",n).attr("y2",i).attr("stroke","rgba(255,255,255,0.35)").attr("stroke-width",1)},[d,c,r,h,a]),0===d.length)return(0,u.jsx)("p",{className:"subdued",children:"No samples to plot."});const p=28+r;return(0,u.jsx)("svg",{ref:l,width:"100%",height:c,viewBox:"0 0 ".concat(p," ").concat(c),preserveAspectRatio:"none",style:{display:"block",width:"100%"}})},za=256,Ia=6e4,Oa=64,Ra=1024,La=4096,Ua=1024,Ba=300,Va=50,Ha=2,Wa=1,qa=150,Ya=60,$a=2,Ga=80,Qa=.2;function Za(e,t,n,r,i){if(!e||e.length<8)return 0;const{frequencies:o,magnitudes:a}=function(e){return m(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,!1)}(e,t);if(!o.length)return 0;const s=Math.max(.1,r/2);let l=0,u=0;for(let c=0;c<o.length;c+=1){const e=o[c];if(e<.5)continue;if(null!=i&&e>i)continue;const t=a[c];l+=t,Math.abs(e-n)<=s&&(u+=t)}return l<=0?0:u/l}const Xa=function(t){var n,r;let{onPeriodgramUpdated:i,onPpgUpdate:o,onDeviceDebug:a,selectedChannels:l=[],onToggleChannel:c,availableChannels:d=[],lastFFT:p=null,sampleRateHz:v=za,ppgSampleRateHz:g=Oa,fftWindow:b=Ra,traceWindow:y=La,ppgTraceWindow:w=Ua,spectrogramWindowSec:x=Ba,autoDownloadMs:S=Ia,notchHz:_=Va,downloadMetadata:k=null,artifactWindowSec:C=Ha,artifactStepSec:N=Wa,amplitudeRangeThreshold:E=qa,lineNoiseHz:T=Ya,lineNoiseBandHz:M=$a,lineNoiseMaxHz:j=Ga,lineNoiseRatioThreshold:P=Qa}=t;const A=(0,e.useRef)([]),D=(0,e.useRef)([]),[F,z]=(0,e.useState)(!1),[I,O]=(0,e.useState)(0),[R,L]=(0,e.useState)(null),[U,B]=(0,e.useState)(null),[V,H]=(0,e.useState)(null),[W,q]=(0,e.useState)(null),[Y,$]=(0,e.useState)(null),G=(0,e.useRef)(null),Q=(0,e.useRef)(k),[Z,X]=(0,e.useState)(!0),K=(0,e.useRef)(null),J=(0,e.useRef)(0),ee=(0,e.useRef)(0),te=(0,e.useRef)(!1),[ne,re]=(0,e.useState)(!1),[ie,oe]=(0,e.useState)(!1),[ae,se]=(0,e.useState)({isConnected:!1,isConnecting:!1,error:null}),[le,ue]=(0,e.useState)({attempts:0,lastAttemptAt:null,status:"idle",reason:null}),[ce,fe]=(0,e.useState)([]),he=(0,e.useRef)(null),de=(0,e.useRef)(!1),pe=(0,e.useRef)(0),me=(0,e.useRef)(0),ve=(0,e.useRef)([]),ge=(0,e.useRef)(i),be=(0,e.useRef)(null),ye="undefined"!==typeof navigator&&"wakeLock"in navigator;(0,e.useEffect)(()=>{ge.current=i},[i]),(0,e.useEffect)(()=>{Q.current=k},[k]),(0,e.useEffect)(()=>{if(F&&0!==D.current.length)return 0===me.current&&(me.current=setInterval(()=>{A.current.forEach(e=>{if(e.samples.length>b){const t=function(e){return m(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,!0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:60)}(e.samples.slice(-b),v,_),n=s(s({},t),{},{t:Date.now()});e.periodograms.push(t),e.periodograms=e.periodograms.slice(-4),e.averagedPeriodogram=function(e){const t={frequencies:e[0].frequencies,magnitudes:[]},n=e.length;return e[0].magnitudes.forEach((r,i)=>{let o=0;for(let t=0;t<n;t++)o+=e[t].magnitudes[i];t.magnitudes[i]=o/n}),t}(e.periodograms);const r=e.spectrogramSlices||[];r.push(n);const i=Date.now()-1e3*Math.max(1,x);e.spectrogramSlices=r.filter(e=>(e.t||0)>=i)}const t=e.samples.slice(-y),n=Math.max(1,Math.round(C*v)),r=Math.max(1,Math.round(N*v));if(t.length>=n){const i=function(e,t,n){const{windowSamples:r,stepSamples:i,amplitudeRangeThreshold:o,lineNoiseRatioThreshold:a,lineNoiseHz:s,lineNoiseBandHz:l,lineNoiseMaxHz:u}=n;if(!e||e.length<r)return[];const c=[];for(let f=0;f+r<=e.length;f+=i){const n=e.slice(f,f+r);let i=1/0,h=-1/0;for(let e=0;e<n.length;e+=1){const t=n[e];t<i&&(i=t),t>h&&(h=t)}const d=Number.isFinite(i)&&Number.isFinite(h)?h-i:0,p=Za(n,t,s,l,u),m=null!=o&&d>o,v=null!=a&&p>a;c.push({startSample:f,endSample:f+r,amplitudeRange:d,lineNoiseRatio:p,amplitudeArtifact:m,lineNoiseArtifact:v})}return c}(t,v,{windowSamples:n,stepSamples:r,amplitudeRangeThreshold:E,lineNoiseRatioThreshold:P,lineNoiseHz:T,lineNoiseBandHz:M,lineNoiseMaxHz:j});e.artifactWindows=i,e.artifactLatest=i.length>0?i[i.length-1]:null}else e.artifactWindows=[],e.artifactLatest=null}),ge.current(A.current),L(Date.now())},1e3)),function(){clearInterval(me.current),me.current=0}},[F,b,y,C,N,E,P,T,M,j,v,_,x]),(0,e.useEffect)(()=>{const e=setInterval(()=>{const e=K.current,t=!!e&&Date.now()-e<5e3;te.current!==t&&(te.current=t,re(t));const n=ae.isConnected&&!t;oe(n)},1e3);return()=>clearInterval(e)},[ae.isConnected]);const we=(0,e.useCallback)(e=>{var t;if(ae.isConnecting)return;if(null===(t=he.current)||void 0===t||!t.reconnect)return;const n=Date.now();de.current||n-pe.current<5e3||(de.current=!0,pe.current=n,ue(t=>({attempts:t.attempts+1,lastAttemptAt:n,status:"attempting",reason:e})),he.current.reconnect().catch(e=>{console.warn("Auto-reconnect failed",e)}).finally(()=>{de.current=!1,ue(e=>s(s({},e),{},{status:"idle"}))}))},[ae.isConnecting]);(0,e.useEffect)(()=>{ie&&ae.isConnected&&we("stale-data")},[we,ie,ae.isConnected]),(0,e.useEffect)(()=>{ae.isConnected||ae.isConnecting||"Device disconnected"===ae.error&&we("disconnect")},[we,ae.error,ae.isConnected,ae.isConnecting]),(0,e.useEffect)(()=>{if(!ye)return;let e=!1;const t=async()=>{if(be.current)try{await be.current.release()}catch(e){console.warn("Failed to release wake lock",e)}finally{be.current=null}},n=async()=>{if(!be.current&&ne&&"visible"===document.visibilityState)try{be.current=await navigator.wakeLock.request("screen")}catch(e){console.warn("Failed to acquire wake lock",e)}};ne?n():t();const r=()=>{"visible"===document.visibilityState?n():t()};return document.addEventListener("visibilitychange",r),()=>{e=!0,document.removeEventListener("visibilitychange",r),t()}},[ne,ye]);let xe=D.current.length>0?D.current.map((e,t)=>A.current[t]||{electrode:t,label:e,samples:[],periodograms:[],averagedPeriodogram:void 0,spectrogramSlices:[],artifactWindows:[],artifactLatest:null}):A.current.filter(Boolean);l.length>0&&(xe=xe.filter(e=>l.includes(e.label||e.electrode)));const Se=(0,e.useRef)(xe);Se.current=xe;const _e=(0,e.useMemo)(()=>ve.current.filter(e=>e&&e.samples.length>0&&e.ppgChannel<=1),[I]),ke=(0,e.useRef)(_e);ke.current=_e;const Ce=(0,e.useMemo)(()=>{const e=Math.max(1,Math.round(C*v)),t=xe.filter(t=>t.samples&&t.samples.length>=e);if(0===t.length)return{badLabels:[],checked:0,reasons:{}};const n={},r=[];return t.forEach(e=>{const t=e.label||e.electrode,i=e.artifactLatest;if(!i)return;const o=[];i.amplitudeArtifact&&o.push("amplitude"),i.lineNoiseArtifact&&o.push("line-noise"),o.length>0&&(r.push(t),n[t]=o)}),{badLabels:r,checked:t.length,reasons:n}},[xe,C,v]),Ne=Ce.checked>0?Math.round(Ce.badLabels.length/Ce.checked*100):null,Ee=(0,e.useMemo)(()=>{const e=_e.filter(e=>e.samples&&e.samples.length>0);if(0===e.length)return null;const t=Math.min(w,...e.map(e=>e.samples.length));if(!t||t<2*g)return null;const n=e.map(e=>e.samples.slice(-t)).map(e=>{const t=e.reduce((e,t)=>e+t,0)/e.length,n=e.reduce((e,n)=>e+(n-t)**2,0)/e.length,r=Math.sqrt(n)||1;return e.map(e=>(e-t)/r)}),r=[];for(let i=0;i<t;i+=1){const e=n.reduce((e,t)=>{var n;return e+(null!==(n=t[i])&&void 0!==n?n:0)},0);r.push(e/n.length)}return{label:"PPG (combined)",samples:r}},[_e,w,g]),Te=(0,e.useMemo)(()=>{var e,t;if(null===Ee||void 0===Ee||!Ee.samples||Ee.samples.length<2*g)return null;const n=Ee.samples,r=Math.max(3,Math.round(.2*g)),i=Math.max(r+1,Math.round(1.2*g)),o=(e,t)=>{const n=new Array(e.length);let r=0;for(let i=0;i<e.length;i+=1){r+=e[i],i>=t&&(r-=e[i-t]);const o=Math.min(i+1,t);n[i]=r/o}return n},a=o(n,r),s=o(n,i),l=n.map((e,t)=>a[t]-s[t]),u=[...l].sort((e,t)=>e-t),c=Math.floor(u.length/2),f=u.length%2===1?u[c]:(u[c-1]+u[c])/2,h=l.map(e=>Math.abs(e-f)).sort((e,t)=>e-t),d=1.4826*(h.length%2===1?h[c]:(h[c-1]+h[c])/2)||1,p=l.map(e=>(e-f)/d),m=Math.floor(.35*g),v=Math.ceil(1.6*g),b=[];for(let g=1;g<p.length-1;g+=1)p[g]>.6&&p[g]>p[g-1]&&p[g]>p[g+1]&&(0===b.length||g-b[b.length-1]>=m)&&b.push(g);if(0===b.length)return null;const y=(()=>{if(b.length<5)return null;for(let e=b.length-1;e>=4;e-=1){const t=b.slice(e-4,e+1),n=[];let r=!0;for(let e=1;e<t.length;e+=1){const i=t[e]-t[e-1];if(i<m||i>v){r=!1;break}n.push(i)}if(!r)continue;const i=[...n].sort((e,t)=>e-t),o=i[Math.floor(i.length/2)],a=.2*o;if(n.every(e=>Math.abs(e-o)<=a))return{start:t[0],end:t[t.length-1]}}return null})(),w=null!==(e=null===y||void 0===y?void 0:y.start)&&void 0!==e?e:b[Math.max(0,b.length-5)],x=null!==(t=null===y||void 0===y?void 0:y.end)&&void 0!==t?t:b[b.length-1];return{label:"PPG cardiogram",samples:p.slice(w,x+1)}},[Ee,g]),Me=(0,e.useMemo)(()=>{if(!Ee||!Ee.samples||Ee.samples.length<4*g)return null;const e=Math.min(Ee.samples.length,Math.round(15*g)),t=Ee.samples.slice(-e),n=t.reduce((e,t)=>e+t,0)/t.length,r=t.reduce((e,t)=>e+(t-n)**2,0)/t.length,i=Math.sqrt(r),o=n+.5*i,a=[],s=Math.floor(.35*g);for(let f=1;f<t.length-1;f+=1)t[f]>o&&t[f]>t[f-1]&&t[f]>t[f+1]&&(0===a.length||f-a[a.length-1]>=s)&&a.push(f);if(a.length<2)return null;const l=[];for(let f=1;f<a.length;f+=1)l.push((a[f]-a[f-1])/g);const u=l.reduce((e,t)=>e+t,0)/l.length;if(!u||u<=0)return null;const c=60/u;return Number.isFinite(c)?Math.round(c):null},[Ee,g]);(0,e.useEffect)(()=>{o&&o({heartRateBpm:Me,combinedPpg:Ee,cardiogramPpg:Te,ppgChannels:_e,sampleRateHz:g})},[o,Me,Ee,Te,_e,g]);const je=null===W||void 0===W||null===(n=W.samples)||void 0===n?void 0:n[W.samples.length-1],Pe=null===Y||void 0===Y||null===(r=Y.samples)||void 0===r?void 0:r[Y.samples.length-1],Ae=null!==V&&void 0!==V&&V.receivedAt?Math.round((Date.now()-V.receivedAt)/1e3):null,De=null!==U&&void 0!==U&&U.receivedAt?Math.round((Date.now()-U.receivedAt)/1e3):null,Fe=K.current,ze=(0,e.useMemo)(()=>Fe?new Date(Fe):null,[Fe]),Ie=ae.isConnecting?"Connecting":ae.isConnected?"Connected":"Disconnected",Oe=ae.error?ae.error.message||String(ae.error):ie?"No recent EEG samples; attempting reconnect.":"Awaiting device data.",Re={mapped:D.current.length,withSamples:xe.filter(e=>e.samples.length>0).length,withFFT:xe.filter(e=>e.averagedPeriodogram).length,belowThreshold:xe.filter(e=>e.samples.length>0&&e.samples.length<b).length,totalPeriodograms:xe.reduce((e,t)=>e+t.periodograms.length,0),lastFFT:p||R},Le=Re.lastFFT?Math.round((Date.now()-Re.lastFFT)/1e3):null;(0,e.useEffect)(()=>{const e={t:Date.now(),status:Ie,message:Oe};fe(t=>{const n=t[t.length-1];if(n&&n.status===e.status&&n.message===e.message)return t;return[...t,e].slice(-5)})},[Ie,Oe]);const Ue=(0,e.useMemo)(()=>({device:{status:Ie,message:Oe,museStatus:ae,reconnectState:le,dataStale:ie,isStreaming:ne,lastSampleAt:ze?ze.toISOString():null,lastEegReceivedAtMs:K.current,packetsReceived:J.current,lastDownloadedPacket:ee.current},config:{sampleRateHz:v,ppgSampleRateHz:g,fftWindow:b,traceWindow:y,ppgTraceWindow:w,spectrogramWindowSec:x,notchHz:_,artifactWindowSec:C,artifactStepSec:N,amplitudeRangeThreshold:E,lineNoiseHz:T,lineNoiseBandHz:M,lineNoiseMaxHz:j,lineNoiseRatioThreshold:P},telemetry:{telemetryAgeSec:De,lastTelemetry:U},sensors:{lastPpg:V,ppgAgeSec:Ae,lastAccel:W,lastGyro:Y},buffers:{channelsMapped:Re.mapped,channelsWithSamples:Re.withSamples,fftReady:Re.withFFT,belowThreshold:Re.belowThreshold,totalPeriodograms:Re.totalPeriodograms},artifacts:{badLabels:Ce.badLabels,checked:Ce.checked,reasons:Ce.reasons},statusLog:ce}),[Ie,Oe,ae,le,ie,ne,ze,De,U,V,Ae,W,Y,Re.mapped,Re.withSamples,Re.withFFT,Re.belowThreshold,Re.totalPeriodograms,Ce.badLabels,Ce.checked,Ce.reasons,ce,v,g,b,y,w,x,_,C,N,E,T,M,j,P]);(0,e.useEffect)(()=>{a&&a(Ue)},[a,Ue]);const Be=(0,e.useCallback)(function(){let{requireFullWindow:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=K.current;if(!t||Date.now()-t>5e3)return;if(J.current<=ee.current)return;const n=Math.ceil(S/1e3*v);let r=(Se.current||[]).filter(e=>e.samples.length>0);if(e&&(r=r.filter(e=>e.samples.length>=n)),0===r.length)return;const i=1e3/v,o=new Date(t),a=r.map(e=>e.samples.length),s=e?n:Math.min(...a);if(!s||s<=0)return;const l=new Date(o.getTime()-Math.max(s-1,0)*i).toISOString(),u=r.map(e=>e.label||e.electrode),c=l.replace(/[:.]/g,"-"),f="sub-01_ses-01_task-meditrain_run-".concat(c,"_eeg"),h=f.replace("_eeg","_ppg"),d="".concat(f,".eeg"),p="".concat(f,".vhdr"),m="".concat(f,".vmrk"),b="".concat(f.replace("_eeg","_channels"),".tsv"),y="".concat(f,".json"),w="".concat(h,".tsv"),x="".concat(h,".json"),k=(e,t)=>{const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)},C=r.map(e=>e.samples.slice(-s)),N=C.length,E=new Float32Array(s*N);for(let v=0;v<s;v+=1)for(let e=0;e<N;e+=1)E[v*N+e]=C[e][v]||0;const T=["Brain Vision Data Exchange Header File Version 1.0","; Generated by meditrain","","[Common Infos]","DataFile=".concat(d),"MarkerFile=".concat(m),"DataFormat=BINARY","DataOrientation=MULTIPLEXED","DataType=FLOAT32","NumberOfChannels=".concat(N),"SamplingInterval=".concat(Math.round(1e6/v)),"","[Channel Infos]",...u.map((e,t)=>"Ch".concat(t+1,"=").concat(e,",,uV"))],M=["Brain Vision Data Exchange Marker File, Version 1.0","; Generated by meditrain","","[Common Infos]","DataFile=".concat(d),"","[Marker Infos]","Mk1=New Segment,,1,1,0,0"],j={SamplingFrequency:v,PowerLineFrequency:60,EEGReference:"unknown",EEGGround:"unknown",SoftwareFilters:"none",RecordingType:"continuous",TaskName:"meditrain",AcquisitionDateTime:l,NotchHz:_},P=Q.current;P&&(j.TrainingTargets=P.trainingTargets||[],j.TrainingTargetMetrics=P.targetMetrics||{},j.TrainingTargetHistory=P.targetHistory||{},j.TrainingTargetReadings=P.targetReadings||[],j.Config=P.config||{});const A=["name","type","units","sampling_frequency","low_cutoff","high_cutoff","reference"].join("\t"),D=u.map(e=>[e,"EEG","uV",v,"n/a","n/a","unknown"].join("\t"));k(new Blob([E.buffer],{type:"application/octet-stream"}),d),k(new Blob([T.join("\n")],{type:"text/plain"}),p),k(new Blob([M.join("\n")],{type:"text/plain"}),m),k(new Blob([JSON.stringify(j,null,2)],{type:"application/json"}),y),k(new Blob([[A,...D].join("\n")],{type:"text/tab-separated-values"}),b);const F=ke.current||[];if(F.length>0){const e=s/v,t=Math.min(Math.round(e*g),...F.map(e=>e.samples.length));if(t>0){const e=F.map(e=>e.samples.slice(-t)),n=F.map(e=>e.label).join("\t"),r=[];for(let o=0;o<t;o+=1)r.push(e.map(e=>{var t;return null!==(t=e[o])&&void 0!==t?t:""}).join("\t"));const i={SamplingFrequency:g,PowerLineFrequency:60,RecordingType:"continuous",TaskName:"meditrain",AcquisitionDateTime:l,Columns:F.map(e=>e.label)};k(new Blob([[n,...r].join("\n")],{type:"text/tab-separated-values"}),w),k(new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),x)}}ee.current=J.current},[S,g,v,_]);return(0,e.useEffect)(()=>{if(Z&&ne)return G.current=setInterval(()=>Be({requireFullWindow:!0}),S),()=>clearInterval(G.current);clearInterval(G.current)},[Z,ne,Be,S]),(0,u.jsxs)("div",{className:"device-panel","data-render":I,children:[(0,u.jsxs)("div",{className:"device-status",children:[(0,u.jsx)(f,{ref:he,onNewData:function(e){K.current=Date.now(),J.current+=1,te.current||(te.current=!0,re(!0));const t=D.current[e.electrode];let n=A.current[e.electrode];"undefined"===typeof n&&(A.current[e.electrode]={electrode:e.electrode,label:t||"CH ".concat(e.electrode),samples:[],periodograms:[],averagedPeriodogram:void 0,spectrogramSlices:[],artifactWindows:[],artifactLatest:null},n=A.current[e.electrode]);const r=n.samples;r.push(...e.samples);const i=Math.ceil(S/1e3*v),o=Math.max(y,2*b,i+b);r.length>o&&r.splice(0,r.length-o),n.samples=r,O(e=>e+1)},updateChannelMaps:function(e){0===D.current.length&&(D.current=[...e],D.current.forEach((e,t)=>{A.current[t]||(A.current[t]={electrode:t,label:e,samples:[],periodograms:[],averagedPeriodogram:void 0,spectrogramSlices:[],artifactWindows:[],artifactLatest:null})}),z(!0),O(e=>e+1))},onTelemetry:e=>B(s(s({},e),{},{receivedAt:Date.now()})),onPpg:function(e){if(!e||"number"!==typeof e.ppgChannel)return;if(e.ppgChannel>1)return;H(s(s({},e),{},{receivedAt:Date.now()}));const t=e.ppgChannel;ve.current[t]||(ve.current[t]={ppgChannel:t,label:"PPG".concat(t+1),samples:[]});const n=ve.current[t],r=n.samples;r.push(...e.samples);const i=Math.ceil(S/1e3*g),o=Math.max(w,i);r.length>o&&r.splice(0,r.length-o),n.samples=r,O(e=>e+1)},onAccelerometer:e=>q(s(s({},e),{},{receivedAt:Date.now()})),onGyro:e=>$(s(s({},e),{},{receivedAt:Date.now()})),onStatusChange:se}),(0,u.jsxs)("div",{className:"inline-status",children:[(0,u.jsxs)("span",{className:"status-pill ".concat(ae.isConnected?"":"warn"),children:["Device: ",Ie]}),(0,u.jsxs)("span",{className:"status-pill",children:["Status: ",Oe]})]}),D.current.length>0&&(0,u.jsxs)("p",{className:"subdued",children:["Channels detected: ",D.current.join(" \u2022 ")]}),(0,u.jsxs)("div",{className:"inline-status",style:{gap:8,flexWrap:"wrap"},children:[(0,u.jsx)("button",{type:"button",onClick:Be,disabled:!ne,children:"Download BIDS EEG"}),(0,u.jsxs)("label",{className:"status-pill",style:{cursor:"pointer"},children:[(0,u.jsx)("input",{type:"checkbox",checked:Z,onChange:e=>X(e.target.checked),style:{marginRight:6}}),"Auto-download every 60s"]})]}),(0,u.jsxs)("div",{className:"inline-status",children:[(0,u.jsxs)("span",{className:"status-pill",children:["Mapped: ",Re.mapped]}),(0,u.jsxs)("span",{className:"status-pill",children:["With samples: ",Re.withSamples]}),(0,u.jsxs)("span",{className:"status-pill",children:["FFT ready: ",Re.withFFT]}),(0,u.jsxs)("span",{className:"status-pill",children:["Signal rejected: ",Ce.checked>0?"".concat(Ce.badLabels.length,"/").concat(Ce.checked," (").concat(Ne,"%)"):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Below ",b," samples: ",Re.belowThreshold]}),(0,u.jsxs)("span",{className:"status-pill",children:["Periodograms stored: ",Re.totalPeriodograms]}),(0,u.jsxs)("span",{className:"status-pill heartbeat ".concat(null!==Le&&Le<5?"alive":""),children:["Last FFT: ",Re.lastFFT?"".concat(Le,"s ago"):"\u2014"]}),ie&&(0,u.jsxs)("span",{className:"status-pill",style:{background:"#6d2828",color:"#fff"},children:["Data stale, reconnecting",le.attempts>0?" (".concat(le.attempts,")"):""]})]}),(0,u.jsxs)("div",{className:"inline-status",children:[(0,u.jsxs)("span",{className:"status-pill",children:["Battery: ",null!=(null===U||void 0===U?void 0:U.batteryLevel)?"".concat(U.batteryLevel,"%"):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Voltage: ",null!=(null===U||void 0===U?void 0:U.fuelGaugeVoltage)?"".concat(U.fuelGaugeVoltage.toFixed(2),"V"):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Temp: ",null!=(null===U||void 0===U?void 0:U.temperature)?"".concat(U.temperature.toFixed(1),"\xb0C"):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Telemetry age: ",null!=De?"".concat(De,"s"):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Last sample: ",ze?ze.toLocaleString():"\u2014"]})]}),(0,u.jsxs)("div",{className:"inline-status",children:[(0,u.jsxs)("span",{className:"status-pill",children:["PPG: ",V?"ch ".concat(V.ppgChannel," \xb7 ").concat(V.samples.length," samples (").concat(Ae,"s ago)"):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Accel: ",je?"".concat(je.x.toFixed(2),", ").concat(je.y.toFixed(2),", ").concat(je.z.toFixed(2)):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Gyro: ",Pe?"".concat(Pe.x.toFixed(2),", ").concat(Pe.y.toFixed(2),", ").concat(Pe.z.toFixed(2)):"\u2014"]})]})]}),(0,u.jsx)("div",{className:"config-weights",children:(0,u.jsx)(h,{availableChannels:D.current.length>0?D.current:d,selectedChannels:l,onToggleChannel:c})}),(0,u.jsxs)("div",{className:"chart-block chart-fill",style:{marginTop:10},children:[(0,u.jsxs)("p",{className:"chart-label",children:["Combined EEG traces (per sensor, last ",y," samples)",Ce.badLabels.length>0?" \xb7 bad: ".concat(Ce.badLabels.join(", ")):""]}),(0,u.jsx)("div",{className:"chart-frame",children:(0,u.jsx)(Fa,{channels:xe.filter(e=>e.samples.length>0),badLabels:Ce.badLabels,windowSize:y,autoHeight:!0})})]}),(0,u.jsxs)("div",{className:"chart-block",style:{marginTop:10},children:[(0,u.jsxs)("p",{className:"chart-label",children:["Raw PPG traces (last ",w," samples)"]}),_e.length>0?(0,u.jsx)(Fa,{channels:_e,windowSize:w,sampleRate:g,height:160}):(0,u.jsx)("p",{className:"subdued",children:"Waiting for PPG data."})]})]})};const Ka=function(t){let{channel:n,negative:r=!1,targets:i=[],targetHistory:o={},durationSec:a,height:s=140}=t;const l=(0,e.useMemo)(()=>({alpha:"#f97316",beta:"#06b6d4",gamma:"#8b5cf6",delta:"#22c55e",theta:"#facc15"}),[]),c=Object.keys(n),f=c.length>0?n[c[0]].length:0,h=(0,e.useRef)(null),[d,p]=(0,e.useState)(200),m=s,v=6,g=8,b=36,y=m-v-28;return(0,e.useEffect)(()=>{var e;if(!h.current)return;if(0===f&&0===i.length)return;const t=(null===(e=h.current.parentElement)||void 0===e?void 0:e.clientWidth)||200;t!==d&&p(t);const s=ra(h.current);s.selectAll("*").remove();const u=t-b-g,m=c.some(e=>(n[e]||[]).some(e=>e&&"object"===typeof e&&null!=e.t)),w=m?function(e,t){let n,r;if(void 0===t)for(const i of e)null!=i&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}(c.flatMap(e=>(n[e]||[]).map(e=>e&&"object"===typeof e?e.t:null).filter(e=>null!=e))):null,x=w?w[1]:null,S=m&&w&&null!=w[0]&&null!=w[1]?ea().domain(w.map(e=>new Date(e))).range([0,u]):Or().domain([0,Math.max(1,f-1)]).range([0,u]),_=i.flatMap(e=>{const t=e.tolerance||0;return[e.target-t,e.target+t]}),E=Object.values(o||{}).flatMap(e=>Array.isArray(e)?e.flatMap(e=>{const t=(null===e||void 0===e?void 0:e.tolerance)||0;return[(null===e||void 0===e?void 0:e.target)-t,(null===e||void 0===e?void 0:e.target)+t]}):[]),T=Object.values(o||{}).flatMap(e=>Array.isArray(e)?e.map(e=>"number"===typeof(null===e||void 0===e?void 0:e.sensitivity)?e.sensitivity:null).filter(e=>null!=e):[]),M=[...c.flatMap(e=>(n[e]||[]).map(e=>e&&"object"===typeof e?e.v:e)),..._,...E].filter(e=>"number"===typeof e&&Number.isFinite(e)),j=M.length?Math.min(...M):null,P=M.length?Math.max(...M):null,A=r?-1:0,D=Math.min(A,null!=j?j:A),F=Math.max(1,null!=P?P:1),z=.08*(F-D),I=Or().domain([D-z,F+z]).range([y,0]),O=s.append("g").attr("transform","translate(".concat(b,",").concat(v,")"));if(i.forEach(e=>{const t=e.target,n=e.tolerance||0,i=I(Math.min(1,t+n)),o=I(Math.max(r?-1:0,t-n));O.append("rect").attr("x",0).attr("width",u).attr("y",i).attr("height",Math.max(0,o-i)).attr("fill",l[e.band]||"#fff").attr("opacity",.12)}),m&&w&&Object.keys(o||{}).length>0){const e=s.append("g").attr("transform","translate(".concat(b,",").concat(v,")"));Object.entries(o).forEach(t=>{let[n,r]=t;if(!Array.isArray(r)||r.length<2)return;const i=[...r].filter(e=>e&&null!=e.t).sort((e,t)=>e.t-t.t);if(i.length<2)return;const o=function(e,t,n){var r=null,i=ya(!0),o=null,a=xa,s=null,l=Ma(u);function u(u){var c,f,h,d,p,m=(u=ba(u)).length,v=!1,g=new Array(m),b=new Array(m);for(null==o&&(s=a(p=l())),c=0;c<=m;++c){if(!(c<m&&i(d=u[c],c,u))===v)if(v=!v)f=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=c-1;h>=f;--h)s.point(g[h],b[h]);s.lineEnd(),s.areaEnd()}v&&(g[c]=+e(d,c,u),b[c]=+t(d,c,u),s.point(r?+r(d,c,u):g[c],n?+n(d,c,u):b[c]))}if(p)return s=null,p+""||null}function c(){return Aa().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?ja:ya(+e),t="function"===typeof t?t:ya(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?Pa:ya(+n),u.x=function(t){return arguments.length?(e="function"===typeof t?t:ya(+t),r=null,u):e},u.x0=function(t){return arguments.length?(e="function"===typeof t?t:ya(+t),u):e},u.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:ya(+e),u):r},u.y=function(e){return arguments.length?(t="function"===typeof e?e:ya(+e),n=null,u):t},u.y0=function(e){return arguments.length?(t="function"===typeof e?e:ya(+e),u):t},u.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:ya(+e),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(e){return arguments.length?(i="function"===typeof e?e:ya(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),u):o},u}().x(e=>S(new Date(e.t))).y0(e=>I(e.target-(e.tolerance||0))).y1(e=>I(e.target+(e.tolerance||0))),a=Aa().x(e=>S(new Date(e.t))).y(e=>I(e.target));e.append("path").datum(i).attr("fill",l[n]||"#fff").attr("opacity",.18).attr("d",o),e.append("path").datum(i).attr("fill","none").attr("stroke",l[n]||"#fff").attr("stroke-width",1).attr("opacity",.5).attr("d",a)})}if(m&&T.length>0){const e=Math.min(...T),t=Math.max(...T),n=Math.max(.05,.2*(t-e)),r=Or().domain([e-n,t+n]).range([y,0]),i=s.append("g").attr("transform","translate(".concat(b,",").concat(v,")"));Object.entries(o).forEach(e=>{let[t,n]=e;if(!Array.isArray(n)||n.length<2)return;const o=[...n].filter(e=>e&&null!=e.t&&"number"===typeof e.sensitivity).sort((e,t)=>e.t-t.t);if(o.length<2)return;const a=Aa().x(e=>S(new Date(e.t))).y(e=>r(e.sensitivity));i.append("path").datum(o).attr("fill","none").attr("stroke",l[t]||"#fff").attr("stroke-width",1).attr("stroke-dasharray","4 3").attr("opacity",.7).attr("d",a)}),s.append("g").attr("transform","translate(".concat(b+u,", ").concat(v,")")).call(k(r).ticks(3)),s.append("text").attr("x",b+u+6).attr("y",v+10).attr("fill","rgba(255,255,255,0.6)").attr("font-size",10).text("Sens")}const R=s.append("g").attr("transform","translate(".concat(b,",").concat(v,")")),L=Aa().x((e,t)=>m&&null!=e._t?S(new Date(e._t)):S(e._xIdx)).y(e=>I(e.v));c.forEach(e=>{const t=(n[e]||[]).map((e,t)=>{var n;return e&&"object"===typeof e?{v:e.v,_xIdx:t,_t:null!==(n=e.t)&&void 0!==n?n:null}:{v:e,_xIdx:t,_t:null}});let r;r=t.length>0&&null!=t[0]._t?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;if(!e||e.length<2)return[e];const r=[];let i=0;for(let o=1;o<e.length;++o)t(e[o])-t(e[o-1])>n&&(r.push(e.slice(i,o)),i=o);return i<e.length&&r.push(e.slice(i)),r}(t,e=>e._t,2e3):[t],r.forEach(t=>{t.length<2||R.append("path").datum(t).attr("fill","none").attr("stroke",l[e]||"#fff").attr("stroke-width",1.5).attr("d",L)})});const U=a||f-1,B=m&&x?C(S).ticks(4).tickFormat(e=>{const t=Math.max(0,(x-new Date(e).getTime())/1e3);return 0===t?"0s":"-".concat(Math.round(t),"s")}):C(S).ticks(4).tickFormat(e=>{const t=Math.max(0,U*(1-e/Math.max(1,f-1)));return e>=f-1?"0s":"-".concat(Math.round(t),"s")});s.append("g").attr("transform","translate(".concat(b,", ").concat(v+y,")")).call(B),s.append("g").attr("transform","translate(".concat(b,", ").concat(v,")")).call(N(I).ticks(4).tickFormat(tr(".1f")))},[f,c,n,r,l,d,i,o,a,y,b,g,v]),(0,u.jsx)("svg",{ref:h,width:"100%",height:m})},Ja=[{key:"delta",label:"Delta",min:.5,max:4},{key:"theta",label:"Theta",min:4,max:8},{key:"alpha",label:"Alpha",min:8,max:12},{key:"beta",label:"Beta",min:12,max:30},{key:"gamma",label:"Gamma",min:30,max:50}],es=Ja.map(e=>e.key);function ts(e){let{title:t,subtitle:n,indicator:r,children:i}=e;return(0,u.jsxs)("div",{className:"panel-heading",children:[(0,u.jsxs)("div",{className:"panel-title",children:[(0,u.jsx)("h3",{children:t}),n?(0,u.jsx)("span",{children:n}):null,r]}),i]})}function ns(e){let{children:t}=e;return(0,u.jsx)("div",{className:"panel-controls",children:t})}function rs(e){let{pressed:t=!1,onClick:n,ariaLabel:r,title:i,children:o}=e;return(0,u.jsx)("button",{type:"button",className:"panel-button","aria-pressed":t,"aria-label":r,title:i,onClick:n,children:o})}const is=function(t){let{bandHistory:n={},trainingTargets:r=[],targetHistory:i={},windowSeconds:o=120}=t;const[a,s]=(0,e.useState)(null),l=(0,e.useMemo)(()=>({expand:"\u2922",collapse:"\u2921"}),[]),c=Object.entries(n),f=a?c.filter(e=>{let[t]=e;return t===a}):c,h=(0,e.useMemo)(()=>{const e={};return r.forEach(t=>{"relative"===(t.model||"relative")&&(e[t.label]||(e[t.label]=[]),e[t.label].push(t))}),e},[r]);return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"panel-heading",style:{marginTop:8},children:(0,u.jsxs)("div",{className:"panel-title",children:[(0,u.jsx)("h3",{children:"Band Power Over Time"}),(0,u.jsx)("span",{className:"subdued",children:"Overlayed lines per band (relative power)"})]})}),(0,u.jsx)("div",{className:"band-legend",children:Ja.map(e=>(0,u.jsx)("span",{className:"legend-chip legend-".concat(e.key),children:e.label},e.key))}),(0,u.jsxs)("div",{className:"band-grid ".concat(a?"expanded":""),children:[0===c.length&&(0,u.jsx)("p",{className:"subdued",children:"Waiting for spectra to compute live band power."}),f.map(e=>{let[t,n]=e;const r=h[t]||[],c=i[t]||{},f=Object.fromEntries(Object.entries(n).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?n.map(e=>({v:e.v,t:e.t})):[]]}));return(0,u.jsxs)("div",{className:"band-card ".concat(a===t?"expanded":""),children:[(0,u.jsxs)("div",{className:"band-card-header",children:[(0,u.jsx)("p",{className:"eyebrow",children:t}),(0,u.jsx)("span",{className:"channel-meta",children:"Relative power history"}),(0,u.jsx)(rs,{pressed:a===t,ariaLabel:a===t?"Exit fullscreen":"Enter fullscreen",title:a===t?"Exit fullscreen":"Enter fullscreen",onClick:()=>s(a===t?null:t),children:a===t?l.collapse:l.expand})]}),(0,u.jsx)(Ka,{channel:f,targets:r,targetHistory:c,durationSec:o,height:a===t?320:140}),r.length>0&&(0,u.jsx)("div",{className:"inline-status",style:{marginTop:8},children:r.map(e=>{var t;return(0,u.jsxs)("span",{className:"status-pill",children:[e.band,": ",e.target.toFixed(3)," \xb1 ",(null!==(t=e.tolerance)&&void 0!==t?t:0).toFixed(3)," (sens ",Number(e.sensitivity||1).toFixed(2),")"]},"".concat(e.id,"-target"))})})]},t)})]})]})};function os(t){let{availableChannels:n=[],selectedTargets:r=[],bandSnapshots:i=[],bandHistory:o={},targetHistoryById:a={},deltaSmoothingSec:l=10,onSaveTarget:c,onDeleteTarget:f,audioEnabled:h,onToggleAudio:d,presets:p=[],presetsLoading:m=!1,presetsError:v=null,onApplyPreset:g,onClearTargets:b,targetMetrics:y={}}=t;const[w,x]=(0,e.useState)({id:null,label:[],model:"relative",band:"alpha",numeratorBand:"theta",denominatorBand:"beta",target:.3,tolerance:.05}),[S,_]=(0,e.useState)("");function k(e,t){const n=e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),r="ratio"===t?"Ratio":"Relative";return"".concat(n," (").concat(r,")")}function C(e,t){const n=e.filter(e=>e.t>=t);return 0===n.length?null:n.reduce((e,t)=>e+t.v,0)/n.length}function N(e,t){const n=140,r=140,i=e&&e.length>1,o=t&&t.length>0;if(!i&&!o)return(0,u.jsx)("svg",{width:"100%",height:r,viewBox:"0 0 ".concat(n," ").concat(r),preserveAspectRatio:"none",children:(0,u.jsx)("text",{x:"8",y:70,fill:"rgba(255,255,255,0.5)",fontSize:"10",children:"No recent data"})});const a=[...e||[],...t||[]].filter(e=>e&&null!=e.t).map(e=>e.t),s=Math.min(...a),l=Math.max(...a),c=Math.max(1,l-s),f=[...(e||[]).map(e=>e.v),...(t||[]).flatMap(e=>{const t=e.tolerance||0;return[e.target-t,e.target,e.target+t]})].filter(e=>"number"===typeof e),h=Math.min(...f),d=Math.max(...f),p=Math.max(1e-4,d-h),m=e=>126-(e-h)/p*116,v=(e||[]).map(e=>{const t=(e.t-s)/c*n,r=m(e.v);return"".concat(t.toFixed(2),",").concat(r.toFixed(2))}),g=(t||[]).slice().sort((e,t)=>e.t-t.t),b=g.map(e=>{const t=(e.t-s)/c*n,r=m(e.target);return"".concat(t.toFixed(2),",").concat(r.toFixed(2))}),y=g.length>0?[...g.map(e=>{const t=(e.t-s)/c*n,r=m(e.target+(e.tolerance||0));return"".concat(t.toFixed(2),",").concat(r.toFixed(2))}),...g.slice().reverse().map(e=>{const t=(e.t-s)/c*n,r=m(e.target-(e.tolerance||0));return"".concat(t.toFixed(2),",").concat(r.toFixed(2))})]:[];return(0,u.jsxs)("svg",{width:"100%",height:r,viewBox:"0 0 ".concat(n," ").concat(r),preserveAspectRatio:"none",children:[y.length>2&&(0,u.jsx)("polygon",{fill:"rgba(248, 113, 113, 0.18)",points:y.join(" ")}),b.length>1&&(0,u.jsx)("polyline",{fill:"none",stroke:"rgba(248, 113, 113, 0.85)",strokeWidth:"1.5",points:b.join(" ")}),1===b.length&&(0,u.jsx)("line",{x1:"0",x2:n,y1:b[0].split(",")[1],y2:b[0].split(",")[1],stroke:"rgba(248, 113, 113, 0.85)",strokeWidth:"1.5"}),y.length>0&&b.length<=1&&(0,u.jsx)("line",{x1:"0",x2:n,y1:y[0].split(",")[1],y2:y[0].split(",")[1],stroke:"rgba(248, 113, 113, 0.4)",strokeWidth:"1",strokeDasharray:"3 2"}),i&&(0,u.jsx)("polyline",{fill:"none",stroke:"rgba(96, 165, 250, 0.9)",strokeWidth:"2",points:v.join(" ")})]})}function E(e){return"ratio"===(e.model||"relative")?e.numeratorBand&&e.denominatorBand?"".concat(e.numeratorBand,"/").concat(e.denominatorBand," ratio"):"ratio":e.band}return(0,e.useEffect)(()=>{null===w.id&&0===w.label.length&&(n.length>0?x(e=>s(s({},e),{},{label:[n[0]]})):x(e=>s(s({},e),{},{label:["ALL"]})))},[n,w.id,w.label.length]),(0,u.jsxs)("div",{className:"training-control",children:[(0,u.jsxs)("div",{className:"preset-selector",children:[(0,u.jsxs)("div",{className:"field",children:[(0,u.jsx)("label",{children:"Load Preset Profile"}),(0,u.jsx)("select",{value:S,onChange:function(e){const t=e.target.value;_(t),t&&g&&g(t)},disabled:m||0===p.length,children:m?(0,u.jsx)("option",{value:"",children:"Loading presets..."}):0===p.length?(0,u.jsx)("option",{value:"",children:v?"Failed to load presets":"No presets available"}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("option",{value:"",children:["-- Select a preset (",p.length," available) --"]}),p.map(e=>(0,u.jsx)("option",{value:e.name,children:k(e.name,e.model)},e.name))]})}),v&&(0,u.jsxs)("span",{className:"preset-error",children:["Error: ",v]})]}),r.length>0&&b&&(0,u.jsx)("button",{type:"button",className:"clear-btn",onClick:b,children:"Clear All Targets"})]}),(0,u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),0===w.label.length)return;const t=w.model||"relative";if(r.some(e=>{const n=e.model||"relative";return e.label===w.label[0]&&n===t&&e.id!==w.id&&("ratio"===t?e.numeratorBand===w.numeratorBand&&e.denominatorBand===w.denominatorBand:e.band===w.band)}))return;const n=w.id||Date.now().toString();c({id:n,label:w.label[0],model:t,band:"relative"===t?w.band:null,numeratorBand:"ratio"===t?w.numeratorBand:null,denominatorBand:"ratio"===t?w.denominatorBand:null,target:Number(w.target),tolerance:Number(w.tolerance)}),x({id:null,label:w.label,model:t,band:w.band,numeratorBand:w.numeratorBand,denominatorBand:w.denominatorBand,target:w.target,tolerance:w.tolerance})},className:"training-form",children:[(0,u.jsxs)("div",{className:"field",children:[(0,u.jsx)("label",{children:"Electrode"}),(0,u.jsxs)("select",{value:w.label[0]||"",onChange:e=>x(s(s({},w),{},{label:[e.target.value]})),children:[(0,u.jsx)("option",{value:"ALL",children:"All electrodes"}),(0,u.jsx)("option",{value:"PAIR_TP9_10",children:"Paired TP9/TP10"}),(0,u.jsx)("option",{value:"PAIR_AF7_8",children:"Paired AF7/AF8"}),n.map(e=>(0,u.jsx)("option",{value:e,children:e},e))]})]}),(0,u.jsxs)("div",{className:"field",children:[(0,u.jsx)("label",{children:"Metric"}),(0,u.jsxs)("select",{value:w.model,onChange:e=>x(s(s({},w),{},{model:e.target.value})),children:[(0,u.jsx)("option",{value:"relative",children:"Relative band power"}),(0,u.jsx)("option",{value:"ratio",children:"Band ratio"})]})]}),(0,u.jsxs)("div",{className:"field",children:[(0,u.jsx)("label",{children:"ratio"===w.model?"Ratio":"Band"}),"ratio"===w.model?(0,u.jsxs)("div",{className:"ratio-fields",children:[(0,u.jsx)("select",{value:w.numeratorBand,onChange:e=>x(s(s({},w),{},{numeratorBand:e.target.value})),children:es.map(e=>(0,u.jsx)("option",{value:e,children:e},e))}),(0,u.jsx)("span",{className:"ratio-sep",children:"/"}),(0,u.jsx)("select",{value:w.denominatorBand,onChange:e=>x(s(s({},w),{},{denominatorBand:e.target.value})),children:es.map(e=>(0,u.jsx)("option",{value:e,children:e},e))})]}):(0,u.jsx)("select",{value:w.band,onChange:e=>x(s(s({},w),{},{band:e.target.value})),children:es.map(e=>(0,u.jsx)("option",{value:e,children:e},e))})]}),(0,u.jsxs)("div",{className:"field",children:[(0,u.jsx)("label",{children:"ratio"===w.model?"Target (ratio)":"Target (relative 0-1)"}),(0,u.jsx)("input",{type:"number",step:"0.01",min:"0",max:"ratio"===w.model?void 0:1,value:w.target,onChange:e=>x(s(s({},w),{},{target:e.target.value}))})]}),(0,u.jsxs)("div",{className:"field",children:[(0,u.jsx)("label",{children:"Tolerance (\xb1)"}),(0,u.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1",value:w.tolerance,onChange:e=>x(s(s({},w),{},{tolerance:e.target.value}))})]}),(0,u.jsxs)("div",{className:"inline-buttons",children:[(0,u.jsx)("button",{type:"submit",children:w.id?"Update Target":"Add Target"}),(0,u.jsxs)("button",{type:"button",onClick:()=>d(!h),children:[h?"Disable":"Enable"," Audio Feedback"]})]})]}),(0,u.jsxs)("div",{className:"target-list",children:[0===r.length&&(0,u.jsx)("p",{className:"subdued",children:"No targets yet."}),r.map(e=>{var t;const n=Date.now(),r=1e3*l,i=1e3*Math.max(5,l),s=function(e,t,n){var r;if("ratio"===(e.model||"relative")){var i,a;if(!e.numeratorBand||!e.denominatorBand)return null;const r=(null===o||void 0===o||null===(i=o[e.label])||void 0===i?void 0:i[e.numeratorBand])||[],s=(null===o||void 0===o||null===(a=o[e.label])||void 0===a?void 0:a[e.denominatorBand])||[],l=C(r,t-n),u=C(s,t-n);return"number"!==typeof l||"number"!==typeof u||0===u?null:l/u}return C((null===o||void 0===o||null===(r=o[e.label])||void 0===r?void 0:r[e.band])||[],t-n)}(e,n,r),c="number"===typeof s?s-e.target:null,h=y[e.id],d=null!==(t=null===h||void 0===h?void 0:h.effectiveTolerance)&&void 0!==t?t:e.tolerance,p=function(e,t,n){var r;if("ratio"===(e.model||"relative")){var i,a;if(!e.numeratorBand||!e.denominatorBand)return[];const r=(null===o||void 0===o||null===(i=o[e.label])||void 0===i?void 0:i[e.numeratorBand])||[],s=(null===o||void 0===o||null===(a=o[e.label])||void 0===a?void 0:a[e.denominatorBand])||[],l=new Map(s.map(e=>[e.t,e.v]));return r.filter(e=>e.t>=t-n).map(e=>{const t=l.get(e.t);return"number"!==typeof t||0===t?null:{t:e.t,v:e.v/t}}).filter(Boolean)}return((null===o||void 0===o||null===(r=o[e.label])||void 0===r?void 0:r[e.band])||[]).filter(e=>e.t>=t-n)}(e,n,i),m=function(e,t,n){return((null===a||void 0===a?void 0:a[e.id])||[]).filter(e=>e.t>=t-n)}(e,n,i);return(0,u.jsxs)("div",{className:"target-item",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("strong",{children:e.label})," \u2022 ",E(e)," \u2022 target ",e.target," \xb1 ",e.tolerance,"number"===typeof s&&(0,u.jsxs)("span",{className:"target-delta",children:[" ","| avg ",s.toFixed(3)," | \u0394 ",c>=0?"+":"",c.toFixed(3)]}),h&&(0,u.jsxs)("span",{className:"target-delta",children:[" ","| sensitivity ",h.sensitivity.toFixed(2),"x \u2022 effective \xb1 ",d.toFixed(3)]})]}),(0,u.jsxs)("div",{className:"chart-block",style:{marginTop:6},children:[(0,u.jsx)("p",{className:"chart-label",style:{marginBottom:4},children:"Signal vs target band"}),N(p,m)]}),(0,u.jsxs)("div",{className:"inline-buttons",children:[(0,u.jsx)("button",{type:"button",onClick:()=>function(e){x({id:e.id,label:[e.label],model:e.model||"relative",band:e.band||"alpha",numeratorBand:e.numeratorBand||"theta",denominatorBand:e.denominatorBand||"beta",target:e.target,tolerance:e.tolerance})}(e),children:"Edit"}),(0,u.jsx)("button",{type:"button",onClick:()=>f(e.id),children:"Delete"})]})]},e.id)})]})]})}function as(e,t){var n,r;if(!(e.audioEnabled===t.audioEnabled&&e.targetMetrics===t.targetMetrics&&e.deltaSmoothingSec===t.deltaSmoothingSec&&e.bandSnapshots===t.bandSnapshots&&e.bandHistory===t.bandHistory&&e.targetHistoryById===t.targetHistoryById&&e.onSaveTarget===t.onSaveTarget&&e.onDeleteTarget===t.onDeleteTarget&&e.onToggleAudio===t.onToggleAudio&&e.onApplyPreset===t.onApplyPreset&&e.onClearTargets===t.onClearTargets&&e.presetsLoading===t.presetsLoading&&e.presetsError===t.presetsError))return!1;if(e.availableChannels.length!==t.availableChannels.length)return!1;if(e.selectedTargets.length!==t.selectedTargets.length)return!1;if(((null===(n=e.presets)||void 0===n?void 0:n.length)||0)!==((null===(r=t.presets)||void 0===r?void 0:r.length)||0))return!1;if(e.availableChannels.join("|")!==t.availableChannels.join("|"))return!1;if((e.presets||[]).map(e=>e.name).join("|")!==(t.presets||[]).map(e=>e.name).join("|"))return!1;return e.selectedTargets.map(e=>"".concat(e.id,"-").concat(e.label,"-").concat(e.model,"-").concat(e.band,"-").concat(e.numeratorBand,"-").concat(e.denominatorBand,"-").concat(e.target,"-").concat(e.tolerance)).join("|")===t.selectedTargets.map(e=>"".concat(e.id,"-").concat(e.label,"-").concat(e.model,"-").concat(e.band,"-").concat(e.numeratorBand,"-").concat(e.denominatorBand,"-").concat(e.target,"-").concat(e.tolerance)).join("|")}const ss=e.memo(os,as);const ls=function(){return(0,u.jsx)("div",{children:"TrainingView"})};function us(e,t,n,r,i,o){if(!e||e.length<n)return null;const a=Math.max(1,n-r),s=function(e){const t=new Array(e);for(let n=0;n<e;n+=1)t[n]=.5*(1-Math.cos(2*Math.PI*n/(e-1)));return t}(n),l=s.reduce((e,t)=>e+t*t,0)/n,u=[],c=[];let f=null;for(let h=0;h+n<=e.length;h+=a){const r=e.slice(h,h+n),a=new Array(i).fill(0);for(let e=0;e<n;e+=1)a[e]=r[e]*s[e];const p=(0,d.fft)(a),m=d.util.fftFreq(p,t),v=d.util.fftMag(p),g=[],b=[],y=Math.floor(i/2);for(let e=0;e<m.length;e+=1){if(m[e]<0)continue;if(m[e]>o)continue;const r=v[e]*v[e]/(t*n*l),i=0===e||e===y?1:2;g.push(r*i),b.push(m[e])}f||(f=b);const w=(h+n/2)/t;u.push(w),c.push(g)}return c.length&&f&&f.length?{freqs:f,times:u,slices:c}:null}function cs(e,t){if(!e.length)return 0;const n=[...e].sort((e,t)=>e-t);return n[Math.min(n.length-1,Math.max(0,Math.round(t/100*(n.length-1))))]}const fs=function(t){let{eegData:n,selectedChannels:r,windowSeconds:i=300,preferCachedSlices:o=!0}=t;const a=50,s=Math.round(256*i),l=Math.max(256,Math.min(2048,s)),c=Math.max(32,Math.floor(l/16)),f=Math.max(0,l-c),h=Math.max(8192,function(e){let t=Math.max(1,Math.floor(e)),n=1;for(;n<t;)n*=2;return n}(4*l)),d=(0,e.useRef)(null),[p,m]=(0,e.useState)(500),v=(0,e.useMemo)(()=>{const e=r.length?r:n.map(e=>e.label||e.electrode);return n.filter(t=>e.includes(t.label||t.electrode)).filter(e=>e.samples&&e.samples.length>=l)},[n,r,l]);(0,e.useEffect)(()=>{var e;if(!d.current)return;const t=(null===(e=d.current.parentElement)||void 0===e?void 0:e.clientWidth)||p;t!==p&&m(t)},[p]);const g=(0,e.useMemo)(()=>{if(!v.length)return[];const e=Date.now()-1e3*i;return v.map(t=>{const n=t.label||t.electrode,r=(Array.isArray(t.spectrogramSlices)?t.spectrogramSlices:[]).filter(t=>(t.t||0)>=e);if(o&&r.length>=2){const e=r[0].frequencies||[],t=e.map(e=>e<=a),i=r.map(e=>(e.t-r[0].t)/1e3),o=1e-12,s=r.map(e=>(e.magnitudes||[]).filter((e,n)=>t[n]).map(e=>10*Math.log10(Math.max(e,o))));return{label:n,freqs:e.filter((e,n)=>t[n]),times:i,dbSlices:s}}const i=t.samples||[],u=s>0?i.slice(-s):i.slice();if(u.length<l)return null;const c=u.reduce((e,t)=>e+t,0)/u.length,d=us(u.map(e=>e-c),256,l,f,h,a);if(!d)return null;const p=d.slices.map(e=>e.map(e=>10*Math.log10(Math.max(e,1e-12))));return{label:n,freqs:d.freqs,times:d.times,dbSlices:p}}).filter(Boolean)},[v,a,s,h,f,l,256,i,o]),b=g.map(e=>e.label),y=180,w=Math.max(20,b.length*y+20),x=g.flatMap(e=>e.dbSlices.flat());let S=cs(x,5),_=cs(x,95);isFinite(S)&&isFinite(_)&&S!==_||(S=-120,_=-40);const k=(0,e.useMemo)(()=>{const e=[];for(let t=0;t<256;t+=1){const n=Gt(na(t/255));e.push([n.r,n.g,n.b])}return e},[]);return(0,e.useEffect)(()=>{var e,t;const n=d.current;if(!n)return;const r=n.getContext("2d");if(!r)return;const o=window.devicePixelRatio||1;if(n.width=Math.max(1,Math.floor(p*o)),n.height=Math.max(1,Math.floor(w*o)),n.style.width="".concat(p,"px"),n.style.height="".concat(w,"px"),r.setTransform(o,0,0,o,0,0),r.clearRect(0,0,p,w),g.forEach((e,t)=>{const{label:n,dbSlices:i}=e;if(!i||0===i.length)return;const o=i.length,s=i[0].length||1,l=document.createElement("canvas");l.width=o,l.height=s;const u=l.getContext("2d");if(!u)return;const c=u.createImageData(o,s),f=c.data;for(let r=0;r<o;r+=1){const e=i[r];for(let t=0;t<s;t+=1){const n=e[t],i=Math.max(0,Math.min(1,(n-S)/(_-S))),a=k[Math.min(255,Math.max(0,Math.round(255*i)))],l=4*((s-1-t)*o+r);f[l]=a[0],f[l+1]=a[1],f[l+2]=a[2],f[l+3]=255}}u.putImageData(c,0,0);const h=t*y;r.drawImage(l,0,h,p,y),r.strokeStyle="rgba(255,255,255,0.35)",r.lineWidth=1,r.beginPath(),r.moveTo(0,h),r.lineTo(0,h+y),r.stroke(),r.beginPath(),r.moveTo(0,h+y),r.lineTo(p,h+y),r.stroke(),r.strokeStyle="rgba(255,255,255,0.12)",r.setLineDash([4,4]),[{name:"delta",f:.5},{name:"theta",f:4},{name:"alpha",f:8},{name:"beta",f:12},{name:"gamma",f:30}].forEach(e=>{const t=h+y-e.f/a*y;r.beginPath(),r.moveTo(0,t),r.lineTo(p,t),r.stroke()}),r.setLineDash([]),r.fillStyle="rgba(255,255,255,0.8)",r.font="12px sans-serif",r.fillText(n,8,h+16),r.fillText("".concat(a," Hz"),8,h+30),r.fillText("0 Hz",8,h+y-6)}),b.length>0&&(null===(e=g[0])||void 0===e||null===(t=e.dbSlices)||void 0===t?void 0:t.length)>1){const e=Math.max(1,Math.round(i)),t=4;r.fillStyle="rgba(255,255,255,0.6)",r.font="10px sans-serif",r.strokeStyle="rgba(255,255,255,0.35)",r.beginPath(),r.moveTo(0,w-20),r.lineTo(p,w-20),r.stroke();for(let n=0;n<=t;n+=1){const i=n/t,o=i*p,a=n===t?"0s":"-".concat(Math.round((1-i)*e),"s"),s=r.measureText(a).width;let l=o;n===t&&(l=o-s),0===n&&(l=o),n>0&&n<t&&(l=o-s/2),r.fillText(a,l,w-4)}}},[w,b,k,p,g,_,S,i,a]),0===b.length?(0,u.jsx)("p",{className:"subdued",children:"Waiting for per-channel spectrograms."}):(0,u.jsx)("canvas",{ref:d,className:"spectrogram"})};const hs=50,ds=140,ps=[{name:"delta",start:.5,end:4},{name:"theta",start:4,end:8},{name:"alpha",start:8,end:12},{name:"beta",start:12,end:30},{name:"gamma",start:30,end:45}];function ms(e,t,n){return e+(t-e)*n}function vs(e){const t=[[10,20,80],[30,120,200],[80,200,255],[255,230,80],[255,120,40],[200,20,20]],n=Math.max(0,Math.min(1,e))*(t.length-1),r=Math.floor(n),i=n-r;return r>=t.length-1?"rgb(".concat(t[t.length-1].join(","),")"):function(e,t,n){let[r,i,o]=e,[a,s,l]=t;return"rgb(".concat(Math.round(ms(r,a,n)),", ").concat(Math.round(ms(i,s,n)),", ").concat(Math.round(ms(o,l,n)),")")}(t[r],t[r+1],i)}const gs=function(t){let{eegData:n,selectedChannels:r}=t;const i=(0,e.useRef)(null),[o,a]=(0,e.useState)(500),s=(0,e.useMemo)(()=>{const e=r.length?r:n.map(e=>e.label||e.electrode);return n.filter(t=>e.includes(t.label||t.electrode)).filter(e=>e.averagedPeriodogram)},[n,r]);if((0,e.useEffect)(()=>{var e;if(!i.current)return;const t=(null===(e=i.current.parentElement)||void 0===e?void 0:e.clientWidth)||o;t!==o&&a(t)},[o]),0===s.length)return(0,u.jsx)("p",{className:"subdued",children:"Waiting for per-channel periodograms."});const l=s.map(e=>{var t,n;const r=(null===(t=e.averagedPeriodogram)||void 0===t?void 0:t.frequencies)||[],i=(null===(n=e.averagedPeriodogram)||void 0===n?void 0:n.magnitudes)||[],a=r.map((t,n)=>{var r;return{f:t,m:i[n],t:null!==(r=e.averagedPeriodogram)&&void 0!==r&&r.timestamp?e.averagedPeriodogram.timestamp[n]:null}}).filter(e=>{let{f:t}=e;return t>=.5&&t<=hs}),s=Math.max(1,Math.floor(a.length/256)),l=a.filter((e,t)=>t%s===0);if(!l.length)return null;const u=l.map(e=>{let{f:t,m:n,t:r}=e;return{f:t,db:10*Math.log10(Math.max(n,1e-12)),t:r}}),c=Math.max(...u.map(e=>e.db)),f=Math.min(...u.map(e=>e.db)),h=Math.max(c-60,f),d=u.map(e=>{let{f:t,db:n,t:r}=e;return{x:t/hs*o,db:n,t:r}});return{id:e.label||e.electrode,bins:d,maxDb:c,minDb:h}}).filter(Boolean),c=Math.max(...l.map(e=>e.maxDb||-120),-120),f=Math.max(c-60,Math.min(...l.map(e=>e.minDb||-120))),h=s.length*ds;return(0,u.jsx)("svg",{ref:i,width:"100%",height:h,className:"periodogram-chart",children:l.map((e,t)=>{const n=e.bins.length>0?o/e.bins.length:0;let r;return r=e.bins.length>0&&null!=e.bins[0].t?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;if(!e||e.length<2)return[e];const r=[];let i=0;for(let o=1;o<e.length;++o)t(e[o])-t(e[o-1])>n&&(r.push(e.slice(i,o)),i=o);return i<e.length&&r.push(e.slice(i)),r}(e.bins,e=>e.t,2e3):[e.bins],(0,u.jsxs)("g",{transform:"translate(0, ".concat(t*ds,")"),children:[(0,u.jsx)("line",{x1:"0",y1:"0",x2:"0",y2:ds,stroke:"rgba(255,255,255,0.35)",strokeWidth:"1"}),(0,u.jsx)("line",{x1:"0",y1:ds,x2:o,y2:ds,stroke:"rgba(255,255,255,0.35)",strokeWidth:"1"}),(0,u.jsxs)("text",{x:"4",y:136,fill:"rgba(255,255,255,0.6)",fontSize:"10",children:[.5," Hz"]}),(0,u.jsxs)("text",{x:o-4,y:136,fill:"rgba(255,255,255,0.6)",fontSize:"10",textAnchor:"end",children:[hs," Hz"]}),(0,u.jsxs)("text",{x:"4",y:"12",fill:"rgba(255,255,255,0.6)",fontSize:"10",children:[c.toFixed(0)," dB"]}),(0,u.jsxs)("text",{x:"4",y:124,fill:"rgba(255,255,255,0.6)",fontSize:"10",children:[f.toFixed(0)," dB"]}),ps.map(e=>(0,u.jsxs)("g",{children:[(0,u.jsx)("line",{x1:e.start/hs*o,x2:e.start/hs*o,y1:0,y2:ds,stroke:"rgba(255,255,255,0.15)",strokeDasharray:"4 4",strokeWidth:"1"}),(0,u.jsx)("text",{x:e.start/hs*o+4,y:12,fill:"rgba(255,255,255,0.6)",fontSize:"10",children:e.name})]},e.name)),r.map((t,r)=>(0,u.jsx)("g",{children:t.map((t,i)=>(0,u.jsx)("rect",{x:t.x,y:ds-(t.db-f)/(c-f+1e-6)*ds,width:n+.5,height:(t.db-f)/(c-f+1e-6)*ds,fill:vs((t.db-f)/(c-f+1e-6)),stroke:"none"},"".concat(e.id,"-").concat(r,"-").concat(i)))},"seg-".concat(r))),(0,u.jsx)("text",{x:6,y:12,fill:"rgba(255,255,255,0.7)",fontSize:"11",children:e.id})]},e.id)})})};const bs=function(t){let{points:n=[],height:r=140,windowSec:i=300,stroke:o="#4ade80"}=t;const a=(0,e.useMemo)(()=>{if(!n||n.length<2)return null;const e=n[n.length-1].t||Date.now(),t=e-1e3*i,r=n.filter(n=>n.t>=t&&n.t<=e);if(r.length<2)return null;const o=r.map(e=>e.v),a=Math.min(...o),s=Math.max(...o),l=.1*(s-a||Math.abs(s)||1);return{start:t,end:e,values:r,min:a-l,max:s+l}},[n,i]);if(!a)return(0,u.jsx)("p",{className:"subdued",children:"No samples to plot."});const s=32,l=s+i,c=Math.max(1,r-18),f=a.end-a.start||1,h=a.max-a.min||1,d=a.values.map(e=>{const t=s+(e.t-a.start)/f*(l-s),n=c-(e.v-a.min)/h*c;return"".concat(t,",").concat(n)}).join(" ");return(0,u.jsxs)("svg",{width:"100%",height:r,viewBox:"0 0 ".concat(l," ").concat(r),preserveAspectRatio:"none",style:{display:"block",width:"100%"},children:[(0,u.jsx)("polyline",{fill:"none",stroke:o,strokeWidth:"1.4",points:d}),(0,u.jsx)("line",{x1:s,y1:"0",x2:s,y2:c,stroke:"rgba(255,255,255,0.35)",strokeWidth:"1"}),(0,u.jsx)("line",{x1:s,y1:c,x2:l,y2:c,stroke:"rgba(255,255,255,0.35)",strokeWidth:"1"}),(0,u.jsx)("text",{x:"4",y:"10",fill:"rgba(255,255,255,0.6)",fontSize:"10",children:a.max.toFixed(0)}),(0,u.jsx)("text",{x:"4",y:c-2,fill:"rgba(255,255,255,0.6)",fontSize:"10",children:a.min.toFixed(0)}),(0,u.jsx)("text",{x:s,y:r-2,fill:"rgba(255,255,255,0.6)",fontSize:"10",children:"time"})]})};const ys=function(t){let{samples:n=[],height:r=80,maxPoints:i=800,overlays:o=[],overlayAlpha:a=.2}=t;const l=(0,e.useMemo)(()=>{if(!n||0===n.length)return null;const e=Math.max(1,Math.ceil(n.length/i)),t=[];for(let r=0;r<n.length;r+=e)t.push({x:r,y:n[r]});const o=t.map(e=>e.y),a=Math.min(...o),s=Math.max(...o),l=.1*(s-a||Math.abs(s)||1),u=a-l,c=s+l;return{points:t.map(e=>{let{x:t,y:n}=e;const i=(n-u)/(c-u+1e-9)*r;return"".concat(t,",").concat(r-i)}).join(" "),width:t.length>0&&t[t.length-1].x||1,min:a,max:s}},[n,r,i]);if(!l)return(0,u.jsx)("p",{className:"subdued",children:"No samples yet."});const c=Math.max(1,l.width),f=Math.max(1,r-14),h=o.filter(e=>Number.isFinite(e.start)&&Number.isFinite(e.end)&&e.end>e.start).map(e=>{const t=Math.max(0,Math.min(c,e.start)),n=Math.max(0,Math.min(c,e.end));return s(s({},e),{},{start:t,end:n})});return(0,u.jsxs)("svg",{width:"100%",height:r,viewBox:"0 0 ".concat(c+24," ").concat(r),preserveAspectRatio:"none",children:[(0,u.jsxs)("g",{transform:"translate(".concat(24,", 0)"),children:[h.map((e,t)=>(0,u.jsx)("rect",{x:e.start,y:"0",width:Math.max(1,e.end-e.start),height:f,fill:e.color||"#f97316",opacity:a},"".concat(e.start,"-").concat(e.end,"-").concat(t))),(0,u.jsx)("polyline",{fill:"none",stroke:"#4ade80",strokeWidth:"1.2",points:l.points}),(0,u.jsx)("line",{x1:"0",y1:f,x2:c,y2:f,stroke:"rgba(255,255,255,0.35)",strokeWidth:"1"})]}),(0,u.jsx)("line",{x1:24,y1:"0",x2:24,y2:f,stroke:"rgba(255,255,255,0.35)",strokeWidth:"1"}),(0,u.jsx)("text",{x:"2",y:"10",fill:"rgba(255,255,255,0.6)",fontSize:"10",children:l.max.toFixed(1)}),(0,u.jsx)("text",{x:"2",y:f-2,fill:"rgba(255,255,255,0.6)",fontSize:"10",children:l.min.toFixed(1)}),(0,u.jsx)("text",{x:24,y:r-2,fill:"rgba(255,255,255,0.6)",fontSize:"10",children:"time"})]})},ws={selectedChannels:[],trainingTargets:[],bandWindowSec:300,spectrogramWindowSec:300,bandSmoothingSec:20,deltaSmoothingSec:20,eegTraceWindow:4096,eegFftWindow:1024,ppgTraceWindow:1024,notchHz:50,spectrogramUseCachedSlices:!0,artifactWindowSec:2,artifactStepSec:1,amplitudeRangeThreshold:150,lineNoiseHz:60,lineNoiseBandHz:2,lineNoiseMaxHz:80,lineNoiseRatioThreshold:.5,targetSensitivityRisePerSec:.002,targetSensitivityFallPerSec:.008,targetSensitivityMin:0,targetSensitivityMax:2,audioSensitivityRisePerSec:.01,audioSensitivityFallPerSec:.003,audioSensitivityMin:1,audioSensitivityMax:2,audioFeedbackScale:5,audioFeedbackGain:.2,audioIncreaseStopNorm:.5,rejectionOverlayMode:"auto",rejectionOverlayMaxWindows:200,showBandPower:!1,showPeriodograms:!1,showSpectrogram:!1,showArtifactDiagnostics:!0};function xs(e){return"ratio"===(null===e||void 0===e?void 0:e.model)?"ratio":"relative"}function Ss(e,t){var n,r;const i=t.get(e.label);if(!i)return null;if("ratio"===xs(e)){var o,a,s,l;const t=null===(o=i.bands)||void 0===o||null===(a=o[e.numeratorBand])||void 0===a?void 0:a.relative,n=null===(s=i.bands)||void 0===s||null===(l=s[e.denominatorBand])||void 0===l?void 0:l.relative;return"number"!==typeof t||"number"!==typeof n||0===n?null:t/n}const u=null===(n=i.bands)||void 0===n||null===(r=n[e.band])||void 0===r?void 0:r.relative;return"number"===typeof u?u:null}const _s=function(){var t,n;const[r,i]=(0,e.useState)([]),[o,a]=(0,e.useState)(ws.selectedChannels),[l,c]=(0,e.useState)(ws.trainingTargets),[f,h]=(0,e.useState)([]),[d,p]=(0,e.useState)({}),[m,v]=(0,e.useState)({}),[g,b]=(0,e.useState)({}),[y,w]=(0,e.useState)(ws.bandWindowSec),[x,S]=(0,e.useState)(ws.spectrogramWindowSec),[_,k]=(0,e.useState)(ws.bandSmoothingSec),[C,N]=(0,e.useState)(ws.deltaSmoothingSec),[E,T]=(0,e.useState)(ws.eegTraceWindow),[M,j]=(0,e.useState)(ws.eegFftWindow),[P,A]=(0,e.useState)(ws.ppgTraceWindow),[D,F]=(0,e.useState)(ws.notchHz),[z,I]=(0,e.useState)(ws.artifactWindowSec),[O,R]=(0,e.useState)(ws.artifactStepSec),[L,U]=(0,e.useState)(ws.amplitudeRangeThreshold),[B,V]=(0,e.useState)(ws.lineNoiseHz),[H,W]=(0,e.useState)(ws.lineNoiseBandHz),[q,Y]=(0,e.useState)(ws.lineNoiseMaxHz),[$,G]=(0,e.useState)(ws.lineNoiseRatioThreshold),[Q,Z]=(0,e.useState)(ws.rejectionOverlayMode),[X,K]=(0,e.useState)(ws.rejectionOverlayMaxWindows),[J,ee]=(0,e.useState)(!1),[te,ne]=(0,e.useState)({}),[re,ie]=(0,e.useState)(null),oe=(0,e.useRef)(null),ae=(0,e.useRef)(null),se=(0,e.useRef)(null),le=(0,e.useRef)({value:1,lastUpdate:Date.now()}),ue=(0,e.useRef)({}),ce=(0,e.useRef)({}),fe=(0,e.useRef)(ws),[he,de]=(0,e.useState)(ws.showBandPower),[pe,me]=(0,e.useState)(ws.showPeriodograms),[ve,ge]=(0,e.useState)(ws.showSpectrogram),[be,ye]=(0,e.useState)(ws.spectrogramUseCachedSlices),[we,xe]=(0,e.useState)(ws.showArtifactDiagnostics),[Se,_e]=(0,e.useState)(null),[ke,Ce]=(0,e.useState)(null),[Ne,Ee]=(0,e.useState)({heartRateBpm:null,combinedPpg:null,cardiogramPpg:null,ppgChannels:[],sampleRateHz:64}),[Te,Me]=(0,e.useState)([]),[je,Pe]=(0,e.useState)({profiles:[]}),[Ae,De]=(0,e.useState)(!0),[Fe,ze]=(0,e.useState)(null),Ie=(0,e.useMemo)(()=>({show:"\u25cb",hide:"\u25c9",expand:"\u2922",collapse:"\u2921"}),[]);function Oe(e){const t=s(s({},ws),e||{});a(Array.isArray(t.selectedChannels)?t.selectedChannels:ws.selectedChannels),c(Array.isArray(t.trainingTargets)?t.trainingTargets:ws.trainingTargets),"number"===typeof t.bandWindowSec&&w(t.bandWindowSec),"number"===typeof t.spectrogramWindowSec&&S(t.spectrogramWindowSec),"number"===typeof t.bandSmoothingSec&&k(t.bandSmoothingSec),"number"===typeof t.deltaSmoothingSec&&N(t.deltaSmoothingSec),"number"===typeof t.eegTraceWindow&&T(t.eegTraceWindow),"number"===typeof t.eegFftWindow&&j(t.eegFftWindow),"number"===typeof t.ppgTraceWindow&&A(t.ppgTraceWindow),"number"===typeof t.notchHz&&F(t.notchHz),"boolean"===typeof t.spectrogramUseCachedSlices&&ye(t.spectrogramUseCachedSlices),"number"===typeof t.artifactWindowSec&&I(t.artifactWindowSec),"number"===typeof t.artifactStepSec&&R(t.artifactStepSec),"number"===typeof t.amplitudeRangeThreshold&&U(t.amplitudeRangeThreshold),"number"===typeof t.lineNoiseHz&&V(t.lineNoiseHz),"number"===typeof t.lineNoiseBandHz&&W(t.lineNoiseBandHz),"number"===typeof t.lineNoiseMaxHz&&Y(t.lineNoiseMaxHz),"number"===typeof t.lineNoiseRatioThreshold&&G(t.lineNoiseRatioThreshold),"string"===typeof t.rejectionOverlayMode&&Z(t.rejectionOverlayMode),"number"===typeof t.rejectionOverlayMaxWindows&&K(t.rejectionOverlayMaxWindows),"boolean"===typeof t.showBandPower&&de(t.showBandPower),"boolean"===typeof t.showPeriodograms&&me(t.showPeriodograms),"boolean"===typeof t.showSpectrogram&&ge(t.showSpectrogram),"boolean"===typeof t.showArtifactDiagnostics&&xe(t.showArtifactDiagnostics)}(0,e.useEffect)(()=>{De(!0),ze(null);const e=Date.now(),t="".concat("/meditrain","/band_targets.json?ts=").concat(e);fetch(t,{cache:"no-store",headers:{"Cache-Control":"no-store"}}).then(e=>{if(!e.ok)throw new Error("Failed to load band_targets.json: HTTP ".concat(e.status," ").concat(e.statusText));const t=e.headers.get("content-type");if(t&&t.includes("text/html"))throw new Error("Failed to load band_targets.json: received HTML (likely base path or SPA fallback)");return e.json()}).then(e=>{if(!e.profiles||!Array.isArray(e.profiles))throw new Error("Failed to load band_targets.json: missing profiles array");Pe(e),De(!1)}).catch(e=>{throw De(!1),ze(e&&e.message?e.message:"Failed to load band_targets.json"),e})},[]);const Re=r.length,Le=r.reduce((e,t)=>{var n;return e+((null===(n=t.samples)||void 0===n?void 0:n.length)||0)},0),Ue=r.reduce((e,t)=>{var n;return e+((null===(n=t.periodograms)||void 0===n?void 0:n.length)||0)},0),Be=Array.from(new Set(r.map(e=>e.label||e.electrode)));(0,e.useEffect)(()=>{if(Be.length>0&&0===o.length){const e=Be.filter(e=>"AUXL"!==e&&"AUXR"!==e);a(e)}},[Be,o.length]),(0,e.useEffect)(()=>{let e=!0;return(async()=>{const t=Date.now(),n="".concat("/meditrain","/default_settings.json?ts=").concat(t),r=await fetch(n,{cache:"no-store",headers:{"Cache-Control":"no-store"}});if(!r.ok)throw new Error("Failed to load default_settings.json: HTTP ".concat(r.status," ").concat(r.statusText));const i=r.headers.get("content-type");if(i&&i.includes("text/html"))throw new Error("Failed to load default_settings.json: received HTML (likely base path or SPA fallback)");const o=await r.json(),a=s(s({},ws),o||{});if(e){fe.current=a,Oe(a);try{const e=JSON.parse(localStorage.getItem("meditrain-settings")||"{}");Oe(s(s({},a),e||{}))}catch(l){}}})(),()=>{e=!1}},[]);const Ve=(0,e.useCallback)(()=>{const e={selectedChannels:o,trainingTargets:l,bandWindowSec:y,spectrogramWindowSec:x,bandSmoothingSec:_,deltaSmoothingSec:C,eegTraceWindow:E,eegFftWindow:M,ppgTraceWindow:P,notchHz:D,spectrogramUseCachedSlices:be,artifactWindowSec:z,artifactStepSec:O,amplitudeRangeThreshold:L,lineNoiseHz:B,lineNoiseBandHz:H,lineNoiseMaxHz:q,lineNoiseRatioThreshold:$,rejectionOverlayMode:Q,rejectionOverlayMaxWindows:X,showBandPower:he,showPeriodograms:pe,showSpectrogram:ve,showArtifactDiagnostics:we};localStorage.setItem("meditrain-settings",JSON.stringify(e))},[o,l,y,x,_,C,E,M,P,D,be,z,O,L,B,H,q,$,Q,X,he,pe,ve,we]),He=(0,e.useCallback)(()=>{Oe(fe.current||ws),localStorage.removeItem("meditrain-settings")},[]);(0,e.useEffect)(()=>{if(null==Ne.heartRateBpm)return;const e=Date.now();Me(t=>{const n=t[t.length-1];if(n&&e-n.t<1e3)return t;const r=e-3e5;return[...t,{t:e,v:Ne.heartRateBpm}].filter(e=>e.t>=r)})},[Ne.heartRateBpm]),(0,e.useEffect)(()=>{E<M&&T(M)},[M,E]);const We=0===o.length?r:r.filter(e=>o.includes(e.label||e.electrode)),qe=(0,e.useMemo)(()=>We.map(e=>{var t;const n=e.label||e.electrode,r=(null===(t=e.samples)||void 0===t?void 0:t.slice(-E))||[],i=Array.isArray(e.artifactWindows)?e.artifactWindows:[];return{label:n,samples:r,artifactWindows:i,latest:e.artifactLatest||i[i.length-1]||null}}),[We,E]),Ye=(0,e.useCallback)((e,t,n,r)=>{const i=[],o=[];for(let s=0;s<e.length;s+=1){const a=e[s];a>=n&&a<r&&(i.push(a),o.push(t[s]))}if(i.length<2)return 0;let a=0;for(let s=1;s<i.length;s+=1)a+=(i[s]-i[s-1])*(o[s]+o[s-1])*.5;return a},[]),$e=(0,e.useCallback)(e=>{if(!e.length)return 0;const t=[...e].sort((e,t)=>e-t),n=Math.floor(t.length/2);return t.length%2===1?t[n]:(t[n-1]+t[n])/2},[]),Ge=(0,e.useCallback)(e=>{if(!e||0===e.length)return null;const t=e[0];if(null===t||void 0===t||!t.frequencies||null===t||void 0===t||!t.magnitudes)return null;const n=t.magnitudes.map((t,n)=>{const r=e.map(e=>{var t;return null===(t=e.magnitudes)||void 0===t?void 0:t[n]}).filter(e=>"number"===typeof e);return $e(r)});return{frequencies:t.frequencies,magnitudes:n}},[$e]);(0,e.useEffect)(()=>{const e=0===o.length?r:r.filter(e=>o.includes(e.label||e.electrode)),t=[],n=Date.now();e.forEach(e=>{var r,i,o;const a=e.label||e.electrode;if(null!==e&&void 0!==e&&null!==(r=e.artifactLatest)&&void 0!==r&&r.amplitudeArtifact||null!==e&&void 0!==e&&null!==(i=e.artifactLatest)&&void 0!==i&&i.lineNoiseArtifact){const e=ue.current[a];return void(e&&t.push(s(s({},e),{},{timestamp:n})))}const l=null!==e&&void 0!==e&&null!==(o=e.periodograms)&&void 0!==o&&o.length?e.periodograms:[],u=Ge(l)||(null===e||void 0===e?void 0:e.averagedPeriodogram);if(!u)return;const c={};let f=0;Ja.forEach(e=>{let{key:t}=e;c[t]=0});const h=u.frequencies,d=u.magnitudes;Ja.forEach(e=>{let{key:t,min:n,max:r}=e;const i=Ye(h,d,n,r);c[t]+=i,f+=i});const p={};Ja.forEach(e=>{let{key:t}=e;const n=c[t];p[t]={absolute:n,relative:f>0?n/f:0}});const m={label:a,bands:p,timestamp:n};ue.current[a]=m,t.push(m)});const i=Object.fromEntries(t.map(e=>[e.label,e]));function a(e,r){const o=r.map(e=>i[e]).filter(Boolean);if(0===o.length)return;const a={};Ja.forEach(e=>{let{key:t}=e;a[t]=0}),o.forEach(e=>{Ja.forEach(t=>{var n,r;let{key:i}=t;a[i]+=(null===(n=e.bands)||void 0===n||null===(r=n[i])||void 0===r?void 0:r.absolute)||0})});const s=Object.values(a).reduce((e,t)=>e+t,0),l={};Ja.forEach(e=>{let{key:t}=e;const n=a[t];l[t]={absolute:n,relative:s>0?n/s:0}}),t.push({label:e,bands:l,timestamp:n})}a("ALL",t.map(e=>e.label)),a("PAIR_TP9_10",["TP9","TP10"]),a("PAIR_AF7_8",["AF7","AF8"]),h(t)},[r,o,Ye,Ge]),(0,e.useEffect)(()=>{const e={};let t=!1;if(f.forEach(n=>{const r=Ja.map(e=>{var t,r;return(null===(t=n.bands)||void 0===t||null===(r=t[e.key])||void 0===r?void 0:r.relative)||0}).join("|");e[n.label]=r,t||ce.current[n.label]===r||(t=!0)}),!t&&Object.keys(e).length===Object.keys(ce.current).length&&Object.keys(e).every(t=>ce.current[t]===e[t]))return;ce.current=e;const n=Date.now(),r=1e3*y,i=1e3*_;p(e=>{const t=s({},e),o=new Set;return f.forEach(e=>{const a=e.label;o.add(a),t[a]||(t[a]={}),Ja.forEach(o=>{var s,l;let{key:u}=o;const c=null===(s=e.bands)||void 0===s||null===(l=s[u])||void 0===l?void 0:l.relative;if("number"!==typeof c)return;t[a][u]||(t[a][u]=[]);const f=e.timestamp||n;for(t[a][u].push({t:f,v:c});t[a][u].length&&t[a][u][0].t<f-r;)t[a][u].shift();const h=f-i,d=t[a][u].filter(e=>e.t>=h).map(e=>e.v),p=d.length?d.reduce((e,t)=>e+t,0)/d.length:c;t[a][u].avg=p})}),Object.keys(t).forEach(e=>{o.has(e)||delete t[e]}),t})},[f,y,_]),(0,e.useEffect)(()=>{if(0===l.length)return void ne({});const e=Date.now();ne(t=>{let n=!1;const r=s({},t),i=new Set(l.map(e=>e.id));return l.forEach(t=>{r[t.id]||(r[t.id]={value:1,lastUpdate:e,inZone:!1},n=!0)}),Object.keys(r).forEach(e=>{i.has(e)||(delete r[e],n=!0)}),n?r:t})},[l]),(0,e.useEffect)(()=>{if(0===l.length||0===f.length)return;const e=Date.now(),t=new Map(f.map(e=>[e.label,e]));ne(n=>{let r=!1;const i=s({},n);return l.forEach(n=>{const o=Ss(n,t),a="number"===typeof n.tolerance?n.tolerance:0,s=i[n.id]||{value:1,lastUpdate:e,inZone:!1},l=Math.max(0,(e-s.lastUpdate)/1e3);if(0===l)return;const u=s.value>0?a/s.value:a,c="number"===typeof o?Math.abs(o-n.target)<=u:s.inZone,f=(c?.002:-.008)*l,h={value:Math.min(2,Math.max(0,s.value+f)),lastUpdate:e,inZone:c};h.value===s.value&&h.inZone===s.inZone&&h.lastUpdate===s.lastUpdate||(i[n.id]=h,r=!0)}),r?i:n})},[f,l]);const Qe=(0,e.useMemo)(()=>{const e={};return l.forEach(t=>{const n=te[t.id]||{value:1,inZone:!1},r="number"===typeof t.tolerance?t.tolerance:0,i=n.value>0?r/n.value:r;e[t.id]={sensitivity:n.value,effectiveTolerance:i,inZone:n.inZone}}),e},[l,te]),Ze=(0,e.useMemo)(()=>{var e;const t=new Map(f.map(e=>[e.label,e])),n=(null===(e=f[0])||void 0===e?void 0:e.timestamp)||Date.now();return l.map(e=>{var r,i,o,a,s,l;const u=Ss(e,t),c=Qe[e.id];return{id:e.id,label:e.label,model:xs(e),band:null!==(r=e.band)&&void 0!==r?r:null,numeratorBand:null!==(i=e.numeratorBand)&&void 0!==i?i:null,denominatorBand:null!==(o=e.denominatorBand)&&void 0!==o?o:null,target:e.target,tolerance:null!==(a=null!==(s=null===c||void 0===c?void 0:c.effectiveTolerance)&&void 0!==s?s:e.tolerance)&&void 0!==a?a:0,value:u,delta:"number"===typeof u?u-e.target:null,inZone:null!==(l=null===c||void 0===c?void 0:c.inZone)&&void 0!==l&&l,timestamp:n}})},[f,l,Qe]),Xe=(0,e.useMemo)(()=>l.map(e=>{const t=Qe[e.id];return s(s({},e),{},{tolerance:t?t.effectiveTolerance:e.tolerance,baseTolerance:e.tolerance,sensitivity:t?t.sensitivity:1,inZone:!!t&&t.inZone})}),[l,Qe]);(0,e.useEffect)(()=>{if(0===Xe.length)return void v({});const e=Date.now(),t=1e3*y;v(n=>{const r=s({},n);return Xe.forEach(n=>{var i,o,a,s;if("relative"!==xs(n))return;const l=n.label,u=n.band;if(!l||!u)return;r[l]||(r[l]={});const c=r[l][u]?[...r[l][u]]:[];c.push({t:e,target:n.target,tolerance:null!==(i=n.tolerance)&&void 0!==i?i:0,baseTolerance:null!==(o=null!==(a=n.baseTolerance)&&void 0!==a?a:n.tolerance)&&void 0!==o?o:0,sensitivity:null!==(s=n.sensitivity)&&void 0!==s?s:1}),r[l][u]=c.filter(n=>n.t>=e-t)}),r})},[Xe,y]),(0,e.useEffect)(()=>{if(0===Xe.length)return void b({});const e=Date.now(),t=1e3*y;b(n=>{const r=s({},n),i=new Set(Xe.map(e=>e.id));return Xe.forEach(n=>{var i,o,a,s;const l=r[n.id]?[...r[n.id]]:[];l.push({t:e,target:n.target,tolerance:null!==(i=n.tolerance)&&void 0!==i?i:0,baseTolerance:null!==(o=null!==(a=n.baseTolerance)&&void 0!==a?a:n.tolerance)&&void 0!==o?o:0,sensitivity:null!==(s=n.sensitivity)&&void 0!==s?s:1}),r[n.id]=l.filter(n=>n.t>=e-t)}),Object.keys(r).forEach(e=>{i.has(e)||delete r[e]}),r})},[Xe,y]);const Ke=(0,e.useMemo)(()=>({trainingTargets:Xe,targetMetrics:Qe,targetHistory:m,targetHistoryById:g,targetReadings:Ze,config:{bandWindowSec:y,bandSmoothingSec:_,deltaSmoothingSec:C,spectrogramWindowSec:x,eegTraceWindow:E,eegFftWindow:M,ppgTraceWindow:P,notchHz:D,spectrogramUseCachedSlices:be,artifactWindowSec:z,artifactStepSec:O,amplitudeRangeThreshold:L,lineNoiseHz:B,lineNoiseBandHz:H,lineNoiseMaxHz:q,lineNoiseRatioThreshold:$,rejectionOverlayMode:Q,rejectionOverlayMaxWindows:X}}),[Xe,Qe,m,g,Ze,y,_,C,x,E,M,P,D,be,z,O,L,B,H,q,$,Q,X]);return(0,e.useEffect)(()=>{if(!J||0===l.length)return;le.current={value:1,lastUpdate:Date.now()};const e=new(window.AudioContext||window.webkitAudioContext),t=2*e.sampleRate,n=e.createBuffer(1,t,e.sampleRate),r=n.getChannelData(0);for(let a=0;a<t;a++)r[a]=2*Math.random()-1;const i=e.createBufferSource();i.buffer=n,i.loop=!0;const o=e.createGain();return o.gain.value=0,i.connect(o).connect(e.destination),i.start(),oe.current=e,ae.current=o,se.current=i,()=>{i.stop(),i.disconnect(),o.disconnect(),e.close(),oe.current=null,ae.current=null,se.current=null}},[J,l.length]),(0,e.useEffect)(()=>{J&&0!==l.length&&(le.current={value:1,lastUpdate:Date.now()})},[J,l]),(0,e.useEffect)(()=>{if(!J||!ae.current||0===l.length)return void(ae.current&&ae.current.gain.setTargetAtTime(0,oe.current.currentTime,.05));let e=0,t=!0;const n=new Map(f.map(e=>[e.label,e]));l.forEach(r=>{var i,o,a;const s=Ss(r,n);if("number"!==typeof s)return void(t=!1);const l=Math.abs(s-r.target),u=null!==(i=null!==(o=null===(a=Qe[r.id])||void 0===a?void 0:a.effectiveTolerance)&&void 0!==o?o:r.tolerance)&&void 0!==i?i:0,c=Math.max(0,l-u);c>e&&(e=c),c>0&&(t=!1)});const r=Date.now(),i=le.current,o=Math.max(0,(r-i.lastUpdate)/1e3),a=Math.max(0,Math.min(1,5*e/i.value)),s=(t&&a<=.5?.01:-.003)*o,u=Math.min(2,Math.max(1,i.value+s));le.current={value:u,lastUpdate:r};const c=Math.max(0,Math.min(1,5*e/u));ae.current&&ae.current.gain.setTargetAtTime(.2*c,oe.current.currentTime,.05)},[J,l,f,Qe]),(0,u.jsxs)("div",{className:"app-shell",children:[(0,u.jsx)("div",{className:"background-grid"}),(0,u.jsxs)("header",{className:"hero",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"eyebrow",children:"Meditrain"}),(0,u.jsx)("h1",{children:"EEG Biofeedback Lab"}),(0,u.jsx)("p",{children:"Connect a Muse headset, monitor brain rhythm trends in real time, and experiment with band-power training loops."}),(0,u.jsxs)("div",{className:"stat-row",children:[(0,u.jsxs)("div",{className:"stat-card",children:[(0,u.jsx)("p",{className:"stat-label",children:"Active Electrodes"}),(0,u.jsx)("p",{className:"stat-value",children:Re||"\u2014"})]}),(0,u.jsxs)("div",{className:"stat-card",children:[(0,u.jsx)("p",{className:"stat-label",children:"Samples Buffered"}),(0,u.jsx)("p",{className:"stat-value",children:Le||"\u2014"})]}),(0,u.jsxs)("div",{className:"stat-card",children:[(0,u.jsx)("p",{className:"stat-label",children:"Periodograms"}),(0,u.jsx)("p",{className:"stat-value",children:Ue||"\u2014"})]})]})]}),(0,u.jsxs)("div",{className:"hero-card",children:[(0,u.jsx)("h3",{children:"Live Device & Signal"}),(0,u.jsx)("p",{children:"Connect, stream EEG, and preview channels without leaving this dashboard."}),(0,u.jsx)(Xa,{onPeriodgramUpdated:function(e){i([...e]),ie(Date.now())},onPpgUpdate:Ee,onDeviceDebug:_e,selectedChannels:o,onToggleChannel:function(e){a(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},availableChannels:Be,lastFFT:re,traceWindow:E,fftWindow:M,ppgTraceWindow:P,spectrogramWindowSec:x,notchHz:D,downloadMetadata:Ke,artifactWindowSec:z,artifactStepSec:O,amplitudeRangeThreshold:L,lineNoiseHz:B,lineNoiseBandHz:H,lineNoiseMaxHz:q,lineNoiseRatioThreshold:$})]})]}),(0,u.jsxs)("main",{className:"content-grid",children:[(0,u.jsxs)("section",{className:"panel tall ".concat("bandpower"===ke?"fullscreen":""),children:[(0,u.jsx)(ts,{title:"Band Power Observatory",subtitle:"Alpha / Beta / Gamma with regional deltas",indicator:(0,u.jsx)("span",{className:"heartbeat-dot ".concat(re&&Date.now()-re<5e3?"alive":""),children:re?"".concat(Math.round((Date.now()-re)/1e3),"s"):"\u2014"}),children:(0,u.jsxs)(ns,{children:[(0,u.jsx)(rs,{pressed:he,ariaLabel:he?"Hide band power":"Show band power",title:he?"Hide band power":"Show band power",onClick:()=>de(e=>!e),children:he?Ie.hide:Ie.show}),(0,u.jsx)(rs,{pressed:"bandpower"===ke,ariaLabel:"bandpower"===ke?"Exit fullscreen":"Enter fullscreen",title:"bandpower"===ke?"Exit fullscreen":"Enter fullscreen",onClick:()=>Ce(e=>"bandpower"===e?null:"bandpower"),children:"bandpower"===ke?Ie.collapse:Ie.expand})]})}),(0,u.jsx)("p",{className:"subdued",children:"Toggle into band views to compare electrodes, see averaged periodograms, and spot left/right imbalances. Targets (if defined) are shaded on each band line; a preview appears when no live data is available."}),he&&(0,u.jsx)(is,{bandHistory:d,trainingTargets:Xe,targetHistory:m,windowSeconds:y})]}),(0,u.jsxs)("section",{className:"panel ".concat("training"===ke?"fullscreen":""),children:[(0,u.jsx)(ts,{title:"Training Console",subtitle:"Targets & feedback",children:(0,u.jsx)(ns,{children:(0,u.jsx)(rs,{pressed:"training"===ke,ariaLabel:"training"===ke?"Exit fullscreen":"Enter fullscreen",title:"training"===ke?"Exit fullscreen":"Enter fullscreen",onClick:()=>Ce(e=>"training"===e?null:"training"),children:"training"===ke?Ie.collapse:Ie.expand})})}),(0,u.jsx)("p",{className:"subdued",children:"Select targets, pick a feedback mode, and monitor how often you stay in the pocket."}),(0,u.jsx)(ss,{availableChannels:Be,selectedTargets:l,bandSnapshots:f,bandHistory:d,targetHistoryById:g,deltaSmoothingSec:C,onSaveTarget:function(e){c(t=>{const n=t.findIndex(t=>t.id===e.id);if(n>=0){const r=[...t];return r[n]=e,r}return[...t,e]})},onDeleteTarget:function(e){c(t=>t.filter(t=>t.id!==e))},audioEnabled:J,onToggleAudio:ee,presets:je.profiles||[],presetsLoading:Ae,presetsError:Fe,onApplyPreset:function(e){var t;const n=null===(t=je.profiles)||void 0===t?void 0:t.find(t=>t.name===e);if(!n)return;const r=[];n.targets.forEach(t=>{const i=t.electrodes||[],o=t.model||n.model||"relative";let a;if(a=2===i.length?i.includes("TP9")&&i.includes("TP10")?"PAIR_TP9_10":i.includes("AF7")&&i.includes("AF8")?"PAIR_AF7_8":i[0]:1===i.length?i[0]:"ALL","ratio"===o){const n=t.ratios||{};Object.entries(n).forEach(t=>{let[n,i]=t;null!==i&&void 0!==i&&i.numerator&&null!==i&&void 0!==i&&i.denominator&&r.push({id:"preset-".concat(e,"-").concat(a,"-").concat(n,"-").concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,5)),label:a,model:"ratio",numeratorBand:i.numerator,denominatorBand:i.denominator,target:i.target,tolerance:i.tolerance})})}else Object.entries(t.bands||{}).forEach(t=>{let[n,i]=t;r.push({id:"preset-".concat(e,"-").concat(a,"-").concat(n,"-").concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,5)),label:a,model:"relative",band:n,target:i.target,tolerance:i.tolerance})})}),c(r)},onClearTargets:function(){c([])},targetMetrics:Qe}),(0,u.jsx)(ls,{})]}),(0,u.jsxs)("section",{className:"panel ".concat("heart"===ke?"fullscreen":""),children:[(0,u.jsx)(ts,{title:"Heart Observatory",subtitle:"Derived from PPG",children:(0,u.jsx)(ns,{children:(0,u.jsx)(rs,{pressed:"heart"===ke,ariaLabel:"heart"===ke?"Exit fullscreen":"Enter fullscreen",title:"heart"===ke?"Exit fullscreen":"Enter fullscreen",onClick:()=>Ce(e=>"heart"===e?null:"heart"),children:"heart"===ke?Ie.collapse:Ie.expand})})}),(0,u.jsx)("p",{className:"subdued",children:"Combined PPG pulse trace with a live heart rate estimate."}),(0,u.jsxs)("div",{className:"inline-status",style:{marginBottom:10},children:[(0,u.jsxs)("span",{className:"status-pill",children:["Heart rate: ",null!=Ne.heartRateBpm?"".concat(Ne.heartRateBpm," bpm"):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["PPG: ",null!==(t=Ne.ppgChannels)&&void 0!==t&&t.length?Ne.ppgChannels.map(e=>e.label).join(" + "):"\u2014"]})]}),Ne.combinedPpg?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"chart-block",style:{marginBottom:10},children:[(0,u.jsx)("p",{className:"chart-label",children:"PPG combined"}),(0,u.jsx)(ys,{samples:Ne.combinedPpg.samples,height:220,maxPoints:2400})]}),(0,u.jsxs)("div",{className:"chart-block",style:{marginBottom:10},children:[(0,u.jsx)("p",{className:"chart-label",children:"Cardiogram (last 5 beats)"}),Ne.cardiogramPpg?(0,u.jsx)(ys,{samples:Ne.cardiogramPpg.samples,height:180,maxPoints:1800}):(0,u.jsx)("p",{className:"subdued",children:"Waiting for cardiogram samples."})]}),(0,u.jsxs)("div",{className:"chart-block",children:[(0,u.jsx)("p",{className:"chart-label",children:"Heart rate (15s average)"}),(0,u.jsx)(bs,{points:Te,windowSec:300,height:160})]})]}):(0,u.jsx)("p",{className:"subdued",children:"Waiting for PPG data."})]}),(0,u.jsxs)("section",{className:"panel ".concat("config"===ke?"fullscreen":""),children:[(0,u.jsx)(ts,{title:"Configuration",subtitle:"Display windows",children:(0,u.jsx)(ns,{children:(0,u.jsx)(rs,{pressed:"config"===ke,ariaLabel:"config"===ke?"Exit fullscreen":"Enter fullscreen",title:"config"===ke?"Exit fullscreen":"Enter fullscreen",onClick:()=>Ce(e=>"config"===e?null:"config"),children:"config"===ke?Ie.collapse:Ie.expand})})}),(0,u.jsx)("p",{className:"subdued",children:"Adjust how many seconds of history are rendered for band power and spectrograms."}),(0,u.jsxs)("div",{className:"inline-buttons",style:{marginBottom:12},children:[(0,u.jsx)("button",{type:"button",onClick:Ve,children:"Save"}),(0,u.jsx)("button",{type:"button",onClick:He,children:"Defaults"})]}),(0,u.jsxs)("div",{className:"inline-buttons",children:[(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Band power window (s)"}),(0,u.jsx)("input",{type:"number",min:"10",max:"28800",value:y,onChange:e=>w(Math.max(10,Math.min(28800,Number(e.target.value))))})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Band power smoothing (s)"}),(0,u.jsx)("input",{type:"number",min:"1",max:y,value:_,onChange:e=>{const t=Math.max(1,Math.min(y,Number(e.target.value)));k(t)}})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Spectrogram window (s)"}),(0,u.jsx)("input",{type:"number",min:"10",max:"900",value:x,onChange:e=>S(Math.max(10,Math.min(900,Number(e.target.value))))})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Training delta smoothing (s)"}),(0,u.jsx)("input",{type:"number",min:"1",max:"900",value:C,onChange:e=>N(Math.max(1,Math.min(900,Number(e.target.value))))})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Notch filter Hz"}),(0,u.jsxs)("select",{value:D,onChange:e=>F(Number(e.target.value)),children:[(0,u.jsx)("option",{value:50,children:"50 Hz"}),(0,u.jsx)("option",{value:60,children:"60 Hz"})]})]})]}),(0,u.jsx)("p",{className:"subdued",children:"Tune buffer sizes for trace rendering and FFT processing."}),(0,u.jsxs)("div",{className:"inline-buttons",children:[(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"EEG trace window (samples)"}),(0,u.jsx)("input",{type:"number",min:"512",max:"16384",value:E,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||T(Math.max(M,Math.min(16384,t)))}})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"EEG FFT window (samples)"}),(0,u.jsx)("input",{type:"number",min:"256",max:"4096",value:M,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||j(Math.max(256,Math.min(4096,t)))}})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"PPG trace window (samples)"}),(0,u.jsx)("input",{type:"number",min:"256",max:"4096",value:P,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||A(Math.max(256,Math.min(4096,t)))}})]})]}),(0,u.jsx)("p",{className:"subdued",children:"Artifact detection uses amplitude range and line-noise ratios."}),(0,u.jsxs)("div",{className:"inline-buttons",children:[(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Artifact window (s)"}),(0,u.jsx)("input",{type:"number",min:"0.5",max:"10",step:"0.5",value:z,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||I(Math.max(.5,Math.min(10,t)))}})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Artifact step (s)"}),(0,u.jsx)("input",{type:"number",min:"0.25",max:"5",step:"0.25",value:O,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||R(Math.max(.25,Math.min(5,t)))}})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Amplitude range threshold"}),(0,u.jsx)("input",{type:"number",min:"10",max:"500",step:"5",value:L,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||U(Math.max(10,Math.min(500,t)))}})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Line-noise ratio threshold"}),(0,u.jsx)("input",{type:"number",min:"0",max:"1",step:"0.01",value:$,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||G(Math.max(0,Math.min(1,t)))}})]})]}),(0,u.jsxs)("div",{className:"inline-buttons",children:[(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Line-noise Hz"}),(0,u.jsx)("input",{type:"number",min:"50",max:"70",step:"1",value:B,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||V(Math.max(50,Math.min(70,t)))}})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Line-noise band (Hz)"}),(0,u.jsx)("input",{type:"number",min:"0.5",max:"6",step:"0.5",value:H,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||W(Math.max(.5,Math.min(6,t)))}})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Line-noise max Hz"}),(0,u.jsx)("input",{type:"number",min:"20",max:"120",step:"5",value:q,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||Y(Math.max(20,Math.min(120,t)))}})]})]}),(0,u.jsxs)("div",{className:"inline-buttons",children:[(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Rejection overlay mode"}),(0,u.jsxs)("select",{value:Q,onChange:e=>Z(e.target.value),children:[(0,u.jsx)("option",{value:"auto",children:"auto"}),(0,u.jsx)("option",{value:"always",children:"always"}),(0,u.jsx)("option",{value:"off",children:"off"})]})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Overlay max windows"}),(0,u.jsx)("input",{type:"number",min:"20",max:"1000",step:"10",value:X,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||K(Math.max(20,Math.min(1e3,t)))}})]})]})]}),(0,u.jsxs)("section",{className:"panel ".concat("periodograms"===ke?"fullscreen":""),children:[(0,u.jsx)(ts,{title:"Band Periodograms",subtitle:"Per-channel spectra (weighted selection)",indicator:(0,u.jsx)("span",{className:"heartbeat-dot ".concat(re&&Date.now()-re<5e3?"alive":""),children:re?"".concat(Math.round((Date.now()-re)/1e3),"s"):"\u2014"}),children:(0,u.jsxs)(ns,{children:[(0,u.jsx)(rs,{pressed:pe,ariaLabel:pe?"Hide periodograms":"Show periodograms",title:pe?"Hide periodograms":"Show periodograms",onClick:()=>me(e=>!e),children:pe?Ie.hide:Ie.show}),(0,u.jsx)(rs,{pressed:"periodograms"===ke,ariaLabel:"periodograms"===ke?"Exit fullscreen":"Enter fullscreen",title:"periodograms"===ke?"Exit fullscreen":"Enter fullscreen",onClick:()=>Ce(e=>"periodograms"===e?null:"periodograms"),children:"periodograms"===ke?Ie.collapse:Ie.expand})]})}),(0,u.jsx)("p",{className:"subdued",children:"Live per-channel periodograms up to 50 Hz (uses selected sensors)."}),pe&&(0,u.jsx)(gs,{eegData:We,selectedChannels:o})]}),(0,u.jsxs)("section",{className:"panel tall ".concat("spectrogram"===ke?"fullscreen":""),children:[(0,u.jsx)(ts,{title:"Spectrogram",subtitle:"Per-channel heatmaps",indicator:(0,u.jsx)("span",{className:"heartbeat-dot ".concat(re&&Date.now()-re<5e3?"alive":""),children:re?"".concat(Math.round((Date.now()-re)/1e3),"s"):"\u2014"}),children:(0,u.jsxs)(ns,{children:[(0,u.jsxs)("label",{className:"panel-toggle",children:[(0,u.jsx)("input",{type:"checkbox",checked:be,onChange:e=>ye(e.target.checked)}),(0,u.jsx)("span",{children:"Cached FFT"})]}),(0,u.jsx)(rs,{pressed:ve,ariaLabel:ve?"Hide spectrogram":"Show spectrogram",title:ve?"Hide spectrogram":"Show spectrogram",onClick:()=>ge(e=>!e),children:ve?Ie.hide:Ie.show}),(0,u.jsx)(rs,{pressed:"spectrogram"===ke,ariaLabel:"spectrogram"===ke?"Exit fullscreen":"Enter fullscreen",title:"spectrogram"===ke?"Exit fullscreen":"Enter fullscreen",onClick:()=>Ce(e=>"spectrogram"===e?null:"spectrogram"),children:"spectrogram"===ke?Ie.collapse:Ie.expand})]})}),(0,u.jsx)("p",{className:"subdued",children:"Live per-channel spectrograms up to 50 Hz, honoring your sensor selection."}),ve&&(0,u.jsx)(fs,{eegData:We,selectedChannels:o,windowSeconds:x,preferCachedSlices:be})]}),(0,u.jsxs)("section",{className:"panel ".concat("device-debug"===ke?"fullscreen":""),children:[(0,u.jsx)(ts,{title:"Device Debug",subtitle:"Connection + telemetry log",children:(0,u.jsx)(ns,{children:(0,u.jsx)(rs,{pressed:"device-debug"===ke,ariaLabel:"device-debug"===ke?"Exit fullscreen":"Enter fullscreen",title:"device-debug"===ke?"Exit fullscreen":"Enter fullscreen",onClick:()=>Ce(e=>"device-debug"===e?null:"device-debug"),children:"device-debug"===ke?Ie.collapse:Ie.expand})})}),(0,u.jsx)("p",{className:"subdued",children:"Full device diagnostics for troubleshooting disconnects and data flow."}),Se?(0,u.jsx)(u.Fragment,{children:(null===(n=Se.statusLog)||void 0===n?void 0:n.length)>0?(0,u.jsx)("pre",{className:"debug-pre",children:Se.statusLog.map(e=>"".concat(new Date(e.t).toISOString()," | ").concat(e.status," | ").concat(e.message)).join("\n")}):(0,u.jsx)("p",{className:"subdued",children:"No connection events yet."})}):(0,u.jsx)("p",{className:"subdued",children:"Waiting for device status."})]}),(0,u.jsxs)("section",{className:"panel tall ".concat("artifacts"===ke?"fullscreen":""),children:[(0,u.jsx)(ts,{title:"Artifact Rejection Diagnostics",subtitle:"Amplitude range + line noise",children:(0,u.jsxs)(ns,{children:[(0,u.jsx)(rs,{pressed:we,ariaLabel:we?"Hide artifact diagnostics":"Show artifact diagnostics",title:we?"Hide artifact diagnostics":"Show artifact diagnostics",onClick:()=>xe(e=>!e),children:we?Ie.hide:Ie.show}),(0,u.jsx)(rs,{pressed:"artifacts"===ke,ariaLabel:"artifacts"===ke?"Exit fullscreen":"Enter fullscreen",title:"artifacts"===ke?"Exit fullscreen":"Enter fullscreen",onClick:()=>Ce(e=>"artifacts"===e?null:"artifacts"),children:"artifacts"===ke?Ie.collapse:Ie.expand})]})}),(0,u.jsx)("p",{className:"subdued",children:"Each trace is shaded where amplitude range or line noise exceeds the configured thresholds."}),we&&(qe.length>0?(0,u.jsx)("div",{className:"channel-grid",children:qe.map(e=>{const t=e.artifactWindows||[],n=String(Q||"auto").toLowerCase(),r="always"===n||"auto"===n&&t.length<=X,i=r?t.filter(e=>e.amplitudeArtifact||e.lineNoiseArtifact).map(e=>{let t="#f97316";return e.amplitudeArtifact&&e.lineNoiseArtifact?t="#ef4444":e.lineNoiseArtifact&&(t="#60a5fa"),{start:e.startSample,end:e.endSample,color:t}}):[],o=t.filter(e=>e.amplitudeArtifact).length,a=t.filter(e=>e.lineNoiseArtifact).length,s=t.filter(e=>e.amplitudeArtifact&&e.lineNoiseArtifact).length,l=e.latest;return(0,u.jsxs)("div",{className:"channel-card",children:[(0,u.jsx)("div",{className:"channel-header",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"eyebrow",children:e.label}),(0,u.jsxs)("p",{className:"channel-meta",children:["Windows: ",t.length," \u2022 amplitude hits: ",o," \u2022 line-noise hits: ",a," \u2022 both: ",s]})]})}),(0,u.jsxs)("div",{className:"inline-status",children:[(0,u.jsxs)("span",{className:"status-pill ".concat(null!==l&&void 0!==l&&l.amplitudeArtifact?"warn":""),children:["Amplitude range: ",l?l.amplitudeRange.toFixed(1):"\u2014"," (thr ",L,")"]}),(0,u.jsxs)("span",{className:"status-pill ".concat(null!==l&&void 0!==l&&l.lineNoiseArtifact?"warn":""),children:["Line-noise ratio: ",l?l.lineNoiseRatio.toFixed(3):"\u2014"," (thr ",$,")"]}),!r&&(0,u.jsxs)("span",{className:"status-pill",children:["Overlays off (windows ",t.length,")"]})]}),(0,u.jsxs)("div",{className:"chart-block",children:[(0,u.jsxs)("p",{className:"chart-label",children:["EEG trace (last ",E," samples)"]}),e.samples.length>0?(0,u.jsx)(ys,{samples:e.samples,overlays:i,height:140,maxPoints:1200}):(0,u.jsx)("p",{className:"subdued",children:"No samples yet."})]})]},e.label)})}):(0,u.jsx)("p",{className:"subdued",children:"Waiting for EEG samples."}))]})]})]})},ks=e=>{e&&e instanceof Function&&n.e(206).then(n.bind(n,8206)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)})};t.createRoot(document.getElementById("root")).render((0,u.jsx)(e.StrictMode,{children:(0,u.jsx)(_s,{})})),ks()})()})();