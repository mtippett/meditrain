/*! For license information please see main.625b1208.js.LICENSE.txt */
(()=>{var e={85(e,t,n){"use strict";n.d(t,{R:()=>i});var r=n(6882),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.C6(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return r.C6(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(8297).y))},164(e,t,n){"use strict";n.d(t,{E:()=>i,b:()=>o});var r=n(85),i=new(n(3571).q)(r.R),o=i},230(e,t,n){"use strict";n.d(t,{v:()=>c});var r=n(6882),i=n(1367),o=n(974),a=n(8297),l=n(6255),s=n(578),u=n(3617),c=function(e){function t(n,r,i){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=o.I;break;case 1:if(!n){a.destination=o.I;break}if("object"===typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new f(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new f(a,n,r,i)}return a}return r.C6(t,e),t.prototype[l.D]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(a.y),f=function(e){function t(t,n,r,a){var l,s=e.call(this)||this;s._parentSubscriber=t;var u=s;return(0,i.T)(n)?l=n:n&&(l=n.next,r=n.error,a=n.complete,n!==o.I&&(u=Object.create(n),(0,i.T)(u.unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(s))),s._context=u,s._next=l,s._error=r,s._complete=a,s}return r.C6(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.$.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.$.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,u.T)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,u.T)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.$.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.$.useDeprecatedSynchronousErrorHandling)throw n;(0,u.T)(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!s.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return s.$.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,u.T)(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(c)},236(e,t,n){"use strict";n.d(t,{H:()=>a});var r=n(8851),i=n(5157),o=n(6120);function a(e,t){return t?(0,o.c)(e,t):e instanceof r.c?e:new r.c((0,i.i)(e))}},251(e,t,n){"use strict";n.d(t,{c:()=>a});var r=n(8851),i=n(7557),o=n(5508);function a(e,t){return t?(0,o.V)(e,t):new r.c((0,i.v)(e))}},439(e,t,n){"use strict";n.d(t,{Y:()=>i});var r=n(6882),i=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.C6(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(8297).y)},578(e,t,n){"use strict";n.d(t,{$:()=>i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},658(e,t,n){"use strict";function r(e){return!!e&&"function"!==typeof e.subscribe&&"function"===typeof e.then}n.d(t,{y:()=>r})},974(e,t,n){"use strict";n.d(t,{I:()=>o});var r=n(578),i=n(3617),o={closed:!0,next:function(e){},error:function(e){if(r.$.useDeprecatedSynchronousErrorHandling)throw e;(0,i.T)(e)},complete:function(){}}},1008(e,t,n){"use strict";n.d(t,{I:()=>h,$:()=>d});var r=n(6882),i=1,o=function(){return Promise.resolve()}(),a={};function l(e){return e in a&&(delete a[e],!0)}var s=function(e){var t=i++;return a[t]=!0,o.then(function(){return l(t)&&e()}),t},u=function(e){l(e)},c=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.C6(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=s(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(u(n),t.scheduled=void 0)},t}(n(85).R),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.C6(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(3571).q),d=new f(c),h=d},1068(e,t,n){"use strict";n.d(t,{ZS:()=>f,zV:()=>c});var r=n(6882),i=n(2414),o=n(8342),a=n(8535),l=n(6790),s=n(251),u={};function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return(0,i.m)(e[e.length-1])&&(r=e.pop()),"function"===typeof e[e.length-1]&&(n=e.pop()),1===e.length&&(0,o.c)(e[0])&&(e=e[0]),(0,s.c)(e,r).lift(new f(n))}var f=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.resultSelector))},e}(),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.C6(t,e),t.prototype._next=function(e){this.values.push(u),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add((0,l.F)(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0===(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,i=r[n],o=this.toRespond?i===u?--this.toRespond:this.toRespond:0;r[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(a.E)},1090(e,t,n){"use strict";n.d(t,{T:()=>o});var r=n(6882),i=n(230);function o(e,t){return function(n){if("function"!==typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.project,this.thisArg))},e}(),l=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.C6(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(i.v)},1352(e,t,n){"use strict";var r=n(7119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},1367(e,t,n){"use strict";function r(e){return"function"===typeof e}n.d(t,{T:()=>r})},1615(e,t,n){"use strict";function r(){}n.d(t,{l:()=>r})},1638(e,t,n){"use strict";n.d(t,{s:()=>r});var r=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}()},1761(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var l=2*(r+1)-1,s=e[l],u=l+1,c=e[u];if(0>o(s,n))u<i&&0>o(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[l]=n,r=l);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var u=[],c=[],f=1,d=null,h=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(v=!1,w(e),!m)if(null!==r(u))m=!0,D(S);else{var t=r(c);null!==t&&I(x,t.startTime-e)}}function S(e,n){m=!1,v&&(v=!1,b(N),N=-1),p=!0;var o=h;try{for(w(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!M());){var a=d.callback;if("function"===typeof a){d.callback=null,h=d.priorityLevel;var l=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?d.callback=l:d===r(u)&&i(u),w(n)}else i(u);d=r(u)}if(null!==d)var s=!0;else{var f=r(c);null!==f&&I(x,f.startTime-n),s=!1}return s}finally{d=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,C=null,N=-1,E=5,T=-1;function M(){return!(t.unstable_now()-T<E)}function j(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?_():(k=!1,C=null)}}else k=!1}if("function"===typeof y)_=function(){y(j)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=j,_=function(){P.postMessage(null)}}else _=function(){g(j,0)};function D(e){C=e,k||(k=!0,_())}function I(e,n){N=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(v?(b(N),N=-1):v=!0,I(x,o-a))):(e.sortIndex=l,n(u,e),m||p||(m=!0,D(S))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},1820(e,t,n){"use strict";n.d(t,{p:()=>o});var r=n(6882),i=n(230);function o(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.predicate,this.thisArg))},e}(),l=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.C6(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(i.v)},2049(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var w=y.prototype=new b;w.constructor=y,m(w,g.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,l=null;if(null!=t)for(i in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var s=arguments.length-2;if(1===s)o.children=r;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===o[i]&&(o[i]=s[i]);return{$$typeof:n,type:e,key:a,ref:l,props:o,_owner:_.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function M(e,t,i,o,a){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return a=a(s=e),e=""===o?"."+T(s,0):o,x(a)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),M(a,t,i,"",function(e){return e})):null!=a&&(N(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(s=0,o=""===o?".":o+":",x(e))for(var u=0;u<e.length;u++){var c=o+T(l=e[u],u);s+=M(l,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(l=e.next()).done;)s+=M(l=l.value,t,i,c=o+T(l,u++),a);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function j(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},I={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=y,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)S.call(t,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:l}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2113(e,t,n){"use strict";n.d(t,{G:()=>s,f:()=>u});var r=n(6882),i=n(8770),o=n(8851),a=n(8297),l=n(3754),s=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.C6(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.y).add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.y.EMPTY)),e},t.prototype.refCount=function(){return(0,l.B)()(this)},t}(o.c),u=function(){var e=s.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.C6(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.PJ)},2413(e,t,n){"use strict";n.d(t,{P:()=>r});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},2414(e,t,n){"use strict";function r(e){return e&&"function"===typeof e.schedule}n.d(t,{m:()=>r})},2511(e,t,n){"use strict";n.d(t,{_:()=>r});var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},2654(e,t,n){"use strict";var r=n(9950),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:l.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},2776(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3452),i=n(3203),o=n(3292);t.zipSamplesPpg=function(e){var t=[],n=null;return e.pipe(i.mergeMap(function(e){if(e.timestamp!==n&&(n=e.timestamp,t.length)){var i=r.from([t.slice()]);return t.splice(0,t.length,e),i}return t.push(e),r.from([])}),i.concat(r.from([t])),i.mergeMap(function(e){var t=e[0].samples.map(function(t,n){for(var r=[NaN,NaN,NaN],i=0,a=e;i<a.length;i++){var l=a[i];r[l.ppgChannel]=l.samples[n]}return{data:r,index:e[0].index,timestamp:e[0].timestamp+1e3*n/o.PPG_FREQUENCY}});return r.from(t)}))}},3013(e,t,n){"use strict";n.d(t,{ee:()=>c,yU:()=>u});var r=n(6882),i=n(251),o=n(8342),a=n(230),l=n(3737),s=n(3056);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"===typeof n&&e.pop(),(0,i.c)(e,void 0).lift(new c(n))}var c=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.resultSelector))},e}(),f=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var i=e.call(this,t)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector="function"===typeof n?n:void 0,i}return r.C6(t,e),t.prototype._next=function(e){var t=this.iterators;(0,o.c)(e)?t.push(new h(e)):"function"===typeof e[l.lJ]?t.push(new d(e[l.lJ]())):t.push(new p(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe());else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){if("function"===typeof(a=e[r]).hasValue&&!a.hasValue())return}var i=!1,o=[];for(r=0;r<t;r++){var a,l=(a=e[r]).next();if(a.hasCompleted()&&(i=!0),l.done)return void n.complete();o.push(l.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(a.v),d=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),h=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[l.lJ]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),p=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r.C6(t,e),t.prototype[l.lJ]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return(0,s.tS)(this.observable,new s.zA(this))},t}(s.gn)},3056(e,t,n){"use strict";n.d(t,{gn:()=>s,tS:()=>u,zA:()=>l});var r=n(6882),i=n(230),o=n(8851),a=n(5157),l=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return r.C6(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(i.v),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.C6(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(i.v);function u(e,t){if(!t.closed){if(e instanceof o.c)return e.subscribe(t);var n;try{n=(0,a.i)(e)(t)}catch(r){t.error(r)}return n}}},3203(e,t,n){"use strict";n.r(t),n.d(t,{audit:()=>o,auditTime:()=>c,buffer:()=>f,bufferCount:()=>m,bufferTime:()=>w,bufferToggle:()=>j,bufferWhen:()=>D,catchError:()=>R,combineAll:()=>B,combineLatest:()=>V,concat:()=>q,concatAll:()=>G.K,concatMap:()=>$,concatMapTo:()=>Q,count:()=>X,debounce:()=>J,debounceTime:()=>ne,defaultIfEmpty:()=>ae,delay:()=>fe,delayWhen:()=>ve,dematerialize:()=>xe,distinct:()=>ke,distinctUntilChanged:()=>Ee,distinctUntilKeyChanged:()=>je,elementAt:()=>He,endWith:()=>We,every:()=>qe,exhaust:()=>$e,exhaustMap:()=>Ke,expand:()=>tt,filter:()=>Pe.p,finalize:()=>it,find:()=>lt,findIndex:()=>ct,first:()=>dt,flatMap:()=>Y.qI,groupBy:()=>ht.$,ignoreElements:()=>pt,isEmpty:()=>gt,last:()=>_t,map:()=>Ze.T,mapTo:()=>kt,materialize:()=>Et,max:()=>Ft,merge:()=>zt,mergeAll:()=>Lt.U,mergeMap:()=>Y.ZZ,mergeMapTo:()=>Ot,mergeScan:()=>Bt,min:()=>Vt,multicast:()=>qt,observeOn:()=>Yt.QE,onErrorResumeNext:()=>$t,pairwise:()=>Zt,partition:()=>tn,pluck:()=>nn,publish:()=>on,publishBehavior:()=>ln,publishLast:()=>un,publishReplay:()=>fn,race:()=>hn,reduce:()=>It,refCount:()=>Nn.B,repeat:()=>pn,repeatWhen:()=>gn,retry:()=>wn,retryWhen:()=>_n,sample:()=>En,sampleTime:()=>jn,scan:()=>jt,sequenceEqual:()=>In,share:()=>On,shareReplay:()=>Bn,single:()=>Un,skip:()=>Wn,skipLast:()=>Yn,skipUntil:()=>Xn,skipWhile:()=>Jn,startWith:()=>nr,subscribeOn:()=>ar,switchAll:()=>fr,switchMap:()=>sr,switchMapTo:()=>dr,take:()=>Oe,takeLast:()=>wt,takeUntil:()=>hr,takeWhile:()=>vr,tap:()=>xr,throttle:()=>Cr,throttleTime:()=>Tr,throwIfEmpty:()=>Ie,timeInterval:()=>Dr,timeout:()=>Br,timeoutWith:()=>Rr,timestamp:()=>Ur,toArray:()=>Wr,window:()=>qr,windowCount:()=>$r,windowTime:()=>Zr,windowToggle:()=>ii,windowWhen:()=>li,withLatestFrom:()=>ci,zip:()=>pi,zipAll:()=>mi});var r=n(6882),i=n(3056);function o(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.durationSelector))},e}(),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.C6(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(r){return this.destination.error(r)}var n=(0,i.tS)(t,new i.zA(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},t.prototype.clearThrottle=function(){var e=this,t=e.value,n=e.hasValue,r=e.throttled;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(i.gn),s=n(164),u=n(8063);function c(e,t){return void 0===t&&(t=s.b),o(function(){return(0,u.O)(e,t)})}function f(e){return function(t){return t.lift(new d(e))}}var d=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.closingNotifier))},e}(),h=function(e){function t(t,n){var r=e.call(this,t)||this;return r.buffer=[],r.add((0,i.tS)(n,new i.zA(r))),r}return r.C6(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(){var e=this.buffer;this.buffer=[],this.destination.next(e)},t}(i.gn),p=n(230);function m(e,t){return void 0===t&&(t=null),function(n){return n.lift(new v(e,t))}}var v=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?b:g}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),g=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bufferSize=n,r.buffer=[],r}return r.C6(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(p.v),b=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return r.C6(t,e),t.prototype._next=function(e){var t=this,n=t.bufferSize,r=t.startBufferEvery,i=t.buffers,o=t.count;this.count++,o%r===0&&i.push([]);for(var a=i.length;a--;){var l=i[a];l.push(e),l.length===n&&(i.splice(a,1),this.destination.next(l))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(p.v),y=n(2414);function w(e){var t=arguments.length,n=s.b;(0,y.m)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(t){return t.lift(new x(e,r,i,n))}}var x=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new _(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),S=function(){return function(){this.buffer=[]}}(),_=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=r,a.maxBufferSize=i,a.scheduler=o,a.contexts=[];var l=a.openContext();if(a.timespanOnly=null==r||r<0,a.timespanOnly){var s={subscriber:a,context:l,bufferTimeSpan:n};a.add(l.closeAction=o.schedule(k,n,s))}else{var u={subscriber:a,context:l},c={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:a,scheduler:o};a.add(l.closeAction=o.schedule(N,n,u)),a.add(o.schedule(C,r,c))}return a}return r.C6(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],a=o.buffer;a.push(e),a.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;t.length>0;){var r=t.shift();n.next(r.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(k,n,r))}},t.prototype.openContext=function(){var e=new S;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(p.v);function k(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function C(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(N,n,{subscriber:r,context:o})),this.schedule(e,t))}function N(e){var t=e.subscriber,n=e.context;t.closeContext(n)}var E=n(8297),T=n(6790),M=n(8535);function j(e,t){return function(n){return n.lift(new A(e,t))}}var A=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new P(e,this.openings,this.closingSelector))},e}(),P=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.closingSelector=r,i.contexts=[],i.add((0,T.F)(i,n)),i}return r.C6(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(n){this._error(n)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,r=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new E.y,r={buffer:[],subscription:n};t.push(r);var i=(0,T.F)(this,e,r);!i||i.closed?this.closeBuffer(r):(i.context=r,this.add(i),n.add(i))},t}(M.E);function D(e){return function(t){return t.lift(new I(e))}}var I=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new F(e,this.closingSelector))},e}(),F=function(e){function t(t,n){var r=e.call(this,t)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r.C6(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(r){return this.error(r)}e=new E.y,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add((0,i.tS)(t,new i.zA(this))),this.subscribing=!1},t}(i.gn);function R(e){return function(t){var n=new z(e),r=t.lift(n);return n.caught=r}}var z=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new L(e,this.selector,this.caught))},e}(),L=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.selector=n,i.caught=r,i}return r.C6(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(a){return void e.prototype.error.call(this,a)}this._unsubscribeAndRecycle();var r=new i.zA(this);this.add(r);var o=(0,i.tS)(n,r);o!==r&&this.add(o)}},t}(i.gn),O=n(1068);function B(e){return function(t){return t.lift(new O.ZS(e))}}var U=n(8342),H=n(236);function V(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"===typeof e[e.length-1]&&(n=e.pop()),1===e.length&&(0,U.c)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call((0,H.H)([t].concat(e)),new O.ZS(n))}}var W=n(5296);function q(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(W.x.apply(void 0,[t].concat(e)))}}var G=n(4907),Y=n(5812);function $(e,t){return(0,Y.ZZ)(e,t,1)}function Q(e,t){return $(function(){return e},t)}function X(e){return function(t){return t.lift(new Z(e,t))}}var Z=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new K(e,this.predicate,this.source))},e}(),K=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return r.C6(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(p.v);function J(e){return function(t){return t.lift(new ee(e))}}var ee=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new te(e,this.durationSelector))},e}(),te=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.C6(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(n){this.destination.error(n)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=(0,i.tS)(t,new i.zA(this)))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(i.gn);function ne(e,t){return void 0===t&&(t=s.b),function(n){return n.lift(new re(e,t))}}var re=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new ie(e,this.dueTime,this.scheduler))},e}(),ie=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.C6(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(oe,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(p.v);function oe(e){e.debouncedNext()}function ae(e){return void 0===e&&(e=null),function(t){return t.lift(new le(e))}}var le=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new se(e,this.defaultValue))},e}(),se=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.C6(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(p.v);function ue(e){return e instanceof Date&&!isNaN(+e)}var ce=n(7251);function fe(e,t){void 0===t&&(t=s.b);var n=ue(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new de(n,t))}}var de=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new he(e,this.delay,this.scheduler))},e}(),he=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r.C6(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new pe(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(ce.E.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(ce.E.createComplete()),this.unsubscribe()},t}(p.v),pe=function(){return function(e,t){this.time=e,this.notification=t}}(),me=n(8851);function ve(e,t){return t?function(n){return new ye(n,t).lift(new ge(e))}:function(t){return t.lift(new ge(e))}}var ge=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new be(e,this.delayDurationSelector))},e}(),be=function(e){function t(t,n){var r=e.call(this,t)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r.C6(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=(0,T.F)(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(M.E),ye=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subscriptionDelay=n,r}return r.C6(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new we(e,this.source))},t}(me.c),we=function(e){function t(t,n){var r=e.call(this)||this;return r.parent=t,r.source=n,r.sourceSubscribed=!1,r}return r.C6(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(p.v);function xe(){return function(e){return e.lift(new Se)}}var Se=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new _e(e))},e}(),_e=function(e){function t(t){return e.call(this,t)||this}return r.C6(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(p.v);function ke(e,t){return function(n){return n.lift(new Ce(e,t))}}var Ce=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new Ne(e,this.keySelector,this.flushes))},e}(),Ne=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.keySelector=n,o.values=new Set,r&&o.add((0,i.tS)(r,new i.zA(o))),o}return r.C6(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(r){return void n.error(r)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(i.gn);function Ee(e,t){return function(n){return n.lift(new Te(e,t))}}var Te=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new Me(e,this.compare,this.keySelector))},e}(),Me=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=r,i.hasKey=!1,"function"===typeof n&&(i.compare=n),i}return r.C6(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(p.v);function je(e,t){return Ee(function(n,r){return t?t(n[e],r[e]):n[e]===r[e]})}var Ae=n(9854),Pe=n(1820),De=n(9878);function Ie(e){return void 0===e&&(e=ze),function(t){return t.lift(new Fe(e))}}var Fe=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new Re(e,this.errorFactory))},e}(),Re=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errorFactory=n,r.hasValue=!1,r}return r.C6(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(p.v);function ze(){return new De.G}var Le=n(6471);function Oe(e){return function(t){return 0===e?(0,Le.I)():t.lift(new Be(e))}}var Be=function(){function e(e){if(this.total=e,this.total<0)throw new Ae.k}return e.prototype.call=function(e,t){return t.subscribe(new Ue(e,this.total))},e}(),Ue=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.C6(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(p.v);function He(e,t){if(e<0)throw new Ae.k;var n=arguments.length>=2;return function(r){return r.pipe((0,Pe.p)(function(t,n){return n===e}),Oe(1),n?ae(t):Ie(function(){return new Ae.k}))}}var Ve=n(5209);function We(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return(0,W.x)(t,Ve.of.apply(void 0,e))}}function qe(e,t){return function(n){return n.lift(new Ge(e,t,n))}}var Ge=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new Ye(e,this.predicate,this.thisArg,this.source))},e}(),Ye=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.C6(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(p.v);function $e(){return function(e){return e.lift(new Qe)}}var Qe=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Xe(e))},e}(),Xe=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r.C6(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add((0,i.tS)(e,new i.zA(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.gn),Ze=n(1090);function Ke(e,t){return t?function(n){return n.pipe(Ke(function(n,r){return(0,H.H)(e(n,r)).pipe((0,Ze.T)(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new Je(e))}}var Je=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new et(e,this.project))},e}(),et=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return r.C6(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new i.zA(this),n=this.destination;n.add(t);var r=(0,i.tS)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.gn);function tt(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new nt(e,t,n))}}var nt=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new rt(e,this.project,this.concurrent,this.scheduler))},e}(),rt=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return r.C6(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,r=e.value,i=e.index;t.subscribeToProjection(n,r,i)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(e);try{var i=(0,this.project)(e,r);if(this.scheduler){var o={subscriber:this,result:i,value:e,index:r};this.destination.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(i,e,r)}catch(a){n.error(a)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add((0,i.tS)(e,new i.zA(this)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this._next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(i.gn);function it(e){return function(t){return t.lift(new ot(e))}}var ot=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new at(e,this.callback))},e}(),at=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new E.y(n)),r}return r.C6(t,e),t}(p.v);function lt(e,t){if("function"!==typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new st(e,n,!1,t))}}var st=function(){function e(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}return e.prototype.call=function(e,t){return t.subscribe(new ut(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),ut=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.predicate=n,a.source=r,a.yieldIndex=i,a.thisArg=o,a.index=0,a}return r.C6(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,r=this.index++;try{t.call(n||this,e,r,this.source)&&this.notifyComplete(this.yieldIndex?r:e)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(p.v);function ct(e,t){return function(n){return n.lift(new st(e,n,!0,t))}}var ft=n(5973);function dt(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?(0,Pe.p)(function(t,n){return e(t,n,r)}):ft.D,Oe(1),n?ae(t):Ie(function(){return new De.G}))}}var ht=n(6458);function pt(){return function(e){return e.lift(new mt)}}var mt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new vt(e))},e}(),vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.C6(t,e),t.prototype._next=function(e){},t}(p.v);function gt(){return function(e){return e.lift(new bt)}}var bt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new yt(e))},e}(),yt=function(e){function t(t){return e.call(this,t)||this}return r.C6(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(p.v);function wt(e){return function(t){return 0===e?(0,Le.I)():t.lift(new xt(e))}}var xt=function(){function e(e){if(this.total=e,this.total<0)throw new Ae.k}return e.prototype.call=function(e,t){return t.subscribe(new St(e,this.total))},e}(),St=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.C6(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(p.v);function _t(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?(0,Pe.p)(function(t,n){return e(t,n,r)}):ft.D,wt(1),n?ae(t):Ie(function(){return new De.G}))}}function kt(e){return function(t){return t.lift(new Ct(e))}}var Ct=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new Nt(e,this.value))},e}(),Nt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return r.C6(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(p.v);function Et(){return function(e){return e.lift(new Tt)}}var Tt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Mt(e))},e}(),Mt=function(e){function t(t){return e.call(this,t)||this}return r.C6(t,e),t.prototype._next=function(e){this.destination.next(ce.E.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(ce.E.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(ce.E.createComplete()),e.complete()},t}(p.v);function jt(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new At(e,t,n))}}var At=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new Pt(e,this.accumulator,this.seed,this.hasSeed))},e}(),Pt=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.C6(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)},t}(p.v),Dt=n(3843);function It(e,t){return arguments.length>=2?function(n){return(0,Dt.F)(jt(e,t),wt(1),ae(t))(n)}:function(t){return(0,Dt.F)(jt(function(t,n,r){return e(t,n,r+1)}),wt(1))(t)}}function Ft(e){return It("function"===typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}var Rt=n(3370);function zt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(Rt.h.apply(void 0,[t].concat(e)))}}var Lt=n(9149);function Ot(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"===typeof t?(0,Y.ZZ)(function(){return e},t,n):("number"===typeof t&&(n=t),(0,Y.ZZ)(function(){return e},n))}function Bt(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new Ut(e,t,n))}}var Ut=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new Ht(e,this.accumulator,this.seed,this.concurrent))},e}(),Ht=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.C6(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,e,t)}catch(i){return n.error(i)}this.active++,this._innerSub(r)}else this.buffer.push(e)},t.prototype._innerSub=function(e){var t=new i.zA(this),n=this.destination;n.add(t);var r=(0,i.tS)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e){var t=this.destination;this.acc=e,this.hasValue=!0,t.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(i.gn);function Vt(e){return It("function"===typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}var Wt=n(2113);function qt(e,t){return function(n){var r;if(r="function"===typeof e?e:function(){return e},"function"===typeof t)return n.lift(new Gt(r,t));var i=Object.create(n,Wt.f);return i.source=n,i.subjectFactory=r,i}}var Gt=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}(),Yt=n(7389);function $t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&(0,U.c)(e[0])&&(e=e[0]),function(t){return t.lift(new Qt(e))}}var Qt=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new Xt(e,this.nextSources))},e}(),Xt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.nextSources=n,r}return r.C6(t,e),t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new i.zA(this),n=this.destination;n.add(t);var r=(0,i.tS)(e,t);r!==t&&n.add(r)}else this.destination.complete()},t}(i.gn);function Zt(){return function(e){return e.lift(new Kt)}}var Kt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Jt(e))},e}(),Jt=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return r.C6(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(p.v),en=n(4002);function tn(e,t){return function(n){return[(0,Pe.p)(e,t)(n),(0,Pe.p)((0,en.A)(e,t))(n)]}}function nn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(t){return(0,Ze.T)(function(e,t){var n=function(n){for(var r=n,i=0;i<t;i++){var o=null!=r?r[e[i]]:void 0;if(void 0===o)return;r=o}return r};return n}(e,n))(t)}}var rn=n(8770);function on(e){return e?qt(function(){return new rn.B7},e):qt(new rn.B7)}var an=n(8300);function ln(e){return function(t){return qt(new an.t(e))(t)}}var sn=n(3412);function un(){return function(e){return qt(new sn.h)(e)}}var cn=n(7091);function fn(e,t,n,r){n&&"function"!==typeof n&&(r=n);var i="function"===typeof n?n:void 0,o=new cn.m(e,t,r);return function(e){return qt(function(){return o},i)(e)}}var dn=n(4617);function hn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&(0,U.c)(e[0])&&(e=e[0]),t.lift.call(dn.O4.apply(void 0,[t].concat(e)))}}function pn(e){return void 0===e&&(e=-1),function(t){return 0===e?(0,Le.I)():e<0?t.lift(new mn(-1,t)):t.lift(new mn(e-1,t))}}var mn=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new vn(e,this.count,this.source))},e}(),vn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.C6(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(p.v);function gn(e){return function(t){return t.lift(new bn(e))}}var bn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new yn(e,this.notifier,t))},e}(),yn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return r.C6(t,e),t.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new rn.B7;try{t=(0,this.notifier)(this.notifications)}catch(n){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=(0,i.tS)(t,new i.zA(this))},t}(i.gn);function wn(e){return void 0===e&&(e=-1),function(t){return t.lift(new xn(e,t))}}var xn=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Sn(e,this.count,this.source))},e}(),Sn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.C6(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return e.prototype.error.call(this,t);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(p.v);function _n(e){return function(t){return t.lift(new kn(e,t))}}var kn=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Cn(e,this.notifier,this.source))},e}(),Cn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i}return r.C6(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{n=new rn.B7;try{r=(0,this.notifier)(n)}catch(a){return e.prototype.error.call(this,a)}o=(0,i.tS)(r,new i.zA(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(i.gn),Nn=n(3754);function En(e){return function(t){return t.lift(new Tn(e))}}var Tn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new Mn(e),r=t.subscribe(n);return r.add((0,i.tS)(this.notifier,new i.zA(n))),r},e}(),Mn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return r.C6(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(i.gn);function jn(e,t){return void 0===t&&(t=s.b),function(n){return n.lift(new An(e,t))}}var An=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new Pn(e,this.period,this.scheduler))},e}(),Pn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(Dn,n,{subscriber:i,period:n})),i}return r.C6(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(p.v);function Dn(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}function In(e,t){return function(n){return n.lift(new Fn(e,t))}}var Fn=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new Rn(e,this.compareTo,this.comparator))},e}(),Rn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new zn(t,i))),i}return r.C6(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this,t=e._a,n=e._b,r=e.comparator;t.length>0&&n.length>0;){var i=t.shift(),o=n.shift(),a=!1;try{a=r?r(i,o):i===o}catch(l){this.destination.error(l)}a||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(p.v),zn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.parent=n,r}return r.C6(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(p.v);function Ln(){return new rn.B7}function On(){return function(e){return(0,Nn.B)()(qt(Ln)(e))}}function Bn(e,t,n){var r;return r=e&&"object"===typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,l=e.refCount,s=e.scheduler,u=0,c=!1,f=!1;return function(e){var r;u++,!t||c?(c=!1,t=new cn.m(i,a,s),r=t.subscribe(this),n=e.subscribe({next:function(e){t.next(e)},error:function(e){c=!0,t.error(e)},complete:function(){f=!0,n=void 0,t.complete()}}),f&&(n=void 0)):r=t.subscribe(this),this.add(function(){u--,r.unsubscribe(),r=void 0,n&&!f&&l&&0===u&&(n.unsubscribe(),n=void 0,t=void 0)})}}(r))}}function Un(e){return function(t){return t.lift(new Hn(e,t))}}var Hn=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Vn(e,this.predicate,this.source))},e}(),Vn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return r.C6(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(n){this.destination.error(n)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new De.G)},t}(p.v);function Wn(e){return function(t){return t.lift(new qn(e))}}var qn=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new Gn(e,this.total))},e}(),Gn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.C6(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(p.v);function Yn(e){return function(t){return t.lift(new $n(e))}}var $n=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new Ae.k}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new p.v(e)):t.subscribe(new Qn(e,this._skipCount))},e}(),Qn=function(e){function t(t,n){var r=e.call(this,t)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r.C6(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var r=n%t,i=this._ring,o=i[r];i[r]=e,this.destination.next(o)}},t}(p.v);function Xn(e){return function(t){return t.lift(new Zn(e))}}var Zn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new Kn(e,this.notifier))},e}(),Kn=function(e){function t(t,n){var r=e.call(this,t)||this;r.hasValue=!1;var o=new i.zA(r);r.add(o),r.innerSubscription=o;var a=(0,i.tS)(n,o);return a!==o&&(r.add(a),r.innerSubscription=a),r}return r.C6(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(i.gn);function Jn(e){return function(t){return t.lift(new er(e))}}var er=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new tr(e,this.predicate))},e}(),tr=function(e){function t(t,n){var r=e.call(this,t)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r.C6(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}},t}(p.v);function nr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return(0,y.m)(n)?(e.pop(),function(t){return(0,W.x)(e,t,n)}):function(t){return(0,W.x)(e,t)}}var rr=n(1008),ir=n(6280),or=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=rr.I);var i=e.call(this)||this;return i.source=t,i.delayTime=n,i.scheduler=r,(!(0,ir.k)(n)||n<0)&&(i.delayTime=0),r&&"function"===typeof r.schedule||(i.scheduler=rr.I),i}return r.C6(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=rr.I),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(me.c);function ar(e,t){return void 0===t&&(t=0),function(n){return n.lift(new lr(e,t))}}var lr=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new or(t,this.delay,this.scheduler).subscribe(e)},e}();function sr(e,t){return"function"===typeof t?function(n){return n.pipe(sr(function(n,r){return(0,H.H)(e(n,r)).pipe((0,Ze.T)(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new ur(e))}}var ur=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new cr(e,this.project))},e}(),cr=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return r.C6(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new i.zA(this),r=this.destination;r.add(n),this.innerSubscription=(0,i.tS)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(i.gn);function fr(){return sr(ft.D)}function dr(e,t){return t?sr(function(){return e},t):sr(function(){return e})}function hr(e){return function(t){return t.lift(new pr(e))}}var pr=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new mr(e),r=(0,i.tS)(this.notifier,new i.zA(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n},e}(),mr=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return r.C6(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(i.gn);function vr(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new gr(e,t))}}var gr=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new br(e,this.predicate,this.inclusive))},e}(),br=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return r.C6(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(p.v),yr=n(1615),wr=n(1367);function xr(e,t,n){return function(r){return r.lift(new Sr(e,t,n))}}var Sr=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new _r(e,this.nextOrObserver,this.error,this.complete))},e}(),_r=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._tapNext=yr.l,o._tapError=yr.l,o._tapComplete=yr.l,o._tapError=r||yr.l,o._tapComplete=i||yr.l,(0,wr.T)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||yr.l,o._tapError=n.error||yr.l,o._tapComplete=n.complete||yr.l),o}return r.C6(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(p.v),kr={leading:!0,trailing:!1};function Cr(e,t){return void 0===t&&(t=kr),function(n){return n.lift(new Nr(e,!!t.leading,!!t.trailing))}}var Nr=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new Er(e,this.durationSelector,this.leading,this.trailing))},e}(),Er=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return r.C6(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=(0,i.tS)(t,new i.zA(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(t){return this.destination.error(t),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(i.gn);function Tr(e,t,n){return void 0===t&&(t=s.b),void 0===n&&(n=kr),function(r){return r.lift(new Mr(e,t,n.leading,n.trailing))}}var Mr=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new jr(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),jr=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.duration=n,a.scheduler=r,a.leading=i,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return r.C6(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Ar,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(p.v);function Ar(e){e.subscriber.clearThrottle()}var Pr=n(8438);function Dr(e){return void 0===e&&(e=s.b),function(t){return(0,Pr.v)(function(){return t.pipe(jt(function(t,n){var r=t.current;return{value:n,current:e.now(),last:r}},{current:e.now(),value:void 0,last:void 0}),(0,Ze.T)(function(e){var t=e.current,n=e.last,r=e.value;return new Ir(r,t-n)}))})}}var Ir=function(){return function(e,t){this.value=e,this.interval=t}}(),Fr=n(4984);function Rr(e,t,n){return void 0===n&&(n=s.b),function(r){var i=ue(e),o=i?+e-n.now():Math.abs(e);return r.lift(new zr(o,i,t,n))}}var zr=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new Lr(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),Lr=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.absoluteTimeout=n,a.waitFor=r,a.withObservable=i,a.scheduler=o,a.scheduleTimeout(),a}return r.C6(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add((0,i.tS)(t,new i.zA(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(i.gn),Or=n(8698);function Br(e,t){return void 0===t&&(t=s.b),Rr(e,(0,Or.$)(new Fr.M),t)}function Ur(e){return void 0===e&&(e=s.b),(0,Ze.T)(function(t){return new Hr(t,e.now())})}var Hr=function(){return function(e,t){this.value=e,this.timestamp=t}}();function Vr(e,t,n){return 0===n?[t]:(e.push(t),e)}function Wr(){return It(Vr,[])}function qr(e){return function(t){return t.lift(new Gr(e))}}var Gr=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new Yr(e),r=t.subscribe(n);return r.closed||n.add((0,i.tS)(this.windowBoundaries,new i.zA(n))),r},e}(),Yr=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new rn.B7,t.next(n.window),n}return r.C6(t,e),t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new rn.B7;t.next(n)},t}(i.gn);function $r(e,t){return void 0===t&&(t=0),function(n){return n.lift(new Qr(e,t))}}var Qr=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new Xr(e,this.windowSize,this.startWindowEvery))},e}(),Xr=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.destination=t,i.windowSize=n,i.startWindowEvery=r,i.windows=[new rn.B7],i.count=0,t.next(i.windows[0]),i}return r.C6(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length,a=0;a<o&&!this.closed;a++)i[a].next(e);var l=this.count-r+1;if(l>=0&&l%t===0&&!this.closed&&i.shift().complete(),++this.count%t===0&&!this.closed){var s=new rn.B7;i.push(s),n.next(s)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(p.v);function Zr(e){var t=s.b,n=null,r=Number.POSITIVE_INFINITY;return(0,y.m)(arguments[3])&&(t=arguments[3]),(0,y.m)(arguments[2])?t=arguments[2]:(0,ir.k)(arguments[2])&&(r=Number(arguments[2])),(0,y.m)(arguments[1])?t=arguments[1]:(0,ir.k)(arguments[1])&&(n=Number(arguments[1])),function(i){return i.lift(new Kr(e,n,r,t))}}var Kr=function(){function e(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new ei(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),Jr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return r.C6(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(rn.B7),ei=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;a.destination=t,a.windowTimeSpan=n,a.windowCreationInterval=r,a.maxWindowSize=i,a.scheduler=o,a.windows=[];var l=a.openWindow();if(null!==r&&r>=0){var s={subscriber:a,window:l,context:null},u={windowTimeSpan:n,windowCreationInterval:r,subscriber:a,scheduler:o};a.add(o.schedule(ri,n,s)),a.add(o.schedule(ni,r,u))}else{var c={subscriber:a,window:l,windowTimeSpan:n};a.add(o.schedule(ti,n,c))}return a}return r.C6(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var i=t[r];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new Jr;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(p.v);function ti(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function ni(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,i=e.windowCreationInterval,o=n.openWindow(),a=this,l={action:a,subscription:null},s={subscriber:n,window:o,context:l};l.subscription=r.schedule(ri,t,s),a.add(l.subscription),a.schedule(e,i)}function ri(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}function ii(e,t){return function(n){return n.lift(new oi(e,t))}}var oi=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new ai(e,this.openings,this.closingSelector))},e}(),ai=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=(0,T.F)(i,n,n)),i}return r.C6(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,r=-1;++r<n;){var i=t[r];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,r,i){if(e===this.openings){var o=void 0;try{o=(0,this.closingSelector)(t)}catch(c){return this.error(c)}var a=new rn.B7,l=new E.y,s={window:a,subscription:l};this.contexts.push(s);var u=(0,T.F)(this,o,s);u.closed?this.closeWindow(this.contexts.length-1):(u.context=s,l.add(u)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],r=n.window,i=n.subscription;t.splice(e,1),r.complete(),i.unsubscribe()}},t}(M.E);function li(e){return function(t){return t.lift(new si(e))}}var si=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new ui(e,this.closingSelector))},e}(),ui=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.closingSelector=n,r.openWindow(),r}return r.C6(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow(i)},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,r=this.window=new rn.B7;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(i){return this.destination.error(i),void this.window.error(i)}this.add(this.closingNotification=(0,T.F)(this,n))},t}(M.E);function ci(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"===typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new fi(r,n))}}var fi=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new di(e,this.observables,this.project))},e}(),di=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.observables=n,i.project=r,i.toRespond=[];var o=n.length;i.values=new Array(o);for(var a=0;a<o;a++)i.toRespond.push(a);for(a=0;a<o;a++){var l=n[a];i.add((0,T.F)(i,l,void 0,a))}return i}return r.C6(t,e),t.prototype.notifyNext=function(e,t,n){this.values[n]=t;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(M.E),hi=n(3013);function pi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(hi.yU.apply(void 0,[t].concat(e)))}}function mi(e){return function(t){return t.lift(new hi.ee(e))}}},3292(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function l(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,l)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3452),a=n(3203),l=n(6694),s=n(5484),u=n(6737);t.zipSamples=u.zipSamples;var c=n(2776);t.zipSamplesPpg=c.zipSamplesPpg,t.MUSE_SERVICE=65165;var f=["273e000f-4c4d-454d-96be-f03bac821358","273e0010-4c4d-454d-96be-f03bac821358","273e0011-4c4d-454d-96be-f03bac821358"];t.PPG_FREQUENCY=64,t.PPG_SAMPLES_PER_READING=6;var d=["273e0003-4c4d-454d-96be-f03bac821358","273e0004-4c4d-454d-96be-f03bac821358","273e0005-4c4d-454d-96be-f03bac821358","273e0006-4c4d-454d-96be-f03bac821358","273e0007-4c4d-454d-96be-f03bac821358"];t.EEG_FREQUENCY=256,t.EEG_SAMPLES_PER_READING=12,t.ppgChannelNames=["ambient","infrared","red"],t.channelNames=["TP9","AF7","AF8","TP10","AUX"];var h=function(){function e(){this.enableAux=!1,this.enablePpg=!1,this.deviceName="",this.connectionStatus=new o.BehaviorSubject(!1),this.gatt=null,this.lastIndex=null,this.lastTimestamp=null}return e.prototype.connect=function(e){return r(this,void 0,void 0,function(){var n,r,u,c,h,p,m,v,g,b,y,w,x,S,_,k,C,N,E,T,M,j=this;return i(this,function(A){switch(A.label){case 0:return e?(this.gatt=e,[3,4]):[3,1];case 1:return[4,navigator.bluetooth.requestDevice({filters:[{services:[t.MUSE_SERVICE]}]})];case 2:return n=A.sent(),r=this,[4,n.gatt.connect()];case 3:r.gatt=A.sent(),A.label=4;case 4:return this.deviceName=this.gatt.device.name||null,[4,this.gatt.getPrimaryService(t.MUSE_SERVICE)];case 5:return u=A.sent(),o.fromEvent(this.gatt.device,"gattserverdisconnected").pipe(a.first()).subscribe(function(){j.gatt=null,j.connectionStatus.next(!1)}),c=this,[4,u.getCharacteristic("273e0001-4c4d-454d-96be-f03bac821358")];case 6:return c.controlChar=A.sent(),h=this,[4,s.observableCharacteristic(this.controlChar)];case 7:return h.rawControlData=A.sent().pipe(a.map(function(e){return s.decodeResponse(new Uint8Array(e.buffer))}),a.share()),this.controlResponses=l.parseControl(this.rawControlData),[4,u.getCharacteristic("273e000b-4c4d-454d-96be-f03bac821358")];case 8:return p=A.sent(),m=this,[4,s.observableCharacteristic(p)];case 9:return m.telemetryData=A.sent().pipe(a.map(l.parseTelemetry)),[4,u.getCharacteristic("273e0009-4c4d-454d-96be-f03bac821358")];case 10:return v=A.sent(),g=this,[4,s.observableCharacteristic(v)];case 11:return g.gyroscopeData=A.sent().pipe(a.map(l.parseGyroscope)),[4,u.getCharacteristic("273e000a-4c4d-454d-96be-f03bac821358")];case 12:return b=A.sent(),y=this,[4,s.observableCharacteristic(b)];case 13:if(y.accelerometerData=A.sent().pipe(a.map(l.parseAccelerometer)),this.eventMarkers=new o.Subject,!this.enablePpg)return[3,18];this.ppgCharacteristics=[],w=[],x=f.length,S=function(e){var n,r,o,c;return i(this,function(i){switch(i.label){case 0:return n=f[e],[4,u.getCharacteristic(n)];case 1:return r=i.sent(),c=(o=w).push,[4,s.observableCharacteristic(r)];case 2:return c.apply(o,[i.sent().pipe(a.map(function(n){var r=n.getUint16(0);return{index:r,ppgChannel:e,samples:l.decodePPGSamples(new Uint8Array(n.buffer).subarray(2)),timestamp:j.getTimestamp(r,t.PPG_SAMPLES_PER_READING,t.PPG_FREQUENCY)}}))]),_.ppgCharacteristics.push(r),[2]}})},_=this,k=0,A.label=14;case 14:return k<x?[5,S(k)]:[3,17];case 15:A.sent(),A.label=16;case 16:return k++,[3,14];case 17:this.ppgReadings=o.merge.apply(void 0,w),A.label=18;case 18:this.eegCharacteristics=[],C=[],N=this.enableAux?d.length:4,E=function(e){var n,r,o,c;return i(this,function(i){switch(i.label){case 0:return n=d[e],[4,u.getCharacteristic(n)];case 1:return r=i.sent(),c=(o=C).push,[4,s.observableCharacteristic(r)];case 2:return c.apply(o,[i.sent().pipe(a.map(function(n){var r=n.getUint16(0);return{electrode:e,index:r,samples:l.decodeEEGSamples(new Uint8Array(n.buffer).subarray(2)),timestamp:j.getTimestamp(r,t.EEG_SAMPLES_PER_READING,t.EEG_FREQUENCY)}}))]),T.eegCharacteristics.push(r),[2]}})},T=this,M=0,A.label=19;case 19:return M<N?[5,E(M)]:[3,22];case 20:A.sent(),A.label=21;case 21:return M++,[3,19];case 22:return this.eegReadings=o.merge.apply(void 0,C),this.connectionStatus.next(!0),[2]}})})},e.prototype.sendCommand=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.controlChar.writeValue(s.encodeCommand(e))];case 1:return t.sent(),[2]}})})},e.prototype.start=function(){return r(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,this.pause()];case 1:return t.sent(),e="p21",this.enablePpg?e="p50":this.enableAux&&(e="p20"),[4,this.controlChar.writeValue(s.encodeCommand(e))];case 2:return t.sent(),[4,this.controlChar.writeValue(s.encodeCommand("s"))];case 3:return t.sent(),[4,this.resume()];case 4:return t.sent(),[2]}})})},e.prototype.pause=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.sendCommand("h")];case 1:return e.sent(),[2]}})})},e.prototype.resume=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.sendCommand("d")];case 1:return e.sent(),[2]}})})},e.prototype.deviceInfo=function(){return r(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return e=this.controlResponses.pipe(a.filter(function(e){return!!e.fw}),a.take(1)).toPromise(),[4,this.sendCommand("v1")];case 1:return t.sent(),[2,e]}})})},e.prototype.injectMarker=function(e,t){return void 0===t&&(t=(new Date).getTime()),r(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,this.eventMarkers.next({value:e,timestamp:t})];case 1:return n.sent(),[2]}})})},e.prototype.disconnect=function(){this.gatt&&(this.lastIndex=null,this.lastTimestamp=null,this.gatt.disconnect(),this.connectionStatus.next(!1))},e.prototype.getTimestamp=function(e,t,n){var r=1/n*1e3*t;for(null!==this.lastIndex&&null!==this.lastTimestamp||(this.lastIndex=e,this.lastTimestamp=(new Date).getTime()-r);this.lastIndex-e>4096;)e+=65536;return e===this.lastIndex?this.lastTimestamp:e>this.lastIndex?(this.lastTimestamp+=r*(e-this.lastIndex),this.lastIndex=e,this.lastTimestamp):this.lastTimestamp-r*(this.lastIndex-e)},e}();t.MuseClient=h},3370(e,t,n){"use strict";n.d(t,{h:()=>l});var r=n(8851),i=n(2414),o=n(9149),a=n(251);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,l=null,s=e[e.length-1];return(0,i.m)(s)?(l=e.pop(),e.length>1&&"number"===typeof e[e.length-1]&&(n=e.pop())):"number"===typeof s&&(n=e.pop()),null===l&&1===e.length&&e[0]instanceof r.c?e[0]:(0,o.U)(n)((0,a.c)(e,l))}},3412(e,t,n){"use strict";n.d(t,{h:()=>a});var r=n(6882),i=n(8770),o=n(8297),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return r.C6(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.y.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.y.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i.B7)},3452(e,t,n){"use strict";n.r(t),n.d(t,{ArgumentOutOfRangeError:()=>A.k,AsyncSubject:()=>c.h,BehaviorSubject:()=>s.t,ConnectableObservable:()=>i.G,EMPTY:()=>X.w,EmptyError:()=>P.G,GroupedObservable:()=>o.k,NEVER:()=>de,Notification:()=>N.E,NotificationKind:()=>N.I,ObjectUnsubscribedError:()=>D.P,Observable:()=>r.c,ReplaySubject:()=>u.m,Scheduler:()=>_._,Subject:()=>l.B7,Subscriber:()=>C.v,Subscription:()=>k.y,TimeoutError:()=>F.M,UnsubscriptionError:()=>I.Z,VirtualAction:()=>S,VirtualTimeScheduler:()=>x,animationFrame:()=>w,animationFrameScheduler:()=>y,asap:()=>f.I,asapScheduler:()=>f.$,async:()=>d.b,asyncScheduler:()=>d.E,bindCallback:()=>B,bindNodeCallback:()=>V,combineLatest:()=>Y.zV,concat:()=>$.x,config:()=>je.$,defer:()=>Q.v,empty:()=>X.I,forkJoin:()=>J,from:()=>K.H,fromEvent:()=>ne,fromEventPattern:()=>ie,generate:()=>oe,identity:()=>M.D,iif:()=>le,interval:()=>ue,isObservable:()=>j,merge:()=>fe.h,never:()=>he,noop:()=>T.l,observable:()=>a.s,of:()=>pe.of,onErrorResumeNext:()=>me,pairs:()=>ve,partition:()=>xe,pipe:()=>E.F,queue:()=>h.g,queueScheduler:()=>h.T,race:()=>Se.O4,range:()=>_e,scheduled:()=>Me.c,throwError:()=>Ce.$,timer:()=>Ne.O,using:()=>Ee,zip:()=>Te.yU});var r=n(8851),i=n(2113),o=n(6458),a=n(1638),l=n(8770),s=n(8300),u=n(7091),c=n(3412),f=n(1008),d=n(164),h=n(5738),p=n(6882),m=n(85),v=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return p.C6(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(m.R),g=n(3571),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p.C6(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(g.q),y=new b(v),w=y,x=function(e){function t(t,n){void 0===t&&(t=S),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,function(){return r.frame})||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return p.C6(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(g.q),S=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return p.C6(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(m.R),_=n(2511),k=n(8297),C=n(230),N=n(7251),E=n(3843),T=n(1615),M=n(5973);function j(e){return!!e&&(e instanceof r.c||"function"===typeof e.lift&&"function"===typeof e.subscribe)}var A=n(9854),P=n(9878),D=n(2413),I=n(7167),F=n(4984),R=n(1090),z=n(4593),L=n(8342),O=n(2414);function B(e,t,n){if(t){if(!(0,O.m)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return B(e,n).apply(void 0,r).pipe((0,R.T)(function(e){return(0,L.c)(e)?t.apply(void 0,e):t(e)}))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o,a=this,l={context:a,subject:o,callbackFunc:e,scheduler:n};return new r.c(function(r){if(n){var i={args:t,subscriber:r,params:l};return n.schedule(U,0,i)}if(!o){o=new c.h;try{e.apply(a,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.next(e.length<=1?e[0]:e),o.complete()}]))}catch(s){(0,z.H)(o)?o.error(s):console.warn(s)}}return o.subscribe(r)})}}function U(e){var t=this,n=e.args,r=e.subscriber,i=e.params,o=i.callbackFunc,a=i.context,l=i.scheduler,s=i.subject;if(!s){s=i.subject=new c.h;try{o.apply(a,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(l.schedule(H,0,{value:r,subject:s}))}]))}catch(u){s.error(u)}}this.add(s.subscribe(r))}function H(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function V(e,t,n){if(t){if(!(0,O.m)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return V(e,n).apply(void 0,r).pipe((0,R.T)(function(e){return(0,L.c)(e)?t.apply(void 0,e):t(e)}))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new r.c(function(r){var i=o.context,a=o.subject;if(n)return n.schedule(W,0,{params:o,subscriber:r,context:i});if(!a){a=o.subject=new c.h;try{e.apply(i,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?a.error(n):(a.next(e.length<=1?e[0]:e),a.complete())}]))}catch(l){(0,z.H)(a)?a.error(l):console.warn(l)}}return a.subscribe(r)})}}function W(e){var t=this,n=e.params,r=e.subscriber,i=e.context,o=n.callbackFunc,a=n.args,l=n.scheduler,s=n.subject;if(!s){s=n.subject=new c.h;try{o.apply(i,a.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(l.schedule(G,0,{err:r,subject:s}));else{var i=e.length<=1?e[0]:e;t.add(l.schedule(q,0,{value:i,subject:s}))}}]))}catch(u){this.add(l.schedule(G,0,{err:u,subject:s}))}}this.add(s.subscribe(r))}function q(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function G(e){var t=e.err;e.subject.error(t)}var Y=n(1068),$=n(5296),Q=n(8438),X=n(6471),Z=n(5500),K=n(236);function J(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if((0,L.c)(n))return ee(n,null);if((0,Z.G)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return ee(r.map(function(e){return n[e]}),r)}}if("function"===typeof e[e.length-1]){var i=e.pop();return ee(e=1===e.length&&(0,L.c)(e[0])?e[0]:e,null).pipe((0,R.T)(function(e){return i.apply(void 0,e)}))}return ee(e,null)}function ee(e,t){return new r.c(function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,l=function(l){var s=(0,K.H)(e[l]),u=!1;n.add(s.subscribe({next:function(e){u||(u=!0,a++),i[l]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&u||(a===r&&n.next(t?t.reduce(function(e,t,n){return e[t]=i[n],e},{}):i),n.complete())}}))},s=0;s<r;s++)l(s);else n.complete()})}var te=n(1367);function ne(e,t,n,i){return(0,te.T)(n)&&(i=n,n=void 0),i?ne(e,t,n).pipe((0,R.T)(function(e){return(0,L.c)(e)?i.apply(void 0,e):i(e)})):new r.c(function(r){re(e,t,function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)},r,n)})}function re(e,t,n,r,i){var o;if(function(e){return e&&"function"===typeof e.addEventListener&&"function"===typeof e.removeEventListener}(e)){var a=e;e.addEventListener(t,n,i),o=function(){return a.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"===typeof e.on&&"function"===typeof e.off}(e)){var l=e;e.on(t,n),o=function(){return l.off(t,n)}}else if(function(e){return e&&"function"===typeof e.addListener&&"function"===typeof e.removeListener}(e)){var s=e;e.addListener(t,n),o=function(){return s.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var u=0,c=e.length;u<c;u++)re(e[u],t,n,r,i)}r.add(o)}function ie(e,t,n){return n?ie(e,t).pipe((0,R.T)(function(e){return(0,L.c)(e)?n.apply(void 0,e):n(e)})):new r.c(function(n){var r,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(i)}catch(o){return void n.error(o)}if((0,te.T)(t))return function(){return t(i,r)}})}function oe(e,t,n,i,o){var a,l;if(1==arguments.length){var s=e;l=s.initialState,t=s.condition,n=s.iterate,a=s.resultSelector||M.D,o=s.scheduler}else void 0===i||(0,O.m)(i)?(l=e,a=M.D,o=i):(l=e,a=i);return new r.c(function(e){var r=l;if(o)return o.schedule(ae,0,{subscriber:e,iterate:n,condition:t,resultSelector:a,state:r});for(;;){if(t){var i=void 0;try{i=t(r)}catch(u){return void e.error(u)}if(!i){e.complete();break}}var s=void 0;try{s=a(r)}catch(u){return void e.error(u)}if(e.next(s),e.closed)break;try{r=n(r)}catch(u){return void e.error(u)}}})}function ae(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(o){return void t.error(o)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(o){return void t.error(o)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(o){return void t.error(o)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function le(e,t,n){return void 0===t&&(t=X.w),void 0===n&&(n=X.w),(0,Q.v)(function(){return e()?t:n})}var se=n(6280);function ue(e,t){return void 0===e&&(e=0),void 0===t&&(t=d.b),(!(0,se.k)(e)||e<0)&&(e=0),t&&"function"===typeof t.schedule||(t=d.b),new r.c(function(n){return n.add(t.schedule(ce,e,{subscriber:n,counter:0,period:e})),n})}function ce(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var fe=n(3370),de=new r.c(T.l);function he(){return de}var pe=n(5209);function me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return X.w;var n=e[0],i=e.slice(1);return 1===e.length&&(0,L.c)(n)?me.apply(void 0,n):new r.c(function(e){var t=function(){return e.add(me.apply(void 0,i).subscribe(e))};return(0,K.H)(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})})}function ve(e,t){return t?new r.c(function(n){var r=Object.keys(e),i=new k.y;return i.add(t.schedule(ge,0,{keys:r,index:0,subscriber:n,subscription:i,obj:e})),i}):new r.c(function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()})}function ge(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var a=t[n];r.next([a,o[a]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}var be=n(4002),ye=n(5157),we=n(1820);function xe(e,t,n){return[(0,we.p)(t,n)(new r.c((0,ye.i)(e))),(0,we.p)((0,be.A)(t,n))(new r.c((0,ye.i)(e)))]}var Se=n(4617);function _e(e,t,n){return void 0===e&&(e=0),new r.c(function(r){void 0===t&&(t=e,e=0);var i=0,o=e;if(n)return n.schedule(ke,0,{index:i,count:t,start:e,subscriber:r});for(;;){if(i++>=t){r.complete();break}if(r.next(o++),r.closed)break}})}function ke(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}var Ce=n(8698),Ne=n(8063);function Ee(e,t){return new r.c(function(n){var r,i;try{r=e()}catch(a){return void n.error(a)}try{i=t(r)}catch(a){return void n.error(a)}var o=(i?(0,K.H)(i):X.w).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}})}var Te=n(3013),Me=n(6120),je=n(578)},3571(e,t,n){"use strict";n.d(t,{q:()=>o});var r=n(6882),i=n(2511),o=function(e){function t(n,r){void 0===r&&(r=i._.now);var o=e.call(this,n,function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.C6(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i._)},3617(e,t,n){"use strict";function r(e){setTimeout(function(){throw e},0)}n.d(t,{T:()=>r})},3737(e,t,n){"use strict";function r(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{lJ:()=>i});var i=r()},3754(e,t,n){"use strict";n.d(t,{B:()=>o});var r=n(6882),i=n(230);function o(){return function(e){return e.lift(new a(e))}}var a=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new l(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.C6(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(i.v)},3769(e,t,n){var r=n(8298).fft;e.exports={ifft:function(e){for(var t=[],n=0;n<e.length;n++)t[n]=[e[n][1],e[n][0]];for(var i=r(t),o=[],a=0;a<i.length;a++)o[a]=[i[a][1]/i.length,i[a][0]/i.length];return o}}},3843(e,t,n){"use strict";n.d(t,{F:()=>i,m:()=>o});var r=n(5973);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return 0===e.length?r.D:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}},4002(e,t,n){"use strict";function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,{A:()=>r})},4414(e,t,n){"use strict";e.exports=n(2654)},4593(e,t,n){"use strict";n.d(t,{H:()=>i});var r=n(230);function i(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.v?i:null}return!0}},4617(e,t,n){"use strict";n.d(t,{O4:()=>s});var r=n(6882),i=n(8342),o=n(251),a=n(8535),l=n(6790);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!(0,i.c)(e[0]))return e[0];e=e[0]}return(0,o.c)(e,void 0).lift(new u)}var u=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new c(e))},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.C6(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=(0,l.F)(this,r,void 0,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(t)},t}(a.E)},4710(e,t,n){var r=n(4806),i={};e.exports={fftMag:function(e){var t=e.map(r.magnitude);return t.slice(0,t.length/2)},fftFreq:function(e,t){var n=t/e.length;return e.slice(0,e.length/2).map(function(e,t){return t*n})},exponent:function(e,t){var n=-2*Math.PI*(e/t);return i[t]=i[t]||{},i[t][e]=i[t][e]||[Math.cos(n),Math.sin(n)],i[t][e]}}},4806(e){e.exports={add:function(e,t){return[e[0]+t[0],e[1]+t[1]]},subtract:function(e,t){return[e[0]-t[0],e[1]-t[1]]},multiply:function(e,t){return[e[0]*t[0]-e[1]*t[1],e[0]*t[1]+e[1]*t[0]]},magnitude:function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}}},4907(e,t,n){"use strict";n.d(t,{K:()=>i});var r=n(9149);function i(){return(0,r.U)(1)}},4984(e,t,n){"use strict";n.d(t,{M:()=>r});var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},5157(e,t,n){"use strict";n.d(t,{i:()=>c});var r=n(7557),i=n(3617),o=n(3737),a=n(1638),l=n(8481),s=n(658),u=n(5500),c=function(e){if(e&&"function"===typeof e[a.s])return c=e,function(e){var t=c[a.s]();if("function"!==typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,l.X)(e))return(0,r.v)(e);if((0,s.y)(e))return n=e,function(e){return n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,i.T),e};if(e&&"function"===typeof e[o.lJ])return t=e,function(e){for(var n=t[o.lJ]();;){var r=void 0;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"===typeof n.return&&e.add(function(){n.return&&n.return()}),e};var t,n,c,f=(0,u.G)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+f+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},5209(e,t,n){"use strict";n.d(t,{of:()=>a});var r=n(2414),i=n(251),o=n(5508);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return(0,r.m)(n)?(e.pop(),(0,o.V)(e,n)):(0,i.c)(e)}},5296(e,t,n){"use strict";n.d(t,{x:()=>o});var r=n(5209),i=n(4907);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.K)()(r.of.apply(void 0,e))}},5340(e,t,n){"use strict";e.exports=n(1761)},5344(e,t,n){var r=n(4806),i=n(4710);e.exports=function(e){for(var t=[],n=e.length,o=0;o<n;o++){t[o]=[0,0];for(var a=0;a<n;a++){var l,s=i.exponent(o*a,n);l=Array.isArray(e[a])?r.multiply(e[a],s):r.multiply([e[a],0],s),t[o]=r.add(t[o],l)}}return t}},5484(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function l(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,l)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3452),a=n(3203);t.decodeResponse=function(e){return(new TextDecoder).decode(e.subarray(1,1+e[0]))},t.encodeCommand=function(e){var t=(new TextEncoder).encode("X"+e+"\n");return t[0]=t.length-1,t},t.observableCharacteristic=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,e.startNotifications()];case 1:return n.sent(),t=o.fromEvent(e.service.device,"gattserverdisconnected"),[2,o.fromEvent(e,"characteristicvaluechanged").pipe(a.takeUntil(t),a.map(function(e){return e.target.value}))]}})})}},5500(e,t,n){"use strict";function r(e){return null!==e&&"object"===typeof e}n.d(t,{G:()=>r})},5508(e,t,n){"use strict";n.d(t,{V:()=>o});var r=n(8851),i=n(8297);function o(e,t){return new r.c(function(n){var r=new i.y,o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},5738(e,t,n){"use strict";n.d(t,{g:()=>l,T:()=>a});var r=n(6882),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.C6(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(85).R),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.C6(t,e),t}(n(3571).q),a=new o(i),l=a},5812(e,t,n){"use strict";n.d(t,{ZZ:()=>l,qI:()=>c});var r=n(6882),i=n(1090),o=n(236),a=n(3056);function l(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"===typeof t?function(r){return r.pipe(l(function(n,r){return(0,o.H)(e(n,r)).pipe((0,i.T)(function(e,i){return t(n,e,r,i)}))},n))}:("number"===typeof t&&(n=t),function(t){return t.lift(new s(e,n))})}var s=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.concurrent))},e}(),u=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.C6(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new a.zA(this),n=this.destination;n.add(t);var r=(0,a.tS)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(a.gn),c=l},5973(e,t,n){"use strict";function r(e){return e}n.d(t,{D:()=>r})},6120(e,t,n){"use strict";n.d(t,{c:()=>c});var r=n(8851),i=n(8297),o=n(1638);var a=n(5508),l=n(3737);var s=n(658),u=n(8481);function c(e,t){if(null!=e){if(function(e){return e&&"function"===typeof e[o.s]}(e))return function(e,t){return new r.c(function(n){var r=new i.y;return r.add(t.schedule(function(){var i=e[o.s]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}(e,t);if((0,s.y)(e))return function(e,t){return new r.c(function(n){var r=new i.y;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r})}(e,t);if((0,u.X)(e))return(0,a.V)(e,t);if(function(e){return e&&"function"===typeof e[l.lJ]}(e)||"string"===typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.c(function(n){var r,o=new i.y;return o.add(function(){r&&"function"===typeof r.return&&r.return()}),o.add(t.schedule(function(){r=e[l.lJ](),o.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}}))})),o})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},6255(e,t,n){"use strict";n.d(t,{D:()=>r});var r=function(){return"function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},6280(e,t,n){"use strict";n.d(t,{k:()=>i});var r=n(8342);function i(e){return!(0,r.c)(e)&&e-parseFloat(e)+1>=0}},6458(e,t,n){"use strict";n.d(t,{$:()=>s,k:()=>d});var r=n(6882),i=n(230),o=n(8297),a=n(8851),l=n(8770);function s(e,t,n,r){return function(i){return i.lift(new u(e,t,n,r))}}var u=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),c=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.keySelector=n,a.elementSelector=r,a.durationSelector=i,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return r.C6(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(n){return void this.error(n)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(s){this.error(s)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new l.B7,n.set(t,i);var o=new d(t,i,this);if(this.destination.next(o),this.durationSelector){var a=void 0;try{a=this.durationSelector(new d(t,i))}catch(s){return void this.error(s)}this.add(a.subscribe(new f(t,i,this)))}}i.closed||i.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach(function(t,n){t.error(e)}),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(i.v),f=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return r.C6(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(i.v),d=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return r.C6(t,e),t.prototype._subscribe=function(e){var t=new o.y,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new h(n)),t.add(r.subscribe(e)),t},t}(a.c),h=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r.C6(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.y)},6471(e,t,n){"use strict";n.d(t,{I:()=>o,w:()=>i});var r=n(8851),i=new r.c(function(e){return e.complete()});function o(e){return e?function(e){return new r.c(function(t){return e.schedule(function(){return t.complete()})})}(e):i}},6694(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3203);function i(e){for(var t=[],n=0;n<e.length;n++)n%3===0?t.push(e[n]<<4|e[n+1]>>4):(t.push((15&e[n])<<8|e[n+1]),n++);return t}function o(e){for(var t=[],n=0;n<e.length;n+=3)t.push(e[n]<<16|e[n+1]<<8|e[n+2]);return t}function a(e,t){function n(n){return{x:t*e.getInt16(n),y:t*e.getInt16(n+2),z:t*e.getInt16(n+4)}}return{sequenceId:e.getUint16(0),samples:[n(2),n(8),n(14)]}}t.parseControl=function(e){return e.pipe(r.concatMap(function(e){return e.split("")}),r.scan(function(e,t){return e.indexOf("}")>=0?t:e+t},""),r.filter(function(e){return e.indexOf("}")>=0}),r.map(function(e){return JSON.parse(e)}))},t.decodeUnsigned12BitData=i,t.decodeUnsigned24BitData=o,t.decodeEEGSamples=function(e){return i(e).map(function(e){return.48828125*(e-2048)})},t.decodePPGSamples=function(e){return o(e)},t.parseTelemetry=function(e){return{sequenceId:e.getUint16(0),batteryLevel:e.getUint16(2)/512,fuelGaugeVoltage:2.2*e.getUint16(4),temperature:e.getUint16(8)}},t.parseAccelerometer=function(e){return a(e,610352e-10)},t.parseGyroscope=function(e){return a(e,.0074768)}},6737(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3452),i=n(3203),o=n(3292);t.zipSamples=function(e){var t=[],n=null;return e.pipe(i.mergeMap(function(e){if(e.timestamp!==n&&(n=e.timestamp,t.length)){var i=r.from([t.slice()]);return t.splice(0,t.length,e),i}return t.push(e),r.from([])}),i.concat(r.from([t])),i.mergeMap(function(e){var t=e[0].samples.map(function(t,n){for(var r=[NaN,NaN,NaN,NaN,NaN],i=0,a=e;i<a.length;i++){var l=a[i];r[l.electrode]=l.samples[n]}return{data:r,index:e[0].index,timestamp:e[0].timestamp+1e3*n/o.EEG_FREQUENCY}});return r.from(t)}))}},6790(e,t,n){"use strict";n.d(t,{F:()=>l});var r=n(6882),i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.C6(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(230).v),o=n(5157),a=n(8851);function l(e,t,n,r,l){if(void 0===l&&(l=new i(e,n,r)),!l.closed)return t instanceof a.c?t.subscribe(l):(0,o.i)(t)(l)}},6882(e,t,n){"use strict";n.d(t,{C6:()=>i});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},7091(e,t,n){"use strict";n.d(t,{m:()=>c});var r=n(6882),i=n(8770),o=n(5738),a=n(8297),l=n(7389),s=n(2413),u=n(439),c=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.C6(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new f(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new s.P;if(this.isStopped||this.hasError?t=a.y.EMPTY:(this.observers.push(e),t=new u.Y(this,e)),i&&e.add(e=new l.YZ(e,i)),n)for(var c=0;c<o&&!e.closed;c++)e.next(r[c]);else for(c=0;c<o&&!e.closed;c++)e.next(r[c].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.g).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i.B7),f=function(){return function(e,t){this.time=e,this.value=t}}()},7119(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8345)},7167(e,t,n){"use strict";n.d(t,{Z:()=>r});var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},7223(e,t,n){e.exports={fft:n(8298).fft,ifft:n(3769).ifft,fftInPlace:n(8298).fftInPlace,util:n(4710),dft:n(5344),idft:n(8103)}},7251(e,t,n){"use strict";n.d(t,{E:()=>l,I:()=>r});var r,i=n(6471),o=n(5209),a=n(8698);r||(r={});var l=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"===typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return(0,a.$)(this.error);case"C":return(0,i.I)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return"undefined"!==typeof t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},7389(e,t,n){"use strict";n.d(t,{QE:()=>a,YZ:()=>s});var r=n(6882),i=n(230),o=n(7251);function a(e,t){return void 0===t&&(t=0),function(n){return n.lift(new l(e,t))}}var l=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.scheduler,this.delay))},e}(),s=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return r.C6(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new u(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o.E.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o.E.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(o.E.createComplete()),this.unsubscribe()},t}(i.v),u=function(){return function(e,t){this.notification=e,this.destination=t}}()},7557(e,t,n){"use strict";n.d(t,{v:()=>r});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},8063(e,t,n){"use strict";n.d(t,{O:()=>l});var r=n(8851),i=n(164),o=n(6280),a=n(2414);function l(e,t,n){void 0===e&&(e=0);var l=-1;return(0,o.k)(t)?l=Number(t)<1?1:Number(t):(0,a.m)(t)&&(n=t),(0,a.m)(n)||(n=i.b),new r.c(function(t){var r=(0,o.k)(e)?e:+e-n.now();return n.schedule(s,r,{index:0,period:l,subscriber:t})})}function s(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},8103(e,t,n){var r=n(5344);e.exports=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=[e[n][1],e[n][0]];for(var i=r(t),o=[],a=0;a<i.length;a++)o[a]=[i[a][1]/i.length,i[a][0]/i.length];return o}},8297(e,t,n){"use strict";n.d(t,{y:()=>l});var r=n(8342),i=n(5500),o=n(1367),a=n(7167),l=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,l=n._parentOrParents,u=n._ctorUnsubscribe,c=n._unsubscribe,f=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,l instanceof e)l.remove(this);else if(null!==l)for(var d=0;d<l.length;++d){l[d].remove(this)}if((0,o.T)(c)){u&&(this._unsubscribe=void 0);try{c.call(this)}catch(m){t=m instanceof a.Z?s(m.errors):[m]}}if((0,r.c)(f)){d=-1;for(var h=f.length;++d<h;){var p=f[d];if((0,i.G)(p))try{p.unsubscribe()}catch(m){t=t||[],m instanceof a.Z?t=t.concat(s(m.errors)):t.push(m)}}}if(t)throw new a.Z(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!==typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function s(e){return e.reduce(function(e,t){return e.concat(t instanceof a.Z?t.errors:t)},[])}},8298(e,t,n){var r=n(4806),i=n(4710),o=n(8591);e.exports={fft:function e(t){var n=[],o=t.length;if(1==o)return Array.isArray(t[0])?[[t[0][0],t[0][1]]]:[[t[0],0]];for(var a=e(t.filter(function(e,t){return t%2==0})),l=e(t.filter(function(e,t){return t%2==1})),s=0;s<o/2;s++){var u=a[s],c=r.multiply(i.exponent(s,o),l[s]);n[s]=r.add(u,c),n[s+o/2]=r.subtract(u,c)}return n},fftInPlace:function(e){for(var t=e.length,n=o.countTrailingZeros(t),a=0;a<t;a++){var l=o.reverse(a)>>>o.INT_BITS-n;if(l>a){var s=[e[a],0];e[a]=e[l],e[l]=s}else e[l]=[e[l],0]}for(var u=2;u<=t;u+=u)for(var c=0;c<u/2;c++)for(var f=i.exponent(c,u),d=0;d<t/u;d++){var h=r.multiply(f,e[d*u+c+u/2]);e[d*u+c+u/2]=r.subtract(e[d*u+c],h),e[d*u+c]=r.add(e[d*u+c],h)}}}},8300(e,t,n){"use strict";n.d(t,{t:()=>a});var r=n(6882),i=n(8770),o=n(2413),a=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r.C6(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.P;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.B7)},8342(e,t,n){"use strict";n.d(t,{c:()=>r});var r=function(){return Array.isArray||function(e){return e&&"number"===typeof e.length}}()},8345(e,t,n){"use strict";var r=n(9950),i=n(5340);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function s(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,b);v[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,b);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,b);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var R,z=Object.assign;function L(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var O=!1;function B(e,t){if(!e||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(1!==a||1!==l)do{if(a--,0>--l||i[a]!==o[l]){var s="\n"+i[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=a&&0<=l);break}}}finally{O=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function U(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case C:return"Profiler";case k:return"StrictMode";case M:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function K(e,t){Z(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,ke=null;function Ce(e){if(e=yi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Se(e.stateNode,e.type,t))}}function Ne(e){_e?ke?ke.push(e):ke=[e]:_e=e}function Ee(){if(_e){var e=_e,t=ke;if(ke=_e=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Me(){}var je=!1;function Ae(e,t,n){if(je)return e(t,n);je=!0;try{return Te(e,t,n)}finally{je=!1,(null!==_e||null!==ke)&&(Me(),Ee())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(c)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){De=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ce){De=!1}function Fe(e,t,n,r,i,o,a,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Re=!1,ze=null,Le=!1,Oe=null,Be={onError:function(e){Re=!0,ze=e}};function Ue(e,t,n,r,i,o,a,l,s){Re=!1,ze=null,Fe.apply(Be,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=a;break}if(s===r){l=!0,r=i,n=a;break}s=s.sibling}if(!l){for(s=a.child;s;){if(s===n){l=!0,n=a,r=i;break}if(s===r){l=!0,r=a,n=i;break}s=s.sibling}if(!l)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ze=i.unstable_now,Ke=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/st|0)|0},lt=Math.log,st=Math.LN2;var ut=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var l=a&~i;0!==l?r=ft(l):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,_t,kt,Ct,Nt=!1,Et=[],Tt=null,Mt=null,jt=null,At=new Map,Pt=new Map,Dt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Rt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zt(e){var t=bi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Ct(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ot(e,t,n){Lt(e)&&n.delete(t)}function Bt(){Nt=!1,null!==Tt&&Lt(Tt)&&(Tt=null),null!==Mt&&Lt(Mt)&&(Mt=null),null!==jt&&Lt(jt)&&(jt=null),At.forEach(Ot),Pt.forEach(Ot)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ht(e){function t(t){return Ut(t,e)}if(0<Et.length){Ut(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==Mt&&Ut(Mt,e),null!==jt&&Ut(jt,e),At.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)zt(n),null===n.blockedOn&&Dt.shift()}var Vt=w.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var i=yt,o=Vt.transition;Vt.transition=null;try{yt=1,Yt(e,t,n,r)}finally{yt=i,Vt.transition=o}}function Gt(e,t,n,r){var i=yt,o=Vt.transition;Vt.transition=null;try{yt=4,Yt(e,t,n,r)}finally{yt=i,Vt.transition=o}}function Yt(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,$t,n),Ft(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Rt(Tt,e,t,n,r,i),!0;case"dragenter":return Mt=Rt(Mt,e,t,n,r,i),!0;case"mouseover":return jt=Rt(jt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Rt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Rt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<It.indexOf(e)){for(;null!==i;){var o=yi(i);if(null!==o&&xt(o),null===(o=Qt(e,t,n,r))&&Wr(e,t,r,$t,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var $t=null;function Qt(e,t,n,r){if($t=null,null!==(e=bi(e=xe(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Kt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Kt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,sn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),fn=z({},un,{view:0,detail:0}),dn=on(fn),hn=z({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,ln=e.screenY-sn.screenY):ln=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),pn=on(hn),mn=on(z({},hn,{dataTransfer:0})),vn=on(z({},fn,{relatedTarget:0})),gn=on(z({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=z({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=on(bn),wn=on(z({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Cn(){return kn}var Nn=z({},fn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=on(Nn),Tn=on(z({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=on(z({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),jn=on(z({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=z({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(An),Dn=[9,13,27,32],In=c&&"CompositionEvent"in window,Fn=null;c&&"documentMode"in document&&(Fn=document.documentMode);var Rn=c&&"TextEvent"in window&&!Fn,zn=c&&(!In||Fn&&8<Fn&&11>=Fn),Ln=String.fromCharCode(32),On=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function qn(e,t,n,r){Ne(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Yn=null;function $n(e){Lr(e,0)}function Qn(e){if(Y(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(c){var Kn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Kn=Jn}else Kn=!1;Zn=Kn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Yn=Gn=null)}function nr(e){if("value"===e.propertyName&&Qn(Yn)){var t=[];qn(t,Yn,e,xe(e)),Ae($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Yn)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,br=null,yr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==vr||vr!==$(r)||("selectionStart"in(r=vr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&sr(br,r)||(br=r,0<(r=Gr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},_r={},kr={};function Cr(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return _r[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Nr=Cr("animationend"),Er=Cr("animationiteration"),Tr=Cr("animationstart"),Mr=Cr("transitionend"),jr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){jr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Ir=Ar[Dr];Pr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Pr(Nr,"onAnimationEnd"),Pr(Er,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Mr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,l,s,u){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(o(198));var c=ze;Re=!1,ze=null,Le||(Le=!0,Oe=c)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==o&&i.isPropagationStopped())break e;zr(i,l,u),o=s}else for(a=0;a<r.length;a++){if(s=(l=r[a]).instance,u=l.currentTarget,l=l.listener,s!==o&&i.isPropagationStopped())break e;zr(i,l,u),o=s}}}if(Le)throw e=Oe,Le=!1,Oe=null,e}function Or(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Ur]){e[Ur]=!0,a.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Xt(t)){case 1:var i=qt;break;case 4:i=Gt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===i||8===l.nodeType&&l.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==l;){if(null===(a=bi(l)))return;if(5===(s=a.tag)||6===s){r=o=a;continue e}l=l.parentNode}}r=r.return}Ae(function(){var r=o,i=xe(n),a=[];e:{var l=jr.get(e);if(void 0!==l){var s=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=En;break;case"focusin":u="focus",s=vn;break;case"focusout":u="blur",s=vn;break;case"beforeblur":case"afterblur":s=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Mn;break;case Nr:case Er:case Tr:s=gn;break;case Mr:s=jn;break;case"scroll":s=dn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==l?l+"Capture":null:l;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==d&&(null!=(m=Pe(p,d))&&c.push(qr(p,m,h)))),f)break;p=p.return}0<c.length&&(l=new s(l,u,null,n,i),a.push({event:l,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!bi(u)&&!u[pi])&&(s||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(u=(u=n.relatedTarget||n.toElement)?bi(u):null)&&(u!==(f=He(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=r),s!==u)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,m="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?l:wi(s),h=null==u?l:wi(u),(l=new c(m,p+"leave",s,n,i)).target=f,l.relatedTarget=h,m=null,bi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=h,c.relatedTarget=f,m=c),f=m,s&&u)e:{for(d=u,p=0,h=c=s;h;h=Yr(h))p++;for(h=0,m=d;m;m=Yr(m))h++;for(;0<p-h;)c=Yr(c),p--;for(;0<h-p;)d=Yr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Yr(c),d=Yr(d)}c=null}else c=null;null!==s&&$r(a,l,s,c,!1),null!==u&&null!==f&&$r(a,f,u,c,!0)}if("select"===(s=(l=r?wi(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var v=Xn;else if(Wn(l))if(Zn)v=ar;else{v=ir;var g=rr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(v=or);switch(v&&(v=v(e,r))?qn(a,v,n,i):(g&&g(e,l,r),"focusout"===e&&(g=l._wrapperState)&&g.controlled&&"number"===l.type&&ee(l,"number",l.value)),g=r?wi(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,br=null);break;case"focusout":br=gr=vr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var b;if(In)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Hn?Bn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(zn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Hn&&(b=en()):(Kt="value"in(Zt=i)?Zt.value:Zt.textContent,Hn=!0)),0<(g=Gr(r,y)).length&&(y=new wn(y,e,null,n,i),a.push({event:y,listeners:g}),b?y.data=b:null!==(b=Un(n))&&(y.data=b))),(b=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(On=!0,Ln);case"textInput":return(e=t.data)===Ln&&On?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!In&&Bn(e,t)?(e=en(),Jt=Kt=Zt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=b))}Lr(a,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(qr(e,o,i)),null!=(o=Pe(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==u&&(l=u,i?null!=(s=Pe(n,o))&&a.unshift(qr(n,s,l)):i||null!=(s=Pe(n,o))&&a.push(qr(n,s,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Kr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(li)}:ri;function li(e){setTimeout(function(){throw e})}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,mi="__reactEvents$"+fi,vi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function bi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[hi]||null}var Si=[],_i=-1;function ki(e){return{current:e}}function Ci(e){0>_i||(e.current=Si[_i],Si[_i]=null,_i--)}function Ni(e,t){_i++,Si[_i]=e.current,e.current=t}var Ei={},Ti=ki(Ei),Mi=ki(!1),ji=Ei;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ci(Mi),Ci(Ti)}function Ii(e,t,n){if(Ti.current!==Ei)throw Error(o(168));Ni(Ti,t),Ni(Mi,n)}function Fi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return z({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,ji=Ti.current,Ni(Ti,e),Ni(Mi,Mi.current),!0}function zi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Fi(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Ci(Mi),Ci(Ti),Ni(Ti,e)):Ci(Mi),Ni(Mi,n)}var Li=null,Oi=!1,Bi=!1;function Ui(e){null===Li?Li=[e]:Li.push(e)}function Hi(){if(!Bi&&null!==Li){Bi=!0;var e=0,t=yt;try{var n=Li;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Oi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),Ye(Je,Hi),i}finally{yt=t,Bi=!1}}return null}var Vi=[],Wi=0,qi=null,Gi=0,Yi=[],$i=0,Qi=null,Xi=1,Zi="";function Ki(e,t){Vi[Wi++]=Gi,Vi[Wi++]=qi,qi=e,Gi=t}function Ji(e,t,n){Yi[$i++]=Xi,Yi[$i++]=Zi,Yi[$i++]=Qi,Qi=e;var r=Xi;e=Zi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,Zi=o+e}else Xi=1<<o|n<<i|r,Zi=e}function eo(e){null!==e.return&&(Ki(e,1),Ji(e,1,0))}function to(e){for(;e===qi;)qi=Vi[--Wi],Vi[Wi]=null,Gi=Vi[--Wi],Vi[Wi]=null;for(;e===Qi;)Qi=Yi[--$i],Yi[$i]=null,Zi=Yi[--$i],Yi[$i]=null,Xi=Yi[--$i],Yi[$i]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Au(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function lo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Au(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function so(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!lo(e,t)){if(so(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&lo(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(so(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(so(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ui(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var vo=w.ReactCurrentBatchConfig;function go(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var bo=ki(null),yo=null,wo=null,xo=null;function So(){xo=wo=yo=null}function _o(e){var t=bo.current;Ci(bo),e._currentValue=t}function ko(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){yo=e,xo=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wl=!0),e.firstContext=null)}function No(e){var t=e._currentValue;if(xo!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===yo)throw Error(o(308));wo=e,yo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Eo=null;function To(e){null===Eo?Eo=[e]:Eo.push(e)}function Mo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,To(t)):(n.next=i.next,i.next=n),t.interleaved=n,jo(e,r)}function jo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ao=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Io(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ts)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,jo(e,n)}return null===(i=r.interleaved)?(t.next=t,To(r)):(t.next=i.next,i.next=t),r.interleaved=t,jo(e,n)}function Ro(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lo(e,t,n,r){var i=e.updateQueue;Ao=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var s=l,u=s.next;s.next=null,null===a?o=u:a.next=u,a=s;var c=e.alternate;null!==c&&((l=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===l?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=s))}if(null!==o){var f=i.baseState;for(a=0,c=u=s=null,l=o;;){var d=l.lane,h=l.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,m=l;switch(d=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(h,f,d):p)||void 0===d)break e;f=z({},f,d);break e;case 2:Ao=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[l]:d.push(l))}else h={eventTime:h,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===c?(u=c=h,s=f):c=c.next=h,a|=d;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(d=l).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(s=f),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Rs|=a,e.lanes=a,e.memoizedState=f}}function Oo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function Uo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ho={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Io(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Fo(e,o,i))&&(nu(t,e,i,r),Ro(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Io(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Fo(e,o,i))&&(nu(t,e,i,r),Ro(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Io(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fo(e,i,r))&&(nu(t,e,r,n),Ro(t,e,r))}};function Vo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,o))}function Wo(e,t,n){var r=!1,i=Ei,o=t.contextType;return"object"===typeof o&&null!==o?o=No(o):(i=Pi(t)?ji:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ei),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ho,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ho.enqueueReplaceState(t,t.state,null)}function Go(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bo,Po(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=No(o):(o=Pi(t)?ji:Ti.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Uo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ho.enqueueReplaceState(i,i.state,null),Lo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Bo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function $o(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=zu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Yo(e,t,n),r.return=e,r):((r=Iu(n.type,n.key,n.props,null,e.mode,r)).ref=Yo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Fu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Iu(t.type,t.key,t.props,null,e.mode,n)).ref=Yo(e,null,t),n.return=e,n;case S:return(t=Lu(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Fu(t,e.mode,n,null)).return=e,t;$o(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case P:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||F(n))return null!==i?null:f(e,t,n,r,null);$o(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||F(r))return f(t,e=e.get(n)||null,r,i,null);$o(t,r)}return null}function m(i,o,l,s){for(var u=null,c=null,f=o,m=o=0,v=null;null!==f&&m<l.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=h(i,f,l[m],s);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,m),null===c?u=g:c.sibling=g,c=g,f=v}if(m===l.length)return n(i,f),io&&Ki(i,m),u;if(null===f){for(;m<l.length;m++)null!==(f=d(i,l[m],s))&&(o=a(f,o,m),null===c?u=f:c.sibling=f,c=f);return io&&Ki(i,m),u}for(f=r(i,f);m<l.length;m++)null!==(v=p(f,i,m,l[m],s))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),o=a(v,o,m),null===c?u=v:c.sibling=v,c=v);return e&&f.forEach(function(e){return t(i,e)}),io&&Ki(i,m),u}function v(i,l,s,u){var c=F(s);if("function"!==typeof c)throw Error(o(150));if(null==(s=c.call(s)))throw Error(o(151));for(var f=c=null,m=l,v=l=0,g=null,b=s.next();null!==m&&!b.done;v++,b=s.next()){m.index>v?(g=m,m=null):g=m.sibling;var y=h(i,m,b.value,u);if(null===y){null===m&&(m=g);break}e&&m&&null===y.alternate&&t(i,m),l=a(y,l,v),null===f?c=y:f.sibling=y,f=y,m=g}if(b.done)return n(i,m),io&&Ki(i,v),c;if(null===m){for(;!b.done;v++,b=s.next())null!==(b=d(i,b.value,u))&&(l=a(b,l,v),null===f?c=b:f.sibling=b,f=b);return io&&Ki(i,v),c}for(m=r(i,m);!b.done;v++,b=s.next())null!==(b=p(m,i,v,b.value,u))&&(e&&null!==b.alternate&&m.delete(null===b.key?v:b.key),l=a(b,l,v),null===f?c=b:f.sibling=b,f=b);return e&&m.forEach(function(e){return t(i,e)}),io&&Ki(i,v),c}return function e(r,o,a,s){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===_){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&Qo(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Yo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===_?((o=Fu(a.props.children,r.mode,s,a.key)).return=r,r=o):((s=Iu(a.type,a.key,a.props,null,r.mode,s)).ref=Yo(r,o,a),s.return=r,r=s)}return l(r);case S:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Lu(a,r.mode,s)).return=r,r=o}return l(r);case P:return e(r,o,(c=a._init)(a._payload),s)}if(te(a))return m(r,o,a,s);if(F(a))return v(r,o,a,s);$o(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=zu(a,r.mode,s)).return=r,r=o),l(r)):n(r,o)}}var Zo=Xo(!0),Ko=Xo(!1),Jo={},ea=ki(Jo),ta=ki(Jo),na=ki(Jo);function ra(e){if(e===Jo)throw Error(o(174));return e}function ia(e,t){switch(Ni(na,t),Ni(ta,e),Ni(ea,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(ea),Ni(ea,t)}function oa(){Ci(ea),Ci(ta),Ci(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=se(t,e.type);t!==n&&(Ni(ta,e),Ni(ea,n))}function la(e){ta.current===e&&(Ci(ea),Ci(ta))}var sa=ki(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function fa(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var da=w.ReactCurrentDispatcher,ha=w.ReactCurrentBatchConfig,pa=0,ma=null,va=null,ga=null,ba=!1,ya=!1,wa=0,xa=0;function Sa(){throw Error(o(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,a){if(pa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ll:sl,e=n(r,i),ya){a=0;do{if(ya=!1,wa=0,25<=a)throw Error(o(301));a+=1,ga=va=null,t.updateQueue=null,da.current=ul,e=n(r,i)}while(ya)}if(da.current=al,t=null!==va&&null!==va.next,pa=0,ga=va=ma=null,ba=!1,t)throw Error(o(300));return e}function Ca(){var e=0!==wa;return wa=0,e}function Na(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?ma.memoizedState=ga=e:ga=ga.next=e,ga}function Ea(){if(null===va){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===ga?ma.memoizedState:ga.next;if(null!==t)ga=t,va=e;else{if(null===e)throw Error(o(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ga?ma.memoizedState=ga=e:ga=ga.next=e}return ga}function Ta(e,t){return"function"===typeof t?t(e):t}function Ma(e){var t=Ea(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var l=i.next;i.next=a.next,a.next=l}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=l=null,u=null,c=a;do{var f=c.lane;if((pa&f)===f)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(s=u=d,l=r):u=u.next=d,ma.lanes|=f,Rs|=f}c=c.next}while(null!==c&&c!==a);null===u?l=r:u.next=s,lr(r,t.memoizedState)||(wl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,Rs|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ja(e){var t=Ea(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var l=i=i.next;do{a=e(a,l.action),l=l.next}while(l!==i);lr(a,t.memoizedState)||(wl=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Pa(e,t){var n=ma,r=Ea(),i=t(),a=!lr(r.memoizedState,i);if(a&&(r.memoizedState=i,wl=!0),r=r.queue,Wa(Fa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Oa(9,Ia.bind(null,n,r,i,t),void 0,null),null===Ms)throw Error(o(349));0!==(30&pa)||Da(n,t,i)}return i}function Da(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ia(e,t,n,r){t.value=n,t.getSnapshot=r,Ra(t)&&za(e)}function Fa(e,t,n){return n(function(){Ra(t)&&za(e)})}function Ra(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function za(e){var t=jo(e,1);null!==t&&nu(t,e,1,-1)}function La(e){var t=Na();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=nl.bind(null,ma,e),[t.memoizedState,e]}function Oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ba(){return Ea().memoizedState}function Ua(e,t,n,r){var i=Na();ma.flags|=e,i.memoizedState=Oa(1|t,n,void 0,void 0===r?null:r)}function Ha(e,t,n,r){var i=Ea();r=void 0===r?null:r;var o=void 0;if(null!==va){var a=va.memoizedState;if(o=a.destroy,null!==r&&_a(r,a.deps))return void(i.memoizedState=Oa(t,n,o,r))}ma.flags|=e,i.memoizedState=Oa(1|t,n,o,r)}function Va(e,t){return Ua(8390656,8,e,t)}function Wa(e,t){return Ha(2048,8,e,t)}function qa(e,t){return Ha(4,2,e,t)}function Ga(e,t){return Ha(4,4,e,t)}function Ya(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $a(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ha(4,4,Ya.bind(null,t,e),n)}function Qa(){}function Xa(e,t){var n=Ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Za(e,t){var n=Ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ka(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,wl=!0),e.memoizedState=n):(lr(n,t)||(n=mt(),ma.lanes|=n,Rs|=n,e.baseState=!0),t)}function Ja(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{yt=n,ha.transition=r}}function el(){return Ea().memoizedState}function tl(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rl(e))il(t,n);else if(null!==(n=Mo(e,t,n,r))){nu(n,e,r,eu()),ol(n,t,r)}}function nl(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rl(e))il(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,lr(l,a)){var s=t.interleaved;return null===s?(i.next=i,To(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Mo(e,t,i,r))&&(nu(n,e,r,i=eu()),ol(n,t,r))}}function rl(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function il(e,t){ya=ba=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ol(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var al={readContext:No,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ll={readContext:No,useCallback:function(e,t){return Na().memoizedState=[e,void 0===t?null:t],e},useContext:No,useEffect:Va,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4194308,4,Ya.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var n=Na();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Na();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tl.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Na().memoizedState=e},useState:La,useDebugValue:Qa,useDeferredValue:function(e){return Na().memoizedState=e},useTransition:function(){var e=La(!1),t=e[0];return e=Ja.bind(null,e[1]),Na().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=Na();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ms)throw Error(o(349));0!==(30&pa)||Da(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Va(Fa.bind(null,r,a,e),[e]),r.flags|=2048,Oa(9,Ia.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Na(),t=Ms.identifierPrefix;if(io){var n=Zi;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sl={readContext:No,useCallback:Xa,useContext:No,useEffect:Wa,useImperativeHandle:$a,useInsertionEffect:qa,useLayoutEffect:Ga,useMemo:Za,useReducer:Ma,useRef:Ba,useState:function(){return Ma(Ta)},useDebugValue:Qa,useDeferredValue:function(e){return Ka(Ea(),va.memoizedState,e)},useTransition:function(){return[Ma(Ta)[0],Ea().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Pa,useId:el,unstable_isNewReconciler:!1},ul={readContext:No,useCallback:Xa,useContext:No,useEffect:Wa,useImperativeHandle:$a,useInsertionEffect:qa,useLayoutEffect:Ga,useMemo:Za,useReducer:ja,useRef:Ba,useState:function(){return ja(Ta)},useDebugValue:Qa,useDeferredValue:function(e){var t=Ea();return null===va?t.memoizedState=e:Ka(t,va.memoizedState,e)},useTransition:function(){return[ja(Ta)[0],Ea().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Pa,useId:el,unstable_isNewReconciler:!1};function cl(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hl="function"===typeof WeakMap?WeakMap:Map;function pl(e,t,n){(n=Io(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,qs=r),dl(0,t)},n}function ml(e,t,n){(n=Io(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){dl(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){dl(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function gl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bl(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Io(-1,1)).tag=2,Fo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yl=w.ReactCurrentOwner,wl=!1;function xl(e,t,n,r){t.child=null===e?Ko(t,null,n,r):Zo(t,e.child,n,r)}function Sl(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=ka(e,t,n,r,o,i),n=Ca(),null===e||wl?(io&&n&&eo(t),t.flags|=1,xl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wl(e,t,i))}function _l(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Iu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,kl(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(a,r)&&e.ref===t.ref)return Wl(e,t,i)}return t.flags|=1,(e=Du(o,r)).ref=t.ref,e.return=t,t.child=e}function kl(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(sr(o,r)&&e.ref===t.ref){if(wl=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Wl(e,t,i);0!==(131072&e.flags)&&(wl=!0)}}return El(e,t,n,r,i)}function Cl(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ni(Ds,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ni(Ds,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ni(Ds,Ps),Ps|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ni(Ds,Ps),Ps|=r;return xl(e,t,i,n),t.child}function Nl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function El(e,t,n,r,i){var o=Pi(n)?ji:Ti.current;return o=Ai(t,o),Co(t,i),n=ka(e,t,n,r,o,i),r=Ca(),null===e||wl?(io&&r&&eo(t),t.flags|=1,xl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wl(e,t,i))}function Tl(e,t,n,r,i){if(Pi(n)){var o=!0;Ri(t)}else o=!1;if(Co(t,i),null===t.stateNode)Vl(e,t),Wo(t,n,r),Go(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=No(u):u=Ai(t,u=Pi(n)?ji:Ti.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(l!==r||s!==u)&&qo(t,a,r,u),Ao=!1;var d=t.memoizedState;a.state=d,Lo(t,r,a,i),s=t.memoizedState,l!==r||d!==s||Mi.current||Ao?("function"===typeof c&&(Uo(t,n,c,r),s=t.memoizedState),(l=Ao||Vo(t,n,l,r,d,s,u))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=u,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Do(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:go(t.type,l),a.props=u,f=t.pendingProps,d=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=No(s):s=Ai(t,s=Pi(n)?ji:Ti.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(l!==f||d!==s)&&qo(t,a,r,s),Ao=!1,d=t.memoizedState,a.state=d,Lo(t,r,a,i);var p=t.memoizedState;l!==f||d!==p||Mi.current||Ao?("function"===typeof h&&(Uo(t,n,h,r),p=t.memoizedState),(u=Ao||Vo(t,n,u,r,d,p,s)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,r=u):("function"!==typeof a.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ml(e,t,n,r,o,i)}function Ml(e,t,n,r,i,o){Nl(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&zi(t,n,!1),Wl(e,t,o);r=t.stateNode,yl.current=t;var l=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Zo(t,e.child,null,o),t.child=Zo(t,null,l,o)):xl(e,t,l,o),t.memoizedState=r.state,i&&zi(t,n,!0),t.child}function jl(e){var t=e.stateNode;t.pendingContext?Ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(0,t.context,!1),ia(e,t.containerInfo)}function Al(e,t,n,r,i){return po(),mo(i),t.flags|=256,xl(e,t,n,r),t.child}var Pl,Dl,Il,Fl={dehydrated:null,treeContext:null,retryLane:0};function Rl(e){return{baseLanes:e,cachePool:null,transitions:null}}function zl(e,t,n){var r,i=t.pendingProps,a=sa.current,l=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ni(sa,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,l?(i=t.mode,l=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==l?(l.childLanes=0,l.pendingProps=s):l=Ru(s,i,0,null),e=Fu(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Rl(n),t.memoizedState=Fl,e):Ll(t,s));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,l){if(n)return 256&t.flags?(t.flags&=-257,Ol(e,t,l,r=fl(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ru({mode:"visible",children:r.children},i,0,null),(a=Fu(a,i,l,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Zo(t,e.child,null,l),t.child.memoizedState=Rl(l),t.memoizedState=Fl,a);if(0===(1&t.mode))return Ol(e,t,l,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Ol(e,t,l,r=fl(a=Error(o(419)),r,void 0))}if(s=0!==(l&e.childLanes),wl||s){if(null!==(r=Ms)){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|l))?0:i)&&i!==a.retryLane&&(a.retryLane=i,jo(e,i),nu(r,e,i,-1))}return mu(),Ol(e,t,l,r=fl(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Eu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Yi[$i++]=Xi,Yi[$i++]=Zi,Yi[$i++]=Qi,Xi=e.id,Zi=e.overflow,Qi=t),t=Ll(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,a,n);if(l){l=i.fallback,s=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Du(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?l=Du(r,l):(l=Fu(l,s,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,s=null===(s=e.child.memoizedState)?Rl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=Fl,i}return e=(l=e.child).sibling,i=Du(l,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ll(e,t){return(t=Ru({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ol(e,t,n,r){return null!==r&&mo(r),Zo(t,e.child,null,n),(e=Ll(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ko(e.return,t,n)}function Ul(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Hl(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xl(e,t,r.children,n),0!==(2&(r=sa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bl(e,n,t);else if(19===e.tag)Bl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ni(sa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ul(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ul(t,!0,n,null,o);break;case"together":Ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ql(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yl(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gl(t),null;case 1:case 17:return Pi(t.type)&&Di(),Gl(t),null;case 3:return r=t.stateNode,oa(),Ci(Mi),Ci(Ti),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Gl(t),null;case 5:la(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Dl(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gl(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(i=0;i<Fr.length;i++)Or(Fr[i],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":X(r,a),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Or("invalid",r);break;case"textarea":ie(r,a),Or("invalid",r)}for(var s in be(n,a),i=null,a)if(a.hasOwnProperty(s)){var u=a[s];"children"===s?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Kr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Kr(r.textContent,u,e),i=["children",""+u]):l.hasOwnProperty(s)&&null!=u&&"onScroll"===s&&Or("scroll",r)}switch(n){case"input":G(r),J(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,Pl(e,t),t.stateNode=e;e:{switch(s=ye(n,r),n){case"dialog":Or("cancel",e),Or("close",e),i=r;break;case"iframe":case"object":case"embed":Or("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fr.length;i++)Or(Fr[i],e);i=r;break;case"source":Or("error",e),i=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),i=r;break;case"details":Or("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),Or("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=z({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Or("invalid",e)}for(a in be(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ve(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Or("scroll",e):null!=c&&y(e,a,c,s))}switch(n){case"input":G(e),J(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gl(t),null;case 6:if(e&&null!=t.stateNode)Il(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Kr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Gl(t),null;case 13:if(Ci(sa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gl(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&sa.current)?0===Is&&(Is=3):mu())),null!==t.updateQueue&&(t.flags|=4),Gl(t),null);case 4:return oa(),null===e&&Hr(t.stateNode.containerInfo),Gl(t),null;case 10:return _o(t.type._context),Gl(t),null;case 19:if(Ci(sa),null===(a=t.memoizedState))return Gl(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)ql(a,!1);else{if(0!==Is||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=ua(e))){for(t.flags|=128,ql(a,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ni(sa,1&sa.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Hs&&(t.flags|=128,r=!0,ql(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ua(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ql(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!io)return Gl(t),null}else 2*Ze()-a.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=128,r=!0,ql(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=a.last)?n.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=sa.current,Ni(sa,r?1&n|2:1&n),t):(Gl(t),null);case 22:case 23:return fu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Gl(t),6&t.subtreeFlags&&(t.flags|=8192)):Gl(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $l(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ci(Mi),Ci(Ti),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return la(t),null;case 13:if(Ci(sa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(sa),null;case 4:return oa(),null;case 10:return _o(t.type._context),null;case 22:case 23:return fu(),null;default:return null}}Pl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Dl=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in be(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(l.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==s&&(null!=u||null!=s))if("style"===c)if(s){for(o in s)!s.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&s[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(l.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Or("scroll",e),a||s===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Il=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ql=!1,Xl=!1,Zl="function"===typeof WeakSet?WeakSet:Set,Kl=null;function Jl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){ku(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){ku(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&es(t,n,o)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[mi],delete t[vi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function as(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||as(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function us(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(us(e,t,n),e=e.sibling;null!==e;)us(e,t,n),e=e.sibling}var cs=null,fs=!1;function ds(e,t,n){for(n=n.child;null!==n;)hs(e,t,n),n=n.sibling}function hs(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(l){}switch(n.tag){case 5:Xl||Jl(n,t);case 6:var r=cs,i=fs;cs=null,ds(e,t,n),fs=i,null!==(cs=r)&&(fs?(e=cs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cs.removeChild(n.stateNode));break;case 18:null!==cs&&(fs?(e=cs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Ht(e)):si(cs,n.stateNode));break;case 4:r=cs,i=fs,cs=n.stateNode.containerInfo,fs=!0,ds(e,t,n),cs=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Xl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&es(n,t,a),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Xl&&(Jl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ku(n,t,l)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Xl=(r=Xl)||null!==n.memoizedState,ds(e,t,n),Xl=r):ds(e,t,n);break;default:ds(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zl),t.forEach(function(t){var r=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 5:cs=s.stateNode,fs=!1;break e;case 3:case 4:cs=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===cs)throw Error(o(160));hs(a,l,i),cs=null,fs=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){ku(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vs(t,e),t=t.sibling}function vs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(v){ku(e,e.return,v)}try{ns(5,e,e.return)}catch(v){ku(e,e.return,v)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&Jl(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&Jl(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(v){ku(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,l=null!==n?n.memoizedProps:a,s=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===s&&"radio"===a.type&&null!=a.name&&Z(i,a),ye(s,l);var c=ye(s,a);for(l=0;l<u.length;l+=2){var f=u[l],d=u[l+1];"style"===f?ve(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):y(i,f,d,c)}switch(s){case"input":K(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(v){ku(e,e.return,v)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){ku(e,e.return,v)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(v){ku(e,e.return,v)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Us=Ze())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xl=(c=Xl)||f,ms(t,e),Xl=c):ms(t,e),gs(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Kl=e,f=e.child;null!==f;){for(d=Kl=f;null!==Kl;){switch(p=(h=Kl).child,h.tag){case 0:case 11:case 14:case 15:ns(4,h,h.return);break;case 1:Jl(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){ku(r,n,v)}}break;case 5:Jl(h,h.return);break;case 22:if(null!==h.memoizedState){xs(d);continue}}null!==p?(p.return=h,Kl=p):xs(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(s=d.stateNode,l=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,s.style.display=me("display",l))}catch(v){ku(e,e.return,v)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){ku(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ms(t,e),gs(e),4&r&&ps(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(as(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),us(e,ls(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ss(e,ls(e),a);break;default:throw Error(o(161))}}catch(l){ku(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bs(e,t,n){Kl=e,ys(e,t,n)}function ys(e,t,n){for(var r=0!==(1&e.mode);null!==Kl;){var i=Kl,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ql;if(!a){var l=i.alternate,s=null!==l&&null!==l.memoizedState||Xl;l=Ql;var u=Xl;if(Ql=a,(Xl=s)&&!u)for(Kl=i;null!==Kl;)s=(a=Kl).child,22===a.tag&&null!==a.memoizedState?Ss(i):null!==s?(s.return=a,Kl=s):Ss(i);for(;null!==o;)Kl=o,ys(o,t,n),o=o.sibling;Kl=i,Ql=l,Xl=u}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Kl=o):ws(e)}}function ws(e){for(;null!==Kl;){var t=Kl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xl||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:go(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Oo(t,a,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Oo(t,l,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Ht(d)}}}break;default:throw Error(o(163))}Xl||512&t.flags&&is(t)}catch(h){ku(t,t.return,h)}}if(t===e){Kl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Kl=n;break}Kl=t.return}}function xs(e){for(;null!==Kl;){var t=Kl;if(t===e){Kl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Kl=n;break}Kl=t.return}}function Ss(e){for(;null!==Kl;){var t=Kl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){ku(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){ku(t,i,s)}}var o=t.return;try{is(t)}catch(s){ku(t,o,s)}break;case 5:var a=t.return;try{is(t)}catch(s){ku(t,a,s)}}}catch(s){ku(t,t.return,s)}if(t===e){Kl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Kl=l;break}Kl=t.return}}var _s,ks=Math.ceil,Cs=w.ReactCurrentDispatcher,Ns=w.ReactCurrentOwner,Es=w.ReactCurrentBatchConfig,Ts=0,Ms=null,js=null,As=0,Ps=0,Ds=ki(0),Is=0,Fs=null,Rs=0,zs=0,Ls=0,Os=null,Bs=null,Us=0,Hs=1/0,Vs=null,Ws=!1,qs=null,Gs=null,Ys=!1,$s=null,Qs=0,Xs=0,Zs=null,Ks=-1,Js=0;function eu(){return 0!==(6&Ts)?Ze():-1!==Ks?Ks:Ks=Ze()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Ts)&&0!==As?As&-As:null!==vo.transition?(0===Js&&(Js=mt()),Js):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nu(e,t,n,r){if(50<Xs)throw Xs=0,Zs=null,Error(o(185));gt(e,n,r),0!==(2&Ts)&&e===Ms||(e===Ms&&(0===(2&Ts)&&(zs|=n),4===Is&&lu(e,As)),ru(e,r),1===n&&0===Ts&&0===(1&t.mode)&&(Hs=Ze()+500,Oi&&Hi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),l=1<<a,s=i[a];-1===s?0!==(l&n)&&0===(l&r)||(i[a]=ht(l,t)):s<=t&&(e.expiredLanes|=l),o&=~l}}(e,t);var r=dt(e,e===Ms?As:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Oi=!0,Ui(e)}(su.bind(null,e)):Ui(su.bind(null,e)),ai(function(){0===(6&Ts)&&Hi()}),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Mu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Ks=-1,Js=0,0!==(6&Ts))throw Error(o(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=dt(e,e===Ms?As:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var i=Ts;Ts|=2;var a=pu();for(Ms===e&&As===t||(Vs=null,Hs=Ze()+500,du(e,t));;)try{bu();break}catch(s){hu(e,s)}So(),Cs.current=a,Ts=i,null!==js?t=0:(Ms=null,As=0,t=Is)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t)throw n=Fs,du(e,0),lu(e,r),ru(e,Ze()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!lr(o(),i))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vu(e,r))&&(0!==(a=pt(e))&&(r=a,t=ou(e,a))),1===t))throw n=Fs,du(e,0),lu(e,r),ru(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xu(e,Bs,Vs);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Us+500-Ze())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xu.bind(null,e,Bs,Vs),t);break}xu(e,Bs,Vs);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-at(r);a=1<<l,(l=t[l])>i&&(i=l),r&=~a}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ks(r/1960))-r)){e.timeoutHandle=ri(xu.bind(null,e,Bs,Vs),r);break}xu(e,Bs,Vs);break;default:throw Error(o(329))}}}return ru(e,Ze()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=Os;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Bs,Bs=n,null!==t&&au(t)),e}function au(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function lu(e,t){for(t&=~Ls,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function su(e){if(0!==(6&Ts))throw Error(o(327));Su();var t=dt(e,0);if(0===(1&t))return ru(e,Ze()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Fs,du(e,0),lu(e,t),ru(e,Ze()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Bs,Vs),ru(e,Ze()),null}function uu(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(Hs=Ze()+500,Oi&&Hi())}}function cu(e){null!==$s&&0===$s.tag&&0===(6&Ts)&&Su();var t=Ts;Ts|=1;var n=Es.transition,r=yt;try{if(Es.transition=null,yt=1,e)return e()}finally{yt=r,Es.transition=n,0===(6&(Ts=t))&&Hi()}}function fu(){Ps=Ds.current,Ci(Ds)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==js)for(n=js.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:oa(),Ci(Mi),Ci(Ti),fa();break;case 5:la(r);break;case 4:oa();break;case 13:case 19:Ci(sa);break;case 10:_o(r.type._context);break;case 22:case 23:fu()}n=n.return}if(Ms=e,js=e=Du(e.current,null),As=Ps=t,Is=0,Fs=null,Ls=zs=Rs=0,Bs=Os=null,null!==Eo){for(t=0;t<Eo.length;t++)if(null!==(r=(n=Eo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Eo=null}return e}function hu(e,t){for(;;){var n=js;try{if(So(),da.current=al,ba){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ba=!1}if(pa=0,ga=va=ma=null,ya=!1,wa=0,Ns.current=null,null===n||null===n.return){Is=1,Fs=t,js=null;break}e:{var a=e,l=n.return,s=n,u=t;if(t=As,s.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gl(l);if(null!==p){p.flags&=-257,bl(p,l,s,0,t),1&p.mode&&vl(a,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(u),t.updateQueue=v}else m.add(u);break e}if(0===(1&t)){vl(a,c,t),mu();break e}u=Error(o(426))}else if(io&&1&s.mode){var g=gl(l);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),bl(g,l,s,0,t),mo(cl(u,s));break e}}a=u=cl(u,s),4!==Is&&(Is=2),null===Os?Os=[a]:Os.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zo(a,pl(0,u,t));break e;case 1:s=u;var b=a.type,y=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Gs||!Gs.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t,zo(a,ml(a,s,t));break e}}a=a.return}while(null!==a)}wu(n)}catch(w){t=w,js===n&&null!==n&&(js=n=n.return);continue}break}}function pu(){var e=Cs.current;return Cs.current=al,null===e?al:e}function mu(){0!==Is&&3!==Is&&2!==Is||(Is=4),null===Ms||0===(268435455&Rs)&&0===(268435455&zs)||lu(Ms,As)}function vu(e,t){var n=Ts;Ts|=2;var r=pu();for(Ms===e&&As===t||(Vs=null,du(e,t));;)try{gu();break}catch(i){hu(e,i)}if(So(),Ts=n,Cs.current=r,null!==js)throw Error(o(261));return Ms=null,As=0,Is}function gu(){for(;null!==js;)yu(js)}function bu(){for(;null!==js&&!Qe();)yu(js)}function yu(e){var t=_s(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?wu(e):js=t,Ns.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yl(n,t,Ps)))return void(js=n)}else{if(null!==(n=$l(n,t)))return n.flags&=32767,void(js=n);if(null===e)return Is=6,void(js=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(js=t);js=t=e}while(null!==t);0===Is&&(Is=5)}function xu(e,t,n){var r=yt,i=Es.transition;try{Es.transition=null,yt=1,function(e,t,n,r){do{Su()}while(null!==$s);if(0!==(6&Ts))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Ms&&(js=Ms=null,As=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ys||(Ys=!0,Mu(tt,function(){return Su(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Es.transition,Es.transition=null;var l=yt;yt=1;var s=Ts;Ts|=4,Ns.current=null,function(e,t){if(ei=Wt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var l=0,s=-1,u=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=l+i),d!==a||0!==r&&3!==d.nodeType||(u=l+r),3===d.nodeType&&(l+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(s=l),h===a&&++f===r&&(u=l),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Kl=t;null!==Kl;)if(e=(t=Kl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Kl=e;else for(;null!==Kl;){t=Kl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?v:go(t.type,v),g);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){ku(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Kl=e;break}Kl=t.return}m=ts,ts=!1}(e,n),vs(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bs(n,e,i),Xe(),Ts=s,yt=l,Es.transition=a}else e.current=n;if(Ys&&(Ys=!1,$s=e,Qs=i),a=e.pendingLanes,0===a&&(Gs=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=qs,qs=null,e;0!==(1&Qs)&&0!==e.tag&&Su(),a=e.pendingLanes,0!==(1&a)?e===Zs?Xs++:(Xs=0,Zs=e):Xs=0,Hi()}(e,t,n,r)}finally{Es.transition=i,yt=r}return null}function Su(){if(null!==$s){var e=wt(Qs),t=Es.transition,n=yt;try{if(Es.transition=null,yt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Qs=0,0!==(6&Ts))throw Error(o(331));var i=Ts;for(Ts|=4,Kl=e.current;null!==Kl;){var a=Kl,l=a.child;if(0!==(16&Kl.flags)){var s=a.deletions;if(null!==s){for(var u=0;u<s.length;u++){var c=s[u];for(Kl=c;null!==Kl;){var f=Kl;switch(f.tag){case 0:case 11:case 15:ns(8,f,a)}var d=f.child;if(null!==d)d.return=f,Kl=d;else for(;null!==Kl;){var h=(f=Kl).sibling,p=f.return;if(os(f),f===c){Kl=null;break}if(null!==h){h.return=p,Kl=h;break}Kl=p}}}var m=a.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Kl=a}}if(0!==(2064&a.subtreeFlags)&&null!==l)l.return=a,Kl=l;else e:for(;null!==Kl;){if(0!==(2048&(a=Kl).flags))switch(a.tag){case 0:case 11:case 15:ns(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Kl=b;break e}Kl=a.return}}var y=e.current;for(Kl=y;null!==Kl;){var w=(l=Kl).child;if(0!==(2064&l.subtreeFlags)&&null!==w)w.return=l,Kl=w;else e:for(l=y;null!==Kl;){if(0!==(2048&(s=Kl).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(S){ku(s,s.return,S)}if(s===l){Kl=null;break e}var x=s.sibling;if(null!==x){x.return=s.return,Kl=x;break e}Kl=s.return}}if(Ts=i,Hi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{yt=n,Es.transition=t}}return!1}function _u(e,t,n){e=Fo(e,t=pl(0,t=cl(n,t),1),1),t=eu(),null!==e&&(gt(e,1,t),ru(e,t))}function ku(e,t,n){if(3===e.tag)_u(e,e,n);else for(;null!==t;){if(3===t.tag){_u(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Fo(t,e=ml(t,e=cl(n,e),1),1),e=eu(),null!==t&&(gt(t,1,e),ru(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Ms===e&&(As&n)===n&&(4===Is||3===Is&&(130023424&As)===As&&500>Ze()-Us?du(e,0):Ls|=n),ru(e,t)}function Nu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=jo(e,t))&&(gt(e,t,n),ru(e,n))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Nu(e,n)}function Mu(e,t){return Ye(e,t)}function ju(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Au(e,t,n,r){return new ju(e,t,n,r)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Au(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Iu(e,t,n,r,i,a){var l=2;if(r=e,"function"===typeof e)Pu(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case _:return Fu(n.children,i,a,t);case k:l=8,i|=8;break;case C:return(e=Au(12,n,t,2|i)).elementType=C,e.lanes=a,e;case M:return(e=Au(13,n,t,i)).elementType=M,e.lanes=a,e;case j:return(e=Au(19,n,t,i)).elementType=j,e.lanes=a,e;case D:return Ru(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:l=10;break e;case E:l=9;break e;case T:l=11;break e;case A:l=14;break e;case P:l=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Au(l,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Fu(e,t,n,r){return(e=Au(7,e,r,t)).lanes=n,e}function Ru(e,t,n,r){return(e=Au(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function zu(e,t,n){return(e=Au(6,e,null,t)).lanes=n,e}function Lu(e,t,n){return(t=Au(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ou(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,i,o,a,l,s){return e=new Ou(e,t,n,l,s),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Au(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Po(o),e}function Uu(e){if(!e)return Ei;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Fi(e,n,t)}return t}function Hu(e,t,n,r,i,o,a,l,s){return(e=Bu(n,r,!0,e,0,o,0,l,s)).context=Uu(null),n=e.current,(o=Io(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Fo(n,o,i),e.current.lanes=i,gt(e,i,r),ru(e,r),e}function Vu(e,t,n,r){var i=t.current,o=eu(),a=tu(i);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Io(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fo(i,t,a))&&(nu(e,i,a,o),Ro(e,i,a)),a}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)wl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wl=!1,function(e,t,n){switch(t.tag){case 3:jl(t),po();break;case 5:aa(t);break;case 1:Pi(t.type)&&Ri(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ni(bo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ni(sa,1&sa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zl(e,t,n):(Ni(sa,1&sa.current),null!==(e=Wl(e,t,n))?e.sibling:null);Ni(sa,1&sa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ni(sa,sa.current),r)break;return null;case 22:case 23:return t.lanes=0,Cl(e,t,n)}return Wl(e,t,n)}(e,t,n);wl=0!==(131072&e.flags)}else wl=!1,io&&0!==(1048576&t.flags)&&Ji(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vl(e,t),e=t.pendingProps;var i=Ai(t,Ti.current);Co(t,n),i=ka(null,t,r,e,i,n);var a=Ca();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Po(t),i.updater=Ho,t.stateNode=i,i._reactInternals=t,Go(t,r,e,n),t=Ml(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),xl(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vl(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=go(r,e),i){case 0:t=El(null,t,r,e,n);break e;case 1:t=Tl(null,t,r,e,n);break e;case 11:t=Sl(null,t,r,e,n);break e;case 14:t=_l(null,t,r,go(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,El(e,t,r,i=t.elementType===r?i:go(r,i),n);case 1:return r=t.type,i=t.pendingProps,Tl(e,t,r,i=t.elementType===r?i:go(r,i),n);case 3:e:{if(jl(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Do(e,t),Lo(t,r,null,n);var l=t.memoizedState;if(r=l.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Al(e,t,r,n,i=cl(Error(o(423)),t));break e}if(r!==i){t=Al(e,t,r,n,i=cl(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Ko(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Wl(e,t,n);break e}xl(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,l=i.children,ni(r,i)?l=null:null!==a&&ni(r,a)&&(t.flags|=32),Nl(e,t),xl(e,t,l,n),t.child;case 6:return null===e&&uo(t),null;case 13:return zl(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Zo(t,null,r,n):xl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sl(e,t,r,i=t.elementType===r?i:go(r,i),n);case 7:return xl(e,t,t.pendingProps,n),t.child;case 8:case 12:return xl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,Ni(bo,r._currentValue),r._currentValue=l,null!==a)if(lr(a.value,l)){if(a.children===i.children&&!Mi.current){t=Wl(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){l=a.child;for(var u=s.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Io(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),ko(a.return,n,t),s.lanes|=n;break}u=u.next}}else if(10===a.tag)l=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(l=a.return))throw Error(o(341));l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),ko(l,n,t),l=a.sibling}else l=a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===t){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}xl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=No(i)),t.flags|=1,xl(e,t,r,n),t.child;case 14:return i=go(r=t.type,t.pendingProps),_l(e,t,r,i=go(r.type,i),n);case 15:return kl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),Vl(e,t),t.tag=1,Pi(r)?(e=!0,Ri(t)):e=!1,Co(t,n),Wo(t,r,i),Go(t,r,i,n),Ml(null,t,r,!0,e,n);case 19:return Hl(e,t,n);case 22:return Cl(e,t,n)}throw Error(o(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function $u(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ku(){}function Ju(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var l=i;i=function(){var e=Wu(a);l.call(e)}}Vu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wu(a);o.call(e)}}var a=Hu(t,r,e,0,null,!1,0,"",Ku);return e._reactRootContainer=a,e[pi]=a.current,Hr(8===e.nodeType?e.parentNode:e),cu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var l=r;r=function(){var e=Wu(s);l.call(e)}}var s=Bu(e,0,!1,null,0,!1,0,"",Ku);return e._reactRootContainer=s,e[pi]=s.current,Hr(8===e.nodeType?e.parentNode:e),cu(function(){Vu(t,s,n,r)}),s}(n,t,e,i,r);return Wu(a)}Qu.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Vu(e,t,null,null)},Qu.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu(function(){Vu(null,e,null,null)}),t[pi]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&zt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(bt(t,1|n),ru(t,Ze()),0===(6&Ts)&&(Hs=Ze()+500,Hi()))}break;case 13:cu(function(){var t=jo(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}}),Gu(e,1)}},St=function(e){if(13===e.tag){var t=jo(e,134217728);if(null!==t)nu(t,e,134217728,eu());Gu(e,134217728)}},_t=function(e){if(13===e.tag){var t=tu(e),n=jo(e,t);if(null!==n)nu(n,e,t,eu());Gu(e,t)}},kt=function(){return yt},Ct=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Se=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));Y(r),K(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uu,Me=cu;var ec={usingClientEntryPoint:!1,Events:[yi,wi,xi,Ne,Ee,uu]},tc={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xu(e))throw Error(o(299));var n=!1,r="",i=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new $u(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(o(200));return Ju(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",l=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,i,0,a,l),e[pi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qu(t)},t.render=function(e,t,n){if(!Zu(t))throw Error(o(200));return Ju(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu(function(){Ju(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Ju(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},8438(e,t,n){"use strict";n.d(t,{v:()=>a});var r=n(8851),i=n(236),o=n(6471);function a(e){return new r.c(function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,i.H)(n):(0,o.I)()).subscribe(t)})}},8481(e,t,n){"use strict";n.d(t,{X:()=>r});var r=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e}},8535(e,t,n){"use strict";n.d(t,{E:()=>i});var r=n(6882),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.C6(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(230).v)},8591(e,t){"use strict";function n(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=n,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var r=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(r),t.reverse=function(e){return r[255&e]<<24|r[e>>>8&255]<<16|r[e>>>16&255]<<8|r[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>n(e)+1}},8698(e,t,n){"use strict";n.d(t,{$:()=>i});var r=n(8851);function i(e,t){return t?new r.c(function(n){return t.schedule(o,0,{error:e,subscriber:n})}):new r.c(function(t){return t.error(e)})}function o(e){var t=e.error;e.subscriber.error(t)}},8770(e,t,n){"use strict";n.d(t,{B7:()=>f,PJ:()=>c});var r=n(6882),i=n(8851),o=n(230),a=n(8297),l=n(2413),s=n(439),u=n(6255),c=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.C6(t,e),t}(o.v),f=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.C6(t,e),t.prototype[u.D]=function(){return new c(this)},t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new l.P;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new l.P;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new l.P;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new l.P;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new l.P;return this.hasError?(e.error(this.thrownError),a.y.EMPTY):this.isStopped?(e.complete(),a.y.EMPTY):(this.observers.push(e),new s.Y(this,e))},t.prototype.asObservable=function(){var e=new i.c;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(i.c),d=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.C6(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.y.EMPTY},t}(f)},8851(e,t,n){"use strict";n.d(t,{c:()=>c});var r=n(4593),i=n(230),o=n(6255),a=n(974);var l=n(1638),s=n(3843),u=n(578),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,l=function(e,t,n){if(e){if(e instanceof i.v)return e;if(e[o.D])return e[o.D]()}return e||t||n?new i.v(e,t,n):new i.v(a.I)}(e,t,n);if(r?l.add(r.call(l,this.source)):l.add(this.source||u.$.useDeprecatedSynchronousErrorHandling&&!l.syncErrorThrowable?this._subscribe(l):this._trySubscribe(l)),u.$.useDeprecatedSynchronousErrorHandling&&l.syncErrorThrowable&&(l.syncErrorThrowable=!1,l.syncErrorThrown))throw l.syncErrorValue;return l},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){u.$.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),(0,r.H)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=f(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[l.s]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:(0,s.m)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function f(e){if(e||(e=u.$.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},9149(e,t,n){"use strict";n.d(t,{U:()=>o});var r=n(5812),i=n(5973);function o(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),(0,r.ZZ)(i.D,e)}},9854(e,t,n){"use strict";n.d(t,{k:()=>r});var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},9878(e,t,n){"use strict";n.d(t,{G:()=>r});var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},9950(e,t,n){"use strict";e.exports=n(2049)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".45437b76.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="meditrain:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var l,s;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var f=u[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){l=f;break}}l||(s=!0,(l=document.createElement("script")).charset="utf-8",n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+o),l.src=r),e[r]=[i];var d=(t,n)=>{l.onerror=l.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),i&&i.forEach(e=>e(n)),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=d.bind(null,l.onerror),l.onload=d.bind(null,l.onload),s&&document.head.appendChild(l)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/meditrain/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=o);var a=n.p+n.u(t),l=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",l.name="ChunkLoadError",l.type=o,l.request=a,i[1](l)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,o,[a,l,s]=r,u=0;if(a.some(t=>0!==e[t])){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(s)s(n)}for(t&&t(r);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkmeditrain=self.webpackChunkmeditrain||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(9950),t=n(1352);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=n(3292),u=n(4414);const c=e.forwardRef(function(t,n){let{onNewData:r,updateChannelMaps:i,onTelemetry:o,onPpg:a,onAccelerometer:c,onGyro:f,onStatusChange:d,onDeviceInfo:h}=t;const p=12e3,[m,v]=(0,e.useState)(!1),[g,b]=(0,e.useState)(!1),[y,w]=(0,e.useState)(null),[x,S]=(0,e.useState)(null),[_,k]=(0,e.useState)({}),[C,N]=(0,e.useState)(null),E=(0,e.useRef)(null),T=(0,e.useRef)([]),M=(0,e.useRef)(!1),j=(0,e.useRef)(!1),A=(0,e.useRef)(null),P=(0,e.useRef)(null),D=(0,e.useCallback)(e=>{const t=String((null===e||void 0===e?void 0:e.hw)||"").toLowerCase(),n=String((null===e||void 0===e?void 0:e.tp)||"").toLowerCase(),r=String((null===e||void 0===e?void 0:e.sp)||"").toLowerCase();return t.includes("s")||n.includes("s")||r.includes("s")?"muse-s":t.includes("2")||n.includes("2")||r.includes("2")?"muse-2":"unknown"},[]),I=(0,e.useCallback)(e=>{const t="muse-2"===e?{ambient:2,infrared:0,red:1}:{ambient:0,infrared:1,red:2};return{mapping:t,labels:{0:0===t.ambient?"AMBIENT":0===t.infrared?"IR":"RED",1:1===t.ambient?"AMBIENT":1===t.infrared?"IR":"RED",2:2===t.ambient?"AMBIENT":2===t.infrared?"IR":"RED"}}},[]),F=(0,e.useCallback)(e=>{console.log("[MuseData] ".concat(e)),k(t=>l(l({},t),{},{steps:[...t.steps||[],{t:Date.now(),msg:e}]}))},[]),R=(0,e.useCallback)(async e=>{const t=e.gatt.connect(),n=new Promise((e,t)=>{const n=setTimeout(()=>{clearTimeout(n),t(new Error("GATT connect timed out after ".concat(p,"ms")))},p)});return Promise.race([t,n])},[p]),z=(0,e.useCallback)(e=>new Promise(t=>setTimeout(t,e)),[]);async function L(){S(null),v(!1),b(!1);try{var e;null!==(e=E.current)&&void 0!==e&&e.device&&E.current._onDisconnect&&E.current.device.removeEventListener("gattserverdisconnected",E.current._onDisconnect)}catch(n){}try{T.current.forEach(e=>{var t;return null===e||void 0===e||null===(t=e.unsubscribe)||void 0===t?void 0:t.call(e)})}catch(n){}T.current=[];try{var t;await(null===(t=E.current)||void 0===t?void 0:t.disconnect())}catch(n){}E.current=null}const O=(0,e.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"manual",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown";if(M.current)return;j.current=!1,M.current=!0,b(!0),w(null),k(n=>l(l({},n),{},{connectStart:Date.now(),steps:[],mode:e,trigger:t})),F("Starting connection in '".concat(e,"' mode (trigger: ").concat(t,")...")),"manual"===e&&(F("Manual reconnect: clearing any existing client before reconnect."),await L());const n=new s.MuseClient;E.current=n,n.enableAux=!0,n.enablePpg=!0;let u=null;try{var d;if("auto"===e||"manual"===e)if(navigator.bluetooth)if(navigator.bluetooth.getDevices){F("Querying permitted devices (getDevices)...");const t=await navigator.bluetooth.getDevices();F("Found ".concat(t.length," permitted devices."));const n=t.filter(e=>e.name&&e.name.indexOf("Muse")>=0);n.length>0?(F("Permitted Muse devices: ".concat(n.length)),n.forEach((e,t)=>{var n;const r=e.id?e.id.slice(0,8):"unknown-id",i=!(null===(n=e.gatt)||void 0===n||!n.connected),o="function"===typeof e.watchAdvertisements?"yes":"no";F("Muse[".concat(t+1,"]: ").concat(e.name||"Unnamed"," (id: ").concat(r,"\u2026, gatt: ").concat(i?"connected":"disconnected",", ads: ").concat(o,")"))})):F("No permitted Muse devices found in getDevices result.");const r=n[0];if(r){F("Found target: ".concat(r.name," (").concat(r.id,")"));let t=null;for(let n=1;n<=3;n+=1){F("Silent connect attempt ".concat(n,"/").concat(3," (mode: ").concat(e,")..."));let i=!0;if("function"===typeof r.watchAdvertisements){F("Watching advertisements (".concat(10,"s timeout)..."));try{await r.watchAdvertisements(),await new Promise((e,t)=>{const n=()=>{r.removeEventListener("advertisementreceived",n),e()};r.addEventListener("advertisementreceived",n),setTimeout(()=>{r.removeEventListener("advertisementreceived",n),t(new Error("No advertisement received (device off/out of range?)"))},1e4)}),F("Advertisement received. Device is awake.")}catch(p){F("Advertisement warning: ".concat(p.message)),i=!1}finally{"function"===typeof r.unwatchAdvertisements&&r.unwatchAdvertisements()}}i||F("No advertisement seen; attempting silent GATT connect anyway."),F("Attempting GATT connect on existing device handle...");try{u=await R(r),F("GATT connect successful."),N(r.name),t=null;break}catch(m){t=m,F("Silent GATT connect failed: ".concat(m.message)),u=null,n<3&&(F("Waiting ".concat(2e3,"ms before retrying silent connect...")),await z(2e3))}}if(!u&&t&&"auto"===e)throw t}else if(F("No permitted Muse device found."),"auto"===e)throw new Error("No previously paired Muse device found.")}else F("navigator.bluetooth.getDevices undefined. Check browser flags/secure context.");else F("navigator.bluetooth undefined. Web Bluetooth not supported/enabled.");if(u)await n.connect(u),F("Client attached to GATT server.");else{if("auto"===e||"manual"===e)return F("Auto-connect finished without connection."),void b(!1);F("Initiating browser picker (".concat("pair"===e?"forced":"fallback",")...")),await n.connect(),n.deviceName&&N(n.deviceName),F("Browser picker connection successful.")}F("Configuring subscriptions...");const t=()=>{v(!1),b(!1),w("Device disconnected"),L()};n._onDisconnect=t,null===(d=n.device)||void 0===d||d.addEventListener("gattserverdisconnected",t),T.current=[],T.current.push(n.eegReadings.subscribe(e=>r(e))),n.telemetryData&&T.current.push(n.telemetryData.subscribe(e=>{S(e),o&&o(e)})),n.ppgReadings&&a&&T.current.push(n.ppgReadings.subscribe(e=>{var t,n;if(!e||"number"!==typeof e.ppgChannel)return void a(e);const r=null===(t=P.current)||void 0===t?void 0:t.labels,i=null===(n=P.current)||void 0===n?void 0:n.mapping,o=Number.isInteger(null===i||void 0===i?void 0:i.ambient)?i.ambient:0,s=Number.isInteger(null===i||void 0===i?void 0:i.infrared)?i.infrared:1,u=Number.isInteger(null===i||void 0===i?void 0:i.red)?i.red:2,c=null===r||void 0===r?void 0:r[e.ppgChannel];if(e.ppgChannel===o&&Array.isArray(e.samples))return A.current=e.samples.slice(),void a(c?l(l({},e),{},{label:c}):e);if((e.ppgChannel===s||e.ppgChannel===u)&&Array.isArray(e.samples)){const t=A.current;if(Array.isArray(t)&&t.length===e.samples.length){const n=e.samples.map((e,n)=>e-t[n]);return void a(l(l({},e),{},c?{label:c,samples:n}:{samples:n}))}}a(c?l(l({},e),{},{label:c}):e)})),n.accelerometerData&&c&&T.current.push(n.accelerometerData.subscribe(e=>c(e))),n.gyroscopeData&&f&&T.current.push(n.gyroscopeData.subscribe(e=>f(e))),i(["TP9","AF7","AF8","TP10","AUXL","AUXR"]);let s=null;try{s=await n.deviceInfo()}catch(g){F("Device info unavailable: ".concat(g.message))}const y=D(s),x=I(y);P.current=x,h&&h({deviceInfo:s,deviceType:y,ppgLabelMap:x}),await n.start(),F("Stream started."),v(!0)}catch(y){F("Connection flow failed: ".concat(y.message)),console.error(y),w(y.message),v(!1),await L()}finally{b(!1),M.current=!1}},[r,i,o,a,c,f,F,R,I,D,h,z]);async function B(){j.current=!0,await L(),v(!1),b(!1),w("Disconnected")}return(0,e.useEffect)(()=>{navigator.bluetooth&&navigator.bluetooth.getDevices&&navigator.bluetooth.getDevices().then(e=>{e.some(e=>e.name&&e.name.indexOf("Muse")>=0)&&N("Muse Device")})},[]),(0,e.useEffect)(()=>()=>{L()},[]),(0,e.useEffect)(()=>{d&&d({isConnected:m,isConnecting:g,error:y,debugInfo:_})},[m,g,y,_,d]),(0,e.useImperativeHandle)(n,()=>({reconnect:async()=>{await L(),await O("auto","auto-reconnect")},disconnect:async()=>{await B()}})),(0,u.jsxs)("div",{children:[!m&&!g&&(C?(0,u.jsxs)("div",{className:"inline-buttons",children:[(0,u.jsxs)("button",{onClick:()=>O("manual","user-reconnect"),children:["Reconnect ",C]}),(0,u.jsx)("button",{onClick:()=>O("pair","user-pair"),className:"secondary",children:"Pair New"})]}):(0,u.jsx)("button",{onClick:()=>O("pair","user-connect"),children:"Connect to Muse"})),g&&(0,u.jsx)("p",{children:"Connecting..."}),m&&(0,u.jsxs)("div",{className:"inline-buttons",children:[(0,u.jsx)("p",{children:"Connected"}),x&&(0,u.jsxs)("span",{className:"status-pill",children:["Battery: ",x.batteryLevel.toFixed(0),"%"]}),(0,u.jsx)("button",{onClick:B,children:"Disconnect"})]}),!m&&!g&&y&&(0,u.jsxs)("p",{className:"subdued",children:["Status: ",y]}),m&&y&&(0,u.jsxs)("p",{className:"subdued",children:["Warning: ",y]})]})}),f=c;const d=function(e){let{title:t,helperText:n="Selected sensors contribute to averaged views and the spectrogram.",emptyText:r="No channels detected yet.",availableChannels:i,selectedChannels:o,onToggleChannel:a}=e;return(0,u.jsxs)("div",{className:"config-weights",children:[t?(0,u.jsx)("p",{className:"chart-label",children:t}):null,(0,u.jsxs)("div",{className:"config-list",children:[i.map(e=>(0,u.jsxs)("label",{className:"config-option",children:[(0,u.jsx)("input",{type:"checkbox",checked:o.includes(e),onChange:()=>a(e)}),(0,u.jsx)("span",{children:e})]},e)),0===i.length&&(0,u.jsx)("p",{className:"subdued",children:r})]}),n?(0,u.jsx)("p",{className:"subdued",children:n}):null]})};function h(e){return e}var p=1e-6;function m(e){return"translate("+e+",0)"}function v(e){return"translate(0,"+e+")"}function g(e){return t=>+e(t)}function b(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function y(){return!this.__axis}function w(e,t){var n=[],r=null,i=null,o=6,a=6,l=3,s="undefined"!==typeof window&&window.devicePixelRatio>1?0:.5,u=1===e||4===e?-1:1,c=4===e||2===e?"x":"y",f=1===e||3===e?m:v;function d(d){var m=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,v=null==i?t.tickFormat?t.tickFormat.apply(t,n):h:i,w=Math.max(o,0)+l,x=t.range(),S=+x[0]+s,_=+x[x.length-1]+s,k=(t.bandwidth?b:g)(t.copy(),s),C=d.selection?d.selection():d,N=C.selectAll(".domain").data([null]),E=C.selectAll(".tick").data(m,t).order(),T=E.exit(),M=E.enter().append("g").attr("class","tick"),j=E.select("line"),A=E.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(M),j=j.merge(M.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),A=A.merge(M.append("text").attr("fill","currentColor").attr(c,u*w).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),d!==C&&(N=N.transition(d),E=E.transition(d),j=j.transition(d),A=A.transition(d),T=T.transition(d).attr("opacity",p).attr("transform",function(e){return isFinite(e=k(e))?f(e+s):this.getAttribute("transform")}),M.attr("opacity",p).attr("transform",function(e){var t=this.parentNode.__axis;return f((t&&isFinite(t=t(e))?t:k(e))+s)})),T.remove(),N.attr("d",4===e||2===e?a?"M"+u*a+","+S+"H"+s+"V"+_+"H"+u*a:"M"+s+","+S+"V"+_:a?"M"+S+","+u*a+"V"+s+"H"+_+"V"+u*a:"M"+S+","+s+"H"+_),E.attr("opacity",1).attr("transform",function(e){return f(k(e)+s)}),j.attr(c+"2",u*o),A.attr(c,u*w).text(v),C.filter(y).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),C.each(function(){this.__axis=k})}return d.scale=function(e){return arguments.length?(t=e,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),d):n.slice()},d.tickValues=function(e){return arguments.length?(r=null==e?null:Array.from(e),d):r&&r.slice()},d.tickFormat=function(e){return arguments.length?(i=e,d):i},d.tickSize=function(e){return arguments.length?(o=a=+e,d):o},d.tickSizeInner=function(e){return arguments.length?(o=+e,d):o},d.tickSizeOuter=function(e){return arguments.length?(a=+e,d):a},d.tickPadding=function(e){return arguments.length?(l=+e,d):l},d.offset=function(e){return arguments.length?(s=+e,d):s},d}function x(e){return w(2,e)}function S(e){return w(3,e)}function _(e){return w(4,e)}function k(){}function C(e){return null==e?k:function(){return this.querySelector(e)}}function N(){return[]}function E(e){return null==e?N:function(){return this.querySelectorAll(e)}}function T(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function M(e){return function(){return this.matches(e)}}function j(e){return function(t){return t.matches(e)}}var A=Array.prototype.find;function P(){return this.firstElementChild}var D=Array.prototype.filter;function I(){return Array.from(this.children)}function F(e){return new Array(e.length)}function R(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function z(e,t,n,r,i,o){for(var a,l=0,s=t.length,u=o.length;l<u;++l)(a=t[l])?(a.__data__=o[l],r[l]=a):n[l]=new R(e,o[l]);for(;l<s;++l)(a=t[l])&&(i[l]=a)}function L(e,t,n,r,i,o,a){var l,s,u,c=new Map,f=t.length,d=o.length,h=new Array(f);for(l=0;l<f;++l)(s=t[l])&&(h[l]=u=a.call(s,s.__data__,l,t)+"",c.has(u)?i[l]=s:c.set(u,s));for(l=0;l<d;++l)u=a.call(e,o[l],l,o)+"",(s=c.get(u))?(r[l]=s,s.__data__=o[l],c.delete(u)):n[l]=new R(e,o[l]);for(l=0;l<f;++l)(s=t[l])&&c.get(h[l])===s&&(i[l]=s)}function O(e){return e.__data__}function B(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function U(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}R.prototype={constructor:R,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var H="http://www.w3.org/1999/xhtml";const V={svg:"http://www.w3.org/2000/svg",xhtml:H,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function W(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),V.hasOwnProperty(t)?{space:V[t],local:e}:e}function q(e){return function(){this.removeAttribute(e)}}function G(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Y(e,t){return function(){this.setAttribute(e,t)}}function $(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Q(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function X(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Z(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function K(e){return function(){this.style.removeProperty(e)}}function J(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ee(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function te(e,t){return e.style.getPropertyValue(t)||Z(e).getComputedStyle(e,null).getPropertyValue(t)}function ne(e){return function(){delete this[e]}}function re(e,t){return function(){this[e]=t}}function ie(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function oe(e){return e.trim().split(/^|\s+/)}function ae(e){return e.classList||new le(e)}function le(e){this._node=e,this._names=oe(e.getAttribute("class")||"")}function se(e,t){for(var n=ae(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function ue(e,t){for(var n=ae(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function ce(e){return function(){se(this,e)}}function fe(e){return function(){ue(this,e)}}function de(e,t){return function(){(t.apply(this,arguments)?se:ue)(this,e)}}function he(){this.textContent=""}function pe(e){return function(){this.textContent=e}}function me(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function ve(){this.innerHTML=""}function ge(e){return function(){this.innerHTML=e}}function be(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ye(){this.nextSibling&&this.parentNode.appendChild(this)}function we(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===H&&t.documentElement.namespaceURI===H?t.createElement(e):t.createElementNS(n,e)}}function Se(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function _e(e){var t=W(e);return(t.local?Se:xe)(t)}function ke(){return null}function Ce(){var e=this.parentNode;e&&e.removeChild(this)}function Ne(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ee(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Te(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Me(e,t,n){return function(){var r,i=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var a=0,l=i.length;a<l;++a)if((r=i[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function je(e,t,n){var r=Z(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Ae(e,t){return function(){return je(this,e,t)}}function Pe(e,t){return function(){return je(this,e,t.apply(this,arguments))}}le.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var De=[null];function Ie(e,t){this._groups=e,this._parents=t}function Fe(){return new Ie([[document.documentElement]],De)}Ie.prototype=Fe.prototype={constructor:Ie,select:function(e){"function"!==typeof e&&(e=C(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,l=t[i],s=l.length,u=r[i]=new Array(s),c=0;c<s;++c)(o=l[c])&&(a=e.call(o,o.__data__,c,l))&&("__data__"in o&&(a.__data__=o.__data__),u[c]=a);return new Ie(r,this._parents)},selectAll:function(e){e="function"===typeof e?T(e):E(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,l=t[o],s=l.length,u=0;u<s;++u)(a=l[u])&&(r.push(e.call(a,a.__data__,u,l)),i.push(a));return new Ie(r,i)},selectChild:function(e){return this.select(null==e?P:function(e){return function(){return A.call(this.children,e)}}("function"===typeof e?e:j(e)))},selectChildren:function(e){return this.selectAll(null==e?I:function(e){return function(){return D.call(this.children,e)}}("function"===typeof e?e:j(e)))},filter:function(e){"function"!==typeof e&&(e=M(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],l=a.length,s=r[i]=[],u=0;u<l;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&s.push(o);return new Ie(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,O);var n,r=t?L:z,i=this._parents,o=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var a=o.length,l=new Array(a),s=new Array(a),u=new Array(a),c=0;c<a;++c){var f=i[c],d=o[c],h=d.length,p=B(e.call(f,f&&f.__data__,c,i)),m=p.length,v=s[c]=new Array(m),g=l[c]=new Array(m);r(f,d,v,g,u[c]=new Array(h),p,t);for(var b,y,w=0,x=0;w<m;++w)if(b=v[w]){for(w>=x&&(x=w+1);!(y=g[x])&&++x<m;);b._next=y||null}}return(l=new Ie(l,i))._enter=s,l._exit=u,l},enter:function(){return new Ie(this._enter||this._groups.map(F),this._parents)},exit:function(){return new Ie(this._exit||this._groups.map(F),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),l=new Array(i),s=0;s<a;++s)for(var u,c=n[s],f=r[s],d=c.length,h=l[s]=new Array(d),p=0;p<d;++p)(u=c[p]||f[p])&&(h[p]=u);for(;s<i;++s)l[s]=n[s];return new Ie(l,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=U);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,l=n[o],s=l.length,u=i[o]=new Array(s),c=0;c<s;++c)(a=l[c])&&(u[c]=a);u.sort(t)}return new Ie(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,l=o.length;a<l;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=W(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?G:q:"function"===typeof t?n.local?X:Q:n.local?$:Y)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?K:"function"===typeof t?ee:J)(e,t,null==n?"":n)):te(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?ne:"function"===typeof t?ie:re)(e,t)):this.node()[e]},classed:function(e,t){var n=oe(e+"");if(arguments.length<2){for(var r=ae(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?de:t?ce:fe)(n,t))},text:function(e){return arguments.length?this.each(null==e?he:("function"===typeof e?me:pe)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ve:("function"===typeof e?be:ge)(e)):this.node().innerHTML},raise:function(){return this.each(ye)},lower:function(){return this.each(we)},append:function(e){var t="function"===typeof e?e:_e(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"===typeof e?e:_e(e),r=null==t?ke:"function"===typeof t?t:C(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Ce)},clone:function(e){return this.select(e?Ee:Ne)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),a=o.length;if(!(arguments.length<2)){for(l=t?Me:Te,r=0;r<a;++r)this.each(l(o[r],t,n));return this}var l=this.node().__on;if(l)for(var s,u=0,c=l.length;u<c;++u)for(r=0,s=l[u];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(e,t){return this.each(("function"===typeof t?Pe:Ae)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const Re=Fe;var ze={value:()=>{}};function Le(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Oe(r)}function Oe(e){this._=e}function Be(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function Ue(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=ze,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Oe.prototype=Le.prototype={constructor:Oe,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),a=-1,l=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<l;)if(n=(e=o[a]).type)i[n]=Ue(i[n],e.name,t);else if(null==t)for(n in i)i[n]=Ue(i[n],e.name,null);return this}for(;++a<l;)if((n=(e=o[a]).type)&&(n=Be(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Oe(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const He=Le;var Ve,We,qe=0,Ge=0,Ye=0,$e=0,Qe=0,Xe=0,Ze="object"===typeof performance&&performance.now?performance:Date,Ke="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Je(){return Qe||(Ke(et),Qe=Ze.now()+Xe)}function et(){Qe=0}function tt(){this._call=this._time=this._next=null}function nt(e,t,n){var r=new tt;return r.restart(e,t,n),r}function rt(){Qe=($e=Ze.now())+Xe,qe=Ge=0;try{!function(){Je(),++qe;for(var e,t=Ve;t;)(e=Qe-t._time)>=0&&t._call.call(void 0,e),t=t._next;--qe}()}finally{qe=0,function(){var e,t,n=Ve,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Ve=t);We=e,ot(r)}(),Qe=0}}function it(){var e=Ze.now(),t=e-$e;t>1e3&&(Xe-=t,$e=e)}function ot(e){qe||(Ge&&(Ge=clearTimeout(Ge)),e-Qe>24?(e<1/0&&(Ge=setTimeout(rt,e-Ze.now()-Xe)),Ye&&(Ye=clearInterval(Ye))):(Ye||($e=Ze.now(),Ye=setInterval(it,1e3)),qe=1,Ke(rt)))}function at(e,t,n){var r=new tt;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}tt.prototype=nt.prototype={constructor:tt,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?Je():+n)+(null==t?0:+t),this._next||We===this||(We?We._next=this:Ve=this,We=this),this._call=e,this._time=n,ot()},stop:function(){this._call&&(this._call=null,this._time=1/0,ot())}};var lt=He("start","end","cancel","interrupt"),st=[];function ut(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(o){var u,c,f,d;if(1!==n.state)return s();for(u in i)if((d=i[u]).name===n.name){if(3===d.state)return at(a);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[u]):+u<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[u])}if(at(function(){3===n.state&&(n.state=4,n.timer.restart(l,n.delay,n.time),l(o))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),u=0,c=-1;u<f;++u)(d=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=d);r.length=c+1}}function l(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=nt(o,0,n.time)}(e,n,{name:t,index:r,group:i,on:lt,tween:st,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function ct(e,t){var n=dt(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function ft(e,t){var n=dt(e,t);if(n.state>3)throw new Error("too late; already running");return n}function dt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ht(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var pt,mt=180/Math.PI,vt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gt(e,t,n,r,i,o){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*mt,skewX:Math.atan(s)*mt,scaleX:a,scaleY:l}}function bt(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var l=[],s=[];return o=e(o),a=e(a),function(e,r,i,o,a,l){if(e!==i||r!==o){var s=a.push("translate(",null,t,null,n);l.push({i:s-4,x:ht(e,i)},{i:s-2,x:ht(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,l,s),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:ht(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,l,s),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:ht(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,l,s),function(e,t,n,r,o,a){if(e!==n||t!==r){var l=o.push(i(o)+"scale(",null,",",null,")");a.push({i:l-4,x:ht(e,n)},{i:l-2,x:ht(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,l,s),o=a=null,function(e){for(var t,n=-1,r=s.length;++n<r;)l[(t=s[n]).i]=t.x(e);return l.join("")}}}var yt=bt(function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?vt:gt(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),wt=bt(function(e){return null==e?vt:(pt||(pt=document.createElementNS("http://www.w3.org/2000/svg","g")),pt.setAttribute("transform",e),(e=pt.transform.baseVal.consolidate())?gt((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):vt)},", ",")",")");function xt(e,t){var n,r;return function(){var i=ft(this,e),o=i.tween;if(o!==n)for(var a=0,l=(r=n=o).length;a<l;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function St(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=ft(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var l={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=l;break}s===u&&i.push(l)}o.tween=i}}function _t(e,t,n){var r=e._id;return e.each(function(){var e=ft(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return dt(e,r).value[t]}}function kt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ct(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Nt(){}var Et=.7,Tt=1/Et,Mt="\\s*([+-]?\\d+)\\s*",jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",At="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pt=/^#([0-9a-f]{3,8})$/,Dt=new RegExp("^rgb\\(".concat(Mt,",").concat(Mt,",").concat(Mt,"\\)$")),It=new RegExp("^rgb\\(".concat(At,",").concat(At,",").concat(At,"\\)$")),Ft=new RegExp("^rgba\\(".concat(Mt,",").concat(Mt,",").concat(Mt,",").concat(jt,"\\)$")),Rt=new RegExp("^rgba\\(".concat(At,",").concat(At,",").concat(At,",").concat(jt,"\\)$")),zt=new RegExp("^hsl\\(".concat(jt,",").concat(At,",").concat(At,"\\)$")),Lt=new RegExp("^hsla\\(".concat(jt,",").concat(At,",").concat(At,",").concat(jt,"\\)$")),Ot={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Bt(){return this.rgb().formatHex()}function Ut(){return this.rgb().formatRgb()}function Ht(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Pt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Vt(t):3===n?new Gt(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Wt(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Wt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Dt.exec(e))?new Gt(t[1],t[2],t[3],1):(t=It.exec(e))?new Gt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ft.exec(e))?Wt(t[1],t[2],t[3],t[4]):(t=Rt.exec(e))?Wt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=zt.exec(e))?Kt(t[1],t[2]/100,t[3]/100,1):(t=Lt.exec(e))?Kt(t[1],t[2]/100,t[3]/100,t[4]):Ot.hasOwnProperty(e)?Vt(Ot[e]):"transparent"===e?new Gt(NaN,NaN,NaN,0):null}function Vt(e){return new Gt(e>>16&255,e>>8&255,255&e,1)}function Wt(e,t,n,r){return r<=0&&(e=t=n=NaN),new Gt(e,t,n,r)}function qt(e,t,n,r){return 1===arguments.length?((i=e)instanceof Nt||(i=Ht(i)),i?new Gt((i=i.rgb()).r,i.g,i.b,i.opacity):new Gt):new Gt(e,t,n,null==r?1:r);var i}function Gt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Yt(){return"#".concat(Zt(this.r)).concat(Zt(this.g)).concat(Zt(this.b))}function $t(){const e=Qt(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Xt(this.r),", ").concat(Xt(this.g),", ").concat(Xt(this.b)).concat(1===e?")":", ".concat(e,")"))}function Qt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zt(e){return((e=Xt(e))<16?"0":"")+e.toString(16)}function Kt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new en(e,t,n,r)}function Jt(e){if(e instanceof en)return new en(e.h,e.s,e.l,e.opacity);if(e instanceof Nt||(e=Ht(e)),!e)return new en;if(e instanceof en)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,l=o-i,s=(o+i)/2;return l?(a=t===o?(n-r)/l+6*(n<r):n===o?(r-t)/l+2:(t-n)/l+4,l/=s<.5?o+i:2-o-i,a*=60):l=s>0&&s<1?0:a,new en(a,l,s,e.opacity)}function en(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function tn(e){return(e=(e||0)%360)<0?e+360:e}function nn(e){return Math.max(0,Math.min(1,e||0))}function rn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function on(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}kt(Nt,Ht,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Bt,formatHex:Bt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Jt(this).formatHsl()},formatRgb:Ut,toString:Ut}),kt(Gt,qt,Ct(Nt,{brighter(e){return e=null==e?Tt:Math.pow(Tt,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Et:Math.pow(Et,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gt(Xt(this.r),Xt(this.g),Xt(this.b),Qt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yt,formatHex:Yt,formatHex8:function(){return"#".concat(Zt(this.r)).concat(Zt(this.g)).concat(Zt(this.b)).concat(Zt(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:$t,toString:$t})),kt(en,function(e,t,n,r){return 1===arguments.length?Jt(e):new en(e,t,n,null==r?1:r)},Ct(Nt,{brighter(e){return e=null==e?Tt:Math.pow(Tt,e),new en(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Et:Math.pow(Et,e),new en(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Gt(rn(e>=240?e-240:e+120,i,r),rn(e,i,r),rn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new en(tn(this.h),nn(this.s),nn(this.l),Qt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qt(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(tn(this.h),", ").concat(100*nn(this.s),"%, ").concat(100*nn(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const an=e=>()=>e;function ln(e,t){return function(n){return e+n*t}}function sn(e){return 1===(e=+e)?un:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):an(isNaN(t)?n:t)}}function un(e,t){var n=t-e;return n?ln(e,n):an(isNaN(e)?t:e)}const cn=function e(t){var n=sn(t);function r(e,t){var r=n((e=qt(e)).r,(t=qt(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=un(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function fn(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),l=new Array(i);for(n=0;n<i;++n)r=qt(t[n]),o[n]=r.r||0,a[n]=r.g||0,l[n]=r.b||0;return o=e(o),a=e(a),l=e(l),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=l(e),r+""}}}fn(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,l=r<t-1?e[r+2]:2*o-i;return on((n-r/t)*t,a,i,o,l)}}),fn(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],l=e[(r+2)%t];return on((n-r/t)*t,i,o,a,l)}});var dn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hn=new RegExp(dn.source,"g");function pn(e,t){var n,r,i,o=dn.lastIndex=hn.lastIndex=0,a=-1,l=[],s=[];for(e+="",t+="";(n=dn.exec(e))&&(r=hn.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:ht(n,r)})),o=hn.lastIndex;return o<t.length&&(i=t.slice(o),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)l[(n=s[r]).i]=n.x(e);return l.join("")})}function mn(e,t){var n;return("number"===typeof t?ht:t instanceof Ht?cn:(n=Ht(t))?(t=n,cn):pn)(e,t)}function vn(e){return function(){this.removeAttribute(e)}}function gn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bn(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function yn(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function wn(e,t,n){var r,i,o;return function(){var a,l,s=n(this);if(null!=s)return(a=this.getAttribute(e))===(l=s+"")?null:a===r&&l===i?o:(i=l,o=t(r=a,s));this.removeAttribute(e)}}function xn(e,t,n){var r,i,o;return function(){var a,l,s=n(this);if(null!=s)return(a=this.getAttributeNS(e.space,e.local))===(l=s+"")?null:a===r&&l===i?o:(i=l,o=t(r=a,s));this.removeAttributeNS(e.space,e.local)}}function Sn(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function _n(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function kn(e,t){return function(){ct(this,e).delay=+t.apply(this,arguments)}}function Cn(e,t){return t=+t,function(){ct(this,e).delay=t}}function Nn(e,t){return function(){ft(this,e).duration=+t.apply(this,arguments)}}function En(e,t){return t=+t,function(){ft(this,e).duration=t}}var Tn=Re.prototype.constructor;function Mn(e){return function(){this.style.removeProperty(e)}}var jn=0;function An(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Pn(){return++jn}var Dn=Re.prototype;An.prototype=function(e){return Re().transition(e)}.prototype={constructor:An,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=C(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var l,s,u=r[a],c=u.length,f=o[a]=new Array(c),d=0;d<c;++d)(l=u[d])&&(s=e.call(l,l.__data__,d,u))&&("__data__"in l&&(s.__data__=l.__data__),f[d]=s,ut(f[d],t,n,d,f,dt(l,n)));return new An(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=E(e));for(var r=this._groups,i=r.length,o=[],a=[],l=0;l<i;++l)for(var s,u=r[l],c=u.length,f=0;f<c;++f)if(s=u[f]){for(var d,h=e.call(s,s.__data__,f,u),p=dt(s,n),m=0,v=h.length;m<v;++m)(d=h[m])&&ut(d,t,n,m,h,p);o.push(h),a.push(s)}return new An(o,a,t,n)},selectChild:Dn.selectChild,selectChildren:Dn.selectChildren,filter:function(e){"function"!==typeof e&&(e=M(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],l=a.length,s=r[i]=[],u=0;u<l;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&s.push(o);return new An(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),l=0;l<o;++l)for(var s,u=t[l],c=n[l],f=u.length,d=a[l]=new Array(f),h=0;h<f;++h)(s=u[h]||c[h])&&(d[h]=s);for(;l<r;++l)a[l]=t[l];return new An(a,this._parents,this._name,this._id)},selection:function(){return new Tn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Pn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,l=r[o],s=l.length,u=0;u<s;++u)if(a=l[u]){var c=dt(a,t);ut(a,e,n,u,l,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new An(r,this._parents,e,n)},call:Dn.call,nodes:Dn.nodes,node:Dn.node,size:Dn.size,empty:Dn.empty,each:Dn.each,on:function(e,t){var n=this._id;return arguments.length<2?dt(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?ct:ft;return function(){var a=o(this,e),l=a.on;l!==r&&(i=(r=l).copy()).on(t,n),a.on=i}}(n,e,t))},attr:function(e,t){var n=W(e),r="transform"===n?wt:mn;return this.attrTween(e,"function"===typeof t?(n.local?xn:wn)(n,r,_t(this,"attr."+e,t)):null==t?(n.local?gn:vn)(n):(n.local?yn:bn)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=W(e);return this.tween(n,(r.local?Sn:_n)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?yt:mn;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=te(this,e),a=(this.style.removeProperty(e),te(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on("end.style."+e,Mn(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var a=te(this,e),l=n(this),s=l+"";return null==l&&(this.style.removeProperty(e),s=l=te(this,e)),a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,l))}}(e,r,_t(this,"style."+e,t))).each(function(e,t){var n,r,i,o,a="style."+t,l="end."+a;return function(){var s=ft(this,e),u=s.on,c=null==s.value[a]?o||(o=Mn(t)):void 0;u===n&&i===c||(r=(n=u).copy()).on(l,i=c),s.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var a=te(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(_t(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=dt(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?xt:St)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?kn:Cn)(t,e)):dt(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Nn:En)(t,e)):dt(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){ft(this,e).ease=t}}(t,e)):dt(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;ft(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var l={value:a},s={value:function(){0===--i&&o()}};n.each(function(){var n=ft(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),n.on=t}),0===i&&o()})},[Symbol.iterator]:Dn[Symbol.iterator]};var In={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Fn(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}Re.prototype.interrupt=function(e){return this.each(function(){!function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}}(this,e)})},Re.prototype.transition=function(e){var t,n;e instanceof An?(t=e._id,e=e._name):(t=Pn(),(n=In).time=Je(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,l=r[o],s=l.length,u=0;u<s;++u)(a=l[u])&&ut(a,e,t,u,l,n||Fn(a,t));return new An(r,this._parents,e,t)};const{abs:Rn,max:zn,min:Ln}=Math;function On(e){return[+e[0],+e[1]]}function Bn(e){return[On(e[0]),On(e[1])]}["w","e"].map(Un),["n","s"].map(Un),["n","w","e","s","nw","ne","sw","se"].map(Un);function Un(e){return{type:e}}function Hn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Vn(e){return(e=Hn(Math.abs(e)))?e[1]:NaN}var Wn,qn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gn(e){if(!(t=qn.exec(e)))throw new Error("invalid format: "+e);var t;return new Yn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Yn(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function $n(e,t){var n=Hn(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Gn.prototype=Yn.prototype,Yn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Qn={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$n(100*e,t),r:$n,s:function(e,t){var n=Hn(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Wn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Hn(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Xn(e){return e}var Zn,Kn,Jn,er=Array.prototype.map,tr=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function nr(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Xn:(t=er.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,l=t[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),o.push(e.substring(i-=l,i+l)),!((s+=l+1)>r));)l=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?Xn:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(er.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"\u2212":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=Gn(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,p=e.width,m=e.comma,v=e.precision,g=e.trim,b=e.type;"n"===b?(m=!0,b="g"):Qn[b]||(void 0===v&&(v=12),g=!0,b="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var y="$"===d?i:"#"===d&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===d?o:/[%p]/.test(b)?s:"",x=Qn[b],S=/[defgprs%]/.test(b);function _(e){var i,o,s,d=y,_=w;if("c"===b)_=x(e)+_,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:x(Math.abs(e),v),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==f&&(k=!1),d=(k?"("===f?f:u:"-"===f||"("===f?"":f)+d,_=("s"===b?tr[8+Wn/3]:"")+_+(k&&"("===f?")":""),S)for(i=-1,o=e.length;++i<o;)if(48>(s=e.charCodeAt(i))||s>57){_=(46===s?a+e.slice(i+1):e.slice(i))+_,e=e.slice(0,i);break}}m&&!h&&(e=r(e,1/0));var C=d.length+e.length+_.length,N=C<p?new Array(p-C+1).join(t):"";switch(m&&h&&(e=r(N+e,N.length?p-_.length:1/0),N=""),n){case"<":e=d+e+_+N;break;case"=":e=d+N+e+_;break;case"^":e=N.slice(0,C=N.length>>1)+d+e+_+N.slice(C);break;default:e=N+d+e+_}return l(e)}return v=void 0===v?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),_.toString=function(){return e+""},_}return{format:f,formatPrefix:function(e,t){var n=f(((e=Gn(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Vn(t)/3))),i=Math.pow(10,-r),o=tr[8+r/3];return function(e){return n(i*e)+o}}}}Zn=nr({thousands:",",grouping:[3],currency:["$",""]}),Kn=Zn.format,Jn=Zn.formatPrefix;const rr=Math.sqrt(50),ir=Math.sqrt(10),or=Math.sqrt(2);function ar(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=rr?10:o>=ir?5:o>=or?2:1;let l,s,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=n&&n<2?ar(e,t,2*n):[l,s,u]}function lr(e,t,n){return ar(e=+e,t=+t,n=+n)[2]}function sr(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?lr(t,e,n):lr(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ur(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cr(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fr(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=ur,n=(t,n)=>ur(e(t),n),r=(t,n)=>e(t)-n):(t=e===ur||e===cr?e:dr,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function dr(){return 0}const hr=fr(ur),pr=hr.right,mr=(hr.left,fr(function(e){return null===e?NaN:+e}).center,pr);function vr(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=wr(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function gr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function br(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=wr(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}function yr(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function wr(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?an(t):("number"===i?ht:"string"===i?(n=Ht(t))?(t=n,cn):pn:t instanceof Ht?cn:t instanceof Date?gr:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?vr:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?br:ht:yr))(e,t)}function xr(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Sr(e){return+e}var _r=[0,1];function kr(e){return e}function Cr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Nr(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Cr(i,r),o=n(a,o)):(r=Cr(r,i),o=n(o,a)),function(e){return o(r(e))}}function Er(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Cr(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=mr(e,t,1,r)-1;return o[n](i[n](t))}}function Tr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Mr(){var e,t,n,r,i,o,a=_r,l=_r,s=wr,u=kr;function c(){var e=Math.min(a.length,l.length);return u!==kr&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?Er:Nr,i=o=null,f}function f(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),l,s)))(e(u(t)))}return f.invert=function(n){return u(t((o||(o=r(l,a.map(e),ht)))(n)))},f.domain=function(e){return arguments.length?(a=Array.from(e,Sr),c()):a.slice()},f.range=function(e){return arguments.length?(l=Array.from(e),c()):l.slice()},f.rangeRound=function(e){return l=Array.from(e),s=xr,c()},f.clamp=function(e){return arguments.length?(u=!!e||kr,c()):u!==kr},f.interpolate=function(e){return arguments.length?(s=e,c()):s},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}}function jr(){return Mr()(kr,kr)}function Ar(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Pr(e,t,n,r){var i,o=sr(e,t,n);switch((r=Gn(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Vn(t)/3)))-Vn(Math.abs(e)))}(o,a))||(r.precision=i),Jn(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vn(t)-Vn(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-Vn(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return Kn(r)}function Dr(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?ar(t,e,n):ar(e,t,n);if(!(o>=i))return[];const l=o-i+1,s=new Array(l);if(r)if(a<0)for(let u=0;u<l;++u)s[u]=(o-u)/-a;else for(let u=0;u<l;++u)s[u]=(o-u)*a;else if(a<0)for(let u=0;u<l;++u)s[u]=(i+u)/-a;else for(let u=0;u<l;++u)s[u]=(i+u)*a;return s}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Pr(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,l=o.length-1,s=o[a],u=o[l],c=10;for(u<s&&(i=s,s=u,u=i,i=a,a=l,l=i);c-- >0;){if((i=lr(s,u,n))===r)return o[a]=s,o[l]=u,t(o);if(i>0)s=Math.floor(s/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,u=Math.floor(u*i)/i}r=i}return e},e}function Ir(){var e=jr();return e.copy=function(){return Tr(e,Ir())},Ar.apply(e,arguments),Dr(e)}const Fr=1e3,Rr=6e4,zr=36e5,Lr=864e5,Or=6048e5,Br=2592e6,Ur=31536e6,Hr=new Date,Vr=new Date;function Wr(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let l;do{a.push(l=new Date(+n)),t(n,o),e(n)}while(l<n&&n<r);return a},i.filter=n=>Wr(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(Hr.setTime(+t),Vr.setTime(+r),e(Hr),e(Vr),Math.floor(n(Hr,Vr))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const qr=Wr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qr.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Wr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):qr:null);qr.range;const Gr=Wr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fr)},(e,t)=>(t-e)/Fr,e=>e.getUTCSeconds()),Yr=(Gr.range,Wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fr)},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getMinutes())),$r=(Yr.range,Wr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getUTCMinutes())),Qr=($r.range,Wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fr-e.getMinutes()*Rr)},(e,t)=>{e.setTime(+e+t*zr)},(e,t)=>(t-e)/zr,e=>e.getHours())),Xr=(Qr.range,Wr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zr)},(e,t)=>(t-e)/zr,e=>e.getUTCHours())),Zr=(Xr.range,Wr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rr)/Lr,e=>e.getDate()-1)),Kr=(Zr.range,Wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Lr,e=>e.getUTCDate()-1)),Jr=(Kr.range,Wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Lr,e=>Math.floor(e/Lr)));Jr.range;function ei(e){return Wr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rr)/Or)}const ti=ei(0),ni=ei(1),ri=ei(2),ii=ei(3),oi=ei(4),ai=ei(5),li=ei(6);ti.range,ni.range,ri.range,ii.range,oi.range,ai.range,li.range;function si(e){return Wr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Or)}const ui=si(0),ci=si(1),fi=si(2),di=si(3),hi=si(4),pi=si(5),mi=si(6),vi=(ui.range,ci.range,fi.range,di.range,hi.range,pi.range,mi.range,Wr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),gi=(vi.range,Wr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),bi=(gi.range,Wr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));bi.every=e=>isFinite(e=Math.floor(e))&&e>0?Wr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;bi.range;const yi=Wr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());yi.every=e=>isFinite(e=Math.floor(e))&&e>0?Wr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;yi.range;function wi(e,t,n,r,i,o){const a=[[Gr,1,Fr],[Gr,5,5e3],[Gr,15,15e3],[Gr,30,3e4],[o,1,Rr],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,zr],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Lr],[r,2,1728e5],[n,1,Or],[t,1,Br],[t,3,7776e6],[e,1,Ur]];function l(t,n,r){const i=Math.abs(n-t)/r,o=fr(e=>{let[,,t]=e;return t}).right(a,i);if(o===a.length)return e.every(sr(t/Ur,n/Ur,r));if(0===o)return qr.every(Math.max(sr(t,n,r),1));const[l,s]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return l.every(s)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:l(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},l]}const[xi,Si]=wi(yi,gi,ui,Jr,Xr,$r),[_i,ki]=wi(bi,vi,ti,Zr,Qr,Yr);function Ci(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ni(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ei(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Ti,Mi,ji={"-":"",_:" ",0:"0"},Ai=/^\s*\d+/,Pi=/^%/,Di=/[\\^$*+?|[\]().{}]/g;function Ii(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Fi(e){return e.replace(Di,"\\$&")}function Ri(e){return new RegExp("^(?:"+e.map(Fi).join("|")+")","i")}function zi(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Li(e,t,n){var r=Ai.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Oi(e,t,n){var r=Ai.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Bi(e,t,n){var r=Ai.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Ui(e,t,n){var r=Ai.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Hi(e,t,n){var r=Ai.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Vi(e,t,n){var r=Ai.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Wi(e,t,n){var r=Ai.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qi(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Gi(e,t,n){var r=Ai.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Yi(e,t,n){var r=Ai.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function $i(e,t,n){var r=Ai.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Qi(e,t,n){var r=Ai.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Xi(e,t,n){var r=Ai.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Zi(e,t,n){var r=Ai.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Ki(e,t,n){var r=Ai.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ji(e,t,n){var r=Ai.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function eo(e,t,n){var r=Ai.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function to(e,t,n){var r=Pi.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function no(e,t,n){var r=Ai.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function ro(e,t,n){var r=Ai.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function io(e,t){return Ii(e.getDate(),t,2)}function oo(e,t){return Ii(e.getHours(),t,2)}function ao(e,t){return Ii(e.getHours()%12||12,t,2)}function lo(e,t){return Ii(1+Zr.count(bi(e),e),t,3)}function so(e,t){return Ii(e.getMilliseconds(),t,3)}function uo(e,t){return so(e,t)+"000"}function co(e,t){return Ii(e.getMonth()+1,t,2)}function fo(e,t){return Ii(e.getMinutes(),t,2)}function ho(e,t){return Ii(e.getSeconds(),t,2)}function po(e){var t=e.getDay();return 0===t?7:t}function mo(e,t){return Ii(ti.count(bi(e)-1,e),t,2)}function vo(e){var t=e.getDay();return t>=4||0===t?oi(e):oi.ceil(e)}function go(e,t){return e=vo(e),Ii(oi.count(bi(e),e)+(4===bi(e).getDay()),t,2)}function bo(e){return e.getDay()}function yo(e,t){return Ii(ni.count(bi(e)-1,e),t,2)}function wo(e,t){return Ii(e.getFullYear()%100,t,2)}function xo(e,t){return Ii((e=vo(e)).getFullYear()%100,t,2)}function So(e,t){return Ii(e.getFullYear()%1e4,t,4)}function _o(e,t){var n=e.getDay();return Ii((e=n>=4||0===n?oi(e):oi.ceil(e)).getFullYear()%1e4,t,4)}function ko(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ii(t/60|0,"0",2)+Ii(t%60,"0",2)}function Co(e,t){return Ii(e.getUTCDate(),t,2)}function No(e,t){return Ii(e.getUTCHours(),t,2)}function Eo(e,t){return Ii(e.getUTCHours()%12||12,t,2)}function To(e,t){return Ii(1+Kr.count(yi(e),e),t,3)}function Mo(e,t){return Ii(e.getUTCMilliseconds(),t,3)}function jo(e,t){return Mo(e,t)+"000"}function Ao(e,t){return Ii(e.getUTCMonth()+1,t,2)}function Po(e,t){return Ii(e.getUTCMinutes(),t,2)}function Do(e,t){return Ii(e.getUTCSeconds(),t,2)}function Io(e){var t=e.getUTCDay();return 0===t?7:t}function Fo(e,t){return Ii(ui.count(yi(e)-1,e),t,2)}function Ro(e){var t=e.getUTCDay();return t>=4||0===t?hi(e):hi.ceil(e)}function zo(e,t){return e=Ro(e),Ii(hi.count(yi(e),e)+(4===yi(e).getUTCDay()),t,2)}function Lo(e){return e.getUTCDay()}function Oo(e,t){return Ii(ci.count(yi(e)-1,e),t,2)}function Bo(e,t){return Ii(e.getUTCFullYear()%100,t,2)}function Uo(e,t){return Ii((e=Ro(e)).getUTCFullYear()%100,t,2)}function Ho(e,t){return Ii(e.getUTCFullYear()%1e4,t,4)}function Vo(e,t){var n=e.getUTCDay();return Ii((e=n>=4||0===n?hi(e):hi.ceil(e)).getUTCFullYear()%1e4,t,4)}function Wo(){return"+0000"}function qo(){return"%"}function Go(e){return+e}function Yo(e){return Math.floor(+e/1e3)}function $o(e){return new Date(e)}function Qo(e){return e instanceof Date?+e:+new Date(+e)}function Xo(e,t,n,r,i,o,a,l,s,u){var c=jr(),f=c.invert,d=c.domain,h=u(".%L"),p=u(":%S"),m=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),b=u("%b %d"),y=u("%B"),w=u("%Y");function x(e){return(s(e)<e?h:l(e)<e?p:a(e)<e?m:o(e)<e?v:r(e)<e?i(e)<e?g:b:n(e)<e?y:w)(e)}return c.invert=function(e){return new Date(f(e))},c.domain=function(e){return arguments.length?d(Array.from(e,Qo)):d().map($o)},c.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?x:u(t)},c.nice=function(e){var n=d();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(function(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}(n,e)):c},c.copy=function(){return Tr(c,Xo(e,t,n,r,i,o,a,l,s,u))},c}function Zo(){return Ar.apply(Xo(_i,ki,bi,vi,ti,Zr,Qr,Yr,Gr,Mi).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}!function(e){Ti=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,l=e.months,s=e.shortMonths,u=Ri(i),c=zi(i),f=Ri(o),d=zi(o),h=Ri(a),p=zi(a),m=Ri(l),v=zi(l),g=Ri(s),b=zi(s),y={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return s[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:null,d:io,e:io,f:uo,g:xo,G:_o,H:oo,I:ao,j:lo,L:so,m:co,M:fo,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Go,s:Yo,S:ho,u:po,U:mo,V:go,w:bo,W:yo,x:null,X:null,y:wo,Y:So,Z:ko,"%":qo},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return s[e.getUTCMonth()]},B:function(e){return l[e.getUTCMonth()]},c:null,d:Co,e:Co,f:jo,g:Uo,G:Vo,H:No,I:Eo,j:To,L:Mo,m:Ao,M:Po,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Go,s:Yo,S:Do,u:Io,U:Fo,V:zo,w:Lo,W:Oo,x:null,X:null,y:Bo,Y:Ho,Z:Wo,"%":qo},x={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:$i,e:$i,f:eo,g:Wi,G:Vi,H:Xi,I:Xi,j:Qi,L:Ji,m:Yi,M:Zi,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:Gi,Q:no,s:ro,S:Ki,u:Oi,U:Bi,V:Ui,w:Li,W:Hi,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:Wi,Y:Vi,Z:qi,"%":to};function S(e,t){return function(n){var r,i,o,a=[],l=-1,s=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++l<u;)37===e.charCodeAt(l)&&(a.push(e.slice(s,l)),null!=(i=ji[r=e.charAt(++l)])?r=e.charAt(++l):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),s=l+1);return a.push(e.slice(s,l)),a.join("")}}function _(e,t){return function(n){var r,i,o=Ei(1900,void 0,1);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Ni(Ei(o.y,0,1))).getUTCDay(),r=i>4||0===i?ci.ceil(r):ci(r),r=Kr.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Ci(Ei(o.y,0,1))).getDay(),r=i>4||0===i?ni.ceil(r):ni(r),r=Zr.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Ni(Ei(o.y,0,1)).getUTCDay():Ci(Ei(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Ni(o)):Ci(o)}}function k(e,t,n,r){for(var i,o,a=0,l=t.length,s=n.length;a<l;){if(r>=s)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in ji?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return y.x=S(n,y),y.X=S(r,y),y.c=S(t,y),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),{format:function(e){var t=S(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}(e),Mi=Ti.format,Ti.parse,Ti.utcFormat,Ti.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Ko=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Jo(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}function ea(e){return"string"===typeof e?new Ie([[document.querySelector(e)]],[document.documentElement]):new Ie([[e]],De)}var ta,na,ra,ia,oa,aa,la,sa,ua,ca,fa,da,ha,pa;Array.prototype.slice;function ma(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function va(e){return function(){return e}}function ga(e){this._context=e}function ba(e){return new ga(e)}function ya(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}ga.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};const wa=Math.PI,xa=2*wa,Sa=1e-6,_a=xa-Sa;function ka(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Ca{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?ka:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return ka;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(ta||(ta=ya(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(na||(na=ya(["Z"]))))}lineTo(e,t){this._append(ra||(ra=ya(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(ia||(ia=ya(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,o){this._append(oa||(oa=ya(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+o)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let o=this._x1,a=this._y1,l=n-e,s=r-t,u=o-e,c=a-t,f=u*u+c*c;if(null===this._x1)this._append(aa||(aa=ya(["M",",",""])),this._x1=e,this._y1=t);else if(f>Sa)if(Math.abs(c*l-s*u)>Sa&&i){let d=n-o,h=r-a,p=l*l+s*s,m=d*d+h*h,v=Math.sqrt(p),g=Math.sqrt(f),b=i*Math.tan((wa-Math.acos((p+f-m)/(2*v*g)))/2),y=b/g,w=b/v;Math.abs(y-1)>Sa&&this._append(sa||(sa=ya(["L",",",""])),e+y*u,t+y*c),this._append(ua||(ua=ya(["A",",",",0,0,",",",",",""])),i,i,+(c*d>u*h),this._x1=e+w*l,this._y1=t+w*s)}else this._append(la||(la=ya(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),l=n*Math.sin(r),s=e+a,u=t+l,c=1^o,f=o?r-i:i-r;null===this._x1?this._append(ca||(ca=ya(["M",",",""])),s,u):(Math.abs(this._x1-s)>Sa||Math.abs(this._y1-u)>Sa)&&this._append(fa||(fa=ya(["L",",",""])),s,u),n&&(f<0&&(f=f%xa+xa),f>_a?this._append(da||(da=ya(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,c,e-a,t-l,n,n,c,this._x1=s,this._y1=u):f>Sa&&this._append(ha||(ha=ya(["A",",",",0,",",",",",",",""])),n,n,+(f>=wa),c,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(pa||(pa=ya(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function Na(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new Ca(t)}function Ea(e){return e[0]}function Ta(e){return e[1]}function Ma(e,t){var n=va(!0),r=null,i=ba,o=null,a=Na(l);function l(l){var s,u,c,f=(l=ma(l)).length,d=!1;for(null==r&&(o=i(c=a())),s=0;s<=f;++s)!(s<f&&n(u=l[s],s,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(u,s,l),+t(u,s,l));if(c)return o=null,c+""||null}return e="function"===typeof e?e:void 0===e?Ea:va(e),t="function"===typeof t?t:void 0===t?Ta:va(t),l.x=function(t){return arguments.length?(e="function"===typeof t?t:va(+t),l):e},l.y=function(e){return arguments.length?(t="function"===typeof e?e:va(+e),l):t},l.defined=function(e){return arguments.length?(n="function"===typeof e?e:va(!!e),l):n},l.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),l):i},l.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),l):r},l}function ja(e,t,n){this.k=e,this.x=t,this.y=n}ja.prototype={constructor:ja,scale:function(e){return 1===e?this:new ja(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new ja(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new ja(1,0,0);ja.prototype;const Aa=function(t){let{channels:n=[],windowSize:r=4096,height:i=220,sampleRate:o=256,badLabels:a=[],autoHeight:l=!1}=t;const s=(0,e.useRef)(null),[c,f]=(0,e.useState)(i),d=o;(0,e.useEffect)(()=>{l||f(i)},[i,l]);const h=(0,e.useMemo)(()=>{const e=Ko;return n.filter(e=>e.samples&&e.samples.length>0).map((t,n)=>{const i=t.samples.slice(-r),o=function(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}(i),a=function(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}(i),l=.1*(a-o||Math.abs(a)||1);return{id:t.label||t.electrode,color:e[n%e.length],samples:i,min:o-l,max:a+l}})},[n,r]);if((0,e.useEffect)(()=>{if(!s.current||!l)return;const e=s.current.parentElement;if(!e)return;const t=()=>{var t;const n=null===(t=s.current)||void 0===t?void 0:t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=(null===n||void 0===n?void 0:n.height)||0||r.height||i;o!==c&&f(o)};t();let n=null;return"undefined"!==typeof ResizeObserver?(n=new ResizeObserver(()=>t()),n.observe(s.current),n.observe(e)):window.addEventListener("resize",t),()=>{n?n.disconnect():window.removeEventListener("resize",t)}},[c,l,i]),(0,e.useEffect)(()=>{if(!s.current||0===h.length)return;const e=ea(s.current);e.selectAll("*").remove();const t=28,n=t+r,i=c-20,o=i/h.length;h.forEach((i,l)=>{const s=l*o,u=a.includes(i.id),c=Ir().domain([0,r]).range([0,n-t]),f=Ir().domain([i.min,i.max]).range([o,0]),d=Ma().x((e,n)=>t+c(n)).y(e=>s+f(e));e.append("path").datum(i.samples).attr("fill","none").attr("stroke",u?"#f97316":i.color).attr("stroke-width",1.2).attr("d",d),e.append("text").attr("x",4).attr("y",s+12).attr("fill",u?"#fbbf24":"rgba(255,255,255,0.7)").attr("font-size",10).text(u?"".concat(i.id," (bad)"):i.id)});const l=r/d;for(let r=0;r<=4;r++){const i=r/4,o=t+i*(n-t),a="-".concat(Math.round((1-i)*l),"s");e.append("text").attr("x",o).attr("y",c-4).attr("fill","rgba(255,255,255,0.6)").attr("font-size",10).attr("text-anchor",4===r?"end":0===r?"start":"middle").text(4===r?"0s":a)}e.append("line").attr("x1",t).attr("y1",0).attr("x2",t).attr("y2",i).attr("stroke","rgba(255,255,255,0.35)").attr("stroke-width",1),e.append("line").attr("x1",t).attr("y1",i).attr("x2",n).attr("y2",i).attr("stroke","rgba(255,255,255,0.35)").attr("stroke-width",1)},[h,c,r,d,a]),0===h.length)return(0,u.jsx)("p",{className:"subdued",children:"No samples to plot."});const p=28+r;return(0,u.jsx)("svg",{ref:s,width:"100%",height:c,viewBox:"0 0 ".concat(p," ").concat(c),preserveAspectRatio:"none",style:{display:"block",width:"100%"}})};const Pa=function(e){let{museIsConnected:t,statusLabel:n,statusMessage:r,channelsDetected:i,diag:o,fftWindow:a,fftBeat:l,dataStale:s,reconnectAttempts:c,telemetry:f,telemetryAge:d,lastSampleAt:h,lastPpg:p,ppgAge:m,latestAccel:v,latestGyro:g}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"inline-status",children:[(0,u.jsxs)("span",{className:"status-pill ".concat(t?"":"warn"),children:["Device: ",n]}),(0,u.jsxs)("span",{className:"status-pill",children:["Status: ",r]})]}),i.length>0&&(0,u.jsxs)("p",{className:"subdued",children:["Channels detected: ",i.join(" \u2022 ")]}),(0,u.jsxs)("div",{className:"inline-status",children:[(0,u.jsxs)("span",{className:"status-pill",children:["Mapped: ",o.mapped]}),(0,u.jsxs)("span",{className:"status-pill",children:["With samples: ",o.withSamples]}),(0,u.jsxs)("span",{className:"status-pill",children:["FFT ready: ",o.withFFT]}),(0,u.jsxs)("span",{className:"status-pill",children:["Below ",a," samples: ",o.belowThreshold]}),(0,u.jsxs)("span",{className:"status-pill",children:["Periodograms stored: ",o.totalPeriodograms]}),(0,u.jsxs)("span",{className:"status-pill heartbeat ".concat(null!==l&&l<5?"alive":""),children:["Last FFT: ",o.lastFFT?"".concat(l,"s ago"):"\u2014"]}),s&&(0,u.jsxs)("span",{className:"status-pill",style:{background:"#6d2828",color:"#fff"},children:["Data stale, reconnecting",c>0?" (".concat(c,")"):""]})]}),(0,u.jsxs)("div",{className:"inline-status",children:[(0,u.jsxs)("span",{className:"status-pill",children:["Battery: ",null!=(null===f||void 0===f?void 0:f.batteryLevel)?"".concat(f.batteryLevel,"%"):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Voltage: ",null!=(null===f||void 0===f?void 0:f.fuelGaugeVoltage)?"".concat(f.fuelGaugeVoltage.toFixed(2),"V"):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Temp: ",null!=(null===f||void 0===f?void 0:f.temperature)?"".concat(f.temperature.toFixed(1),"\xb0C"):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Telemetry age: ",null!=d?"".concat(d,"s"):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Last sample: ",h?h.toLocaleString():"\u2014"]})]}),(0,u.jsxs)("div",{className:"inline-status",children:[(0,u.jsxs)("span",{className:"status-pill",children:["PPG: ",p?"ch ".concat(p.ppgChannel," \xb7 ").concat(p.samples.length," samples (").concat(m,"s ago)"):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Accel: ",Number.isFinite(null===v||void 0===v?void 0:v.x)&&Number.isFinite(null===v||void 0===v?void 0:v.y)&&Number.isFinite(null===v||void 0===v?void 0:v.z)?"".concat(v.x.toFixed(2),", ").concat(v.y.toFixed(2),", ").concat(v.z.toFixed(2)):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Gyro: ",Number.isFinite(null===g||void 0===g?void 0:g.x)&&Number.isFinite(null===g||void 0===g?void 0:g.y)&&Number.isFinite(null===g||void 0===g?void 0:g.z)?"".concat(g.x.toFixed(2),", ").concat(g.y.toFixed(2),", ").concat(g.z.toFixed(2)):"\u2014"]})]})]})};const Da=function(t){let{channelMaps:n=[],eegData:r=[],channelsForDisplay:i=[],fftWindow:o,lastFFT:a,telemetry:l,lastEegReceivedAt:s,lastPpg:u,lastAccel:c,lastGyro:f,museStatus:d,dataStale:h,isStreaming:p}=t;const m=d.isConnected?"Connected":d.isConnecting?"Connecting":"Disconnected",v=d.error?d.error:h?"Stale data":p?"Streaming":"Idle",g=(0,e.useMemo)(()=>{const e=n.length,t=(r||[]).filter(Boolean);return{mapped:e,withSamples:t.filter(e=>{var t;return((null===(t=e.samples)||void 0===t?void 0:t.length)||0)>0}).length,withFFT:t.filter(e=>{var t;return((null===(t=e.samples)||void 0===t?void 0:t.length)||0)>=o}).length,belowThreshold:t.filter(e=>{var t;return((null===(t=e.samples)||void 0===t?void 0:t.length)||0)>0&&e.samples.length<o}).length,totalPeriodograms:t.reduce((e,t)=>{var n;return e+((null===(n=t.periodograms)||void 0===n?void 0:n.length)||0)},0),lastFFT:a}},[n,r,o,a]),b=(0,e.useMemo)(()=>({checked:(i||[]).length,badLabels:(i||[]).filter(e=>{var t,n;return(null===e||void 0===e||null===(t=e.artifactLatest)||void 0===t?void 0:t.amplitudeArtifact)||(null===e||void 0===e||null===(n=e.artifactLatest)||void 0===n?void 0:n.lineNoiseArtifact)}).map(e=>e.label||"CH ".concat(e.electrode))}),[i]);return{statusLabel:m,statusMessage:v,diag:g,signalQuality:b,signalRejectionPct:b.checked>0?Math.round(b.badLabels.length/b.checked*100):0,fftBeat:g.lastFFT?Math.max(0,Math.round((Date.now()-g.lastFFT)/1e3)):null,telemetryAge:null!==l&&void 0!==l&&l.receivedAt?Math.max(0,Math.round((Date.now()-l.receivedAt)/1e3)):null,lastSampleAt:s.current?new Date(s.current):null,ppgAge:null!==u&&void 0!==u&&u.receivedAt?Math.max(0,Math.round((Date.now()-u.receivedAt)/1e3)):null,latestAccel:c,latestGyro:f}},Ia=256,Fa=64,Ra=1024,za=4096,La=1024;const Oa=function(t){var n,r,i;let{onEegPacket:o,onPpgPacket:a,onChannelMap:s,onTelemetryPacket:c,onAccelerometerPacket:h,onGyroPacket:p,onDeviceInfo:m,onStreamStatus:v,eegData:g=[],ppgChannels:b=[],channelMaps:y=[],onDeviceDebug:w,selectedChannels:x=[],onToggleChannel:S,availableChannels:_=[],availablePpgChannels:k=[],selectedPpgChannels:C=[],onTogglePpgChannel:N,shareTelemetry:E=!0,shareAccelerometer:T=!0,shareGyro:M=!0,onToggleShareTelemetry:j,onToggleShareAccelerometer:A,onToggleShareGyro:P,deviceInfo:D,ppgLabelMap:I,deviceType:F,lastFFT:R=null,sampleRateHz:z=Ia,ppgSampleRateHz:L=Fa,fftWindow:O=Ra,traceWindow:B=za,ppgTraceWindow:U=La}=t;const[H,V]=(0,e.useState)(null),[W,q]=(0,e.useState)(null),[G,Y]=(0,e.useState)(null),[$,Q]=(0,e.useState)(null),[X,Z]=(0,e.useState)({supported:"undefined"!==typeof navigator&&!!navigator.bluetooth,available:null}),K=(0,e.useRef)(null),J=(0,e.useRef)(0),ee=(0,e.useRef)(!1),[te,ne]=(0,e.useState)(!1),[re,ie]=(0,e.useState)(!1),[oe,ae]=(0,e.useState)({isConnected:!1,isConnecting:!1,error:null}),[le,se]=(0,e.useState)({attempts:0,lastAttemptAt:null,status:"idle",reason:null}),[ue,ce]=(0,e.useState)([]),fe=(0,e.useRef)(0),de=(0,e.useRef)(null),he=(0,e.useRef)(!1),pe=(0,e.useRef)(null),me=(0,e.useRef)(0),ve=(0,e.useRef)(null),ge=(0,e.useRef)(null),be="undefined"!==typeof navigator&&"wakeLock"in navigator,ye=(0,e.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ce(n=>[...n,{t:Date.now(),msg:e,data:t}].slice(-200))},[]);(0,e.useEffect)(()=>{var e;const t=null===oe||void 0===oe||null===(e=oe.debugInfo)||void 0===e?void 0:e.steps;if(!t||0===t.length)return;const n=t.filter(e=>e.t>fe.current);n.length>0&&ce(e=>{const t=n.map(e=>({t:e.t,msg:e.msg,source:"driver"}));fe.current=Math.max(fe.current,...t.map(e=>e.t));return[...e,...t].sort((e,t)=>e.t-t.t).slice(-200)})},[null===oe||void 0===oe||null===(n=oe.debugInfo)||void 0===n?void 0:n.steps]),(0,e.useEffect)(()=>{oe.isConnected?ve.current||(ve.current=Date.now(),ye("Connection established (app layer)",{at:ve.current})):(ve.current&&ye("Connection lost (app layer)"),ve.current=null,K.current=null,ee.current=!1,ne(!1),ie(!1));const e=setInterval(()=>{const e=Date.now(),t=K.current,n=(ve.current?e-ve.current:0)<15e3;let r=!1;oe.isConnected&&(r=!!n||!!t&&e-t<8e3),ee.current!==r&&(ee.current=r,ne(r),!r&&oe.isConnected?ye("Data stream stale (last: ".concat(t?e-t:"never","ms ago)")):r&&oe.isConnected&&ye("Data stream active/fresh"));const i=oe.isConnected&&!r;ie(i)},1e3);return()=>clearInterval(e)},[oe.isConnected,ye]);const we=(0,e.useCallback)(e=>{var t;if(oe.isConnecting)return void ye("Auto-reconnect skipped: already connecting (".concat(e,")"));if(null===(t=de.current)||void 0===t||!t.reconnect)return void ye("Auto-reconnect skipped: reconnect unavailable (".concat(e,")"));const n=Date.now();he.current?ye("Auto-reconnect skipped: in flight (".concat(e,")")):n-me.current<1e4?ye("Auto-reconnect skipped: cooldown (".concat(e,")")):(he.current=!0,me.current=n,ye("Initiating auto-reconnect (reason: ".concat(e,")")),pe.current=e,se(t=>({attempts:t.attempts+1,lastAttemptAt:n,status:"attempting",reason:e})),de.current.reconnect().then(()=>{ye("Auto-reconnect promise resolved")}).catch(e=>{console.warn("Auto-reconnect failed",e),ye("Auto-reconnect failed: ".concat(e.message))}).finally(()=>{he.current=!1,se(e=>l(l({},e),{},{status:"idle"}))}))},[oe.isConnecting,ye]);(0,e.useEffect)(()=>{re&&(oe.isConnected?K.current?we("stale-data"):ye("Auto-reconnect skipped: no EEG timestamp during stale check"):ye("Auto-reconnect skipped: not connected during stale check"))},[we,re,oe.isConnected,ye]),(0,e.useEffect)(()=>{te&&pe.current&&(ye("Auto-reconnect succeeded"),pe.current=null)},[te,ye]),(0,e.useEffect)(()=>{oe.isConnected||oe.isConnecting||"Device disconnected"===oe.error&&we("disconnect")},[we,oe.error,oe.isConnected,oe.isConnecting]),(0,e.useEffect)(()=>{if(!be)return;let e=!1;const t=async()=>{if(ge.current)try{await ge.current.release()}catch(e){console.warn("Failed to release wake lock",e)}finally{ge.current=null}},n=async()=>{if(!ge.current&&te&&"visible"===document.visibilityState)try{ge.current=await navigator.wakeLock.request("screen")}catch(e){console.warn("Failed to acquire wake lock",e)}};te?n():t();const r=()=>{"visible"===document.visibilityState?n():t()};return document.addEventListener("visibilitychange",r),()=>{e=!0,document.removeEventListener("visibilitychange",r),t()}},[te,be]);const xe=(0,e.useCallback)(e=>{Array.isArray(e)&&0!==e.length&&s&&s(e)},[s]),Se=(0,e.useCallback)(e=>{K.current=Date.now(),J.current+=1,ee.current||(ee.current=!0,ne(!0)),o&&o(e)},[o]),_e=(0,e.useCallback)(e=>{e&&"number"===typeof e.ppgChannel&&(e.ppgChannel>2||(q(l(l({},e),{},{receivedAt:Date.now()})),a&&a(e)))},[a]),ke=(0,e.useCallback)(e=>{const t=Date.now(),n=l(l({},e),{},{receivedAt:t});V(n),E&&c&&c(n)},[c,E]),Ce=(0,e.useCallback)(e=>{const t=l(l({},e),{},{receivedAt:Date.now()});Y(t),T&&h&&h(t)},[h,T]),Ne=(0,e.useCallback)(e=>{const t=l(l({},e),{},{receivedAt:Date.now()});Q(t),M&&p&&p(t)},[p,M]),Ee=Array.isArray(g)?g.filter(Boolean):[],Te=(0,e.useMemo)(()=>(b||[]).filter(e=>e&&e.samples.length>0&&e.ppgChannel<=2),[b]),{statusLabel:Me,statusMessage:je,diag:Ae,fftBeat:Pe,telemetryAge:De,lastSampleAt:Ie,ppgAge:Fe,latestAccel:Re,latestGyro:ze}=Da({channelMaps:y,eegData:g,channelsForDisplay:Ee,fftWindow:O,lastFFT:R,telemetry:H,lastEegReceivedAt:K,lastPpg:W,lastAccel:G,lastGyro:$,museStatus:oe,dataStale:re,isStreaming:te});return(0,e.useEffect)(()=>{w&&w({eventLog:ue})},[ue,w]),(0,e.useEffect)(()=>{v&&v({isStreaming:te,dataStale:re,isConnected:oe.isConnected,isConnecting:oe.isConnecting})},[v,te,re,oe.isConnected,oe.isConnecting]),(0,e.useEffect)(()=>{if(!("undefined"!==typeof navigator&&!!navigator.bluetooth))return void Z({supported:!1,available:!1});let e=!1;const t=navigator.bluetooth;(async()=>{if(t.getAvailability)try{const n=await t.getAvailability();e||Z({supported:!0,available:n})}catch(n){e||Z({supported:!0,available:null})}else e||Z({supported:!0,available:null})})();const n=e=>{const t="boolean"===typeof(null===e||void 0===e?void 0:e.value)?e.value:null;Z({supported:!0,available:t})};return t.addEventListener&&t.getAvailability&&t.addEventListener("availabilitychanged",n),()=>{e=!0,t.removeEventListener&&t.getAvailability&&t.removeEventListener("availabilitychanged",n)}},[]),(0,u.jsxs)("div",{className:"device-panel",children:[(0,u.jsxs)("div",{className:"device-status",children:[(0,u.jsx)(f,{ref:de,onNewData:Se,updateChannelMaps:xe,onTelemetry:ke,onPpg:_e,onAccelerometer:Ce,onGyro:Ne,onStatusChange:ae,onDeviceInfo:m}),(0,u.jsx)(Pa,{museIsConnected:oe.isConnected,statusLabel:Me,statusMessage:je,channelsDetected:y,diag:Ae,fftWindow:O,fftBeat:Pe,dataStale:re,reconnectAttempts:le.attempts,telemetry:H,telemetryAge:De,lastSampleAt:Ie,lastPpg:W,ppgAge:Fe,latestAccel:Re,latestGyro:ze})]}),(0,u.jsxs)("div",{className:"config-weights",children:[(0,u.jsx)(d,{title:"EEG Channels",helperText:"Selections control what the app uses for analysis/export; Device Control still shows all channels.",availableChannels:y.length>0?y:_,selectedChannels:x,onToggleChannel:S}),(0,u.jsx)(d,{title:"PPG Channels",helperText:"Selections control what the app uses for heart/PPG views; Device Control still shows all channels.",availableChannels:k,selectedChannels:C,onToggleChannel:N}),(0,u.jsxs)("div",{className:"config-weights",children:[(0,u.jsx)("p",{className:"chart-label",children:"Detected Device"}),(0,u.jsxs)("div",{className:"inline-status",style:{flexWrap:"wrap"},children:[(0,u.jsxs)("span",{className:"status-pill",children:["Type: ",F||"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["HW: ",(null===D||void 0===D?void 0:D.hw)||"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["FW: ",(null===D||void 0===D?void 0:D.fw)||"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Serial: ",(null===D||void 0===D?void 0:D.bn)||"\u2014"]})]}),(0,u.jsxs)("p",{className:"subdued",children:["PPG mapping: ",null!==I&&void 0!==I&&I.labels?Object.entries(I.labels).map(e=>{let[t,n]=e;return"ch ".concat(t," \u2192 ").concat(n)}).join(" \xb7 "):"\u2014"]})]}),(0,u.jsxs)("div",{className:"config-weights",children:[(0,u.jsx)("p",{className:"chart-label",children:"Bluetooth Status"}),(0,u.jsxs)("div",{className:"inline-status",style:{flexWrap:"wrap"},children:[(0,u.jsxs)("span",{className:"status-pill",children:["Supported: ",X.supported?"yes":"no"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Availability: ",null==X.available?"unknown":X.available?"on":"off"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Mode: ",(null===(r=oe.debugInfo)||void 0===r?void 0:r.mode)||"\u2014"]})]}),(0,u.jsxs)("p",{className:"subdued",children:["Trigger: ",(null===(i=oe.debugInfo)||void 0===i?void 0:i.trigger)||"\u2014"]})]}),(0,u.jsxs)("div",{className:"config-weights",children:[(0,u.jsx)("p",{className:"chart-label",children:"Other Sensors"}),(0,u.jsxs)("div",{className:"config-list",children:[(0,u.jsxs)("label",{className:"config-option",children:[(0,u.jsx)("input",{type:"checkbox",checked:E,onChange:()=>j&&j()}),(0,u.jsx)("span",{children:"Telemetry (battery)"})]}),(0,u.jsxs)("label",{className:"config-option",children:[(0,u.jsx)("input",{type:"checkbox",checked:T,onChange:()=>A&&A()}),(0,u.jsx)("span",{children:"Accelerometer"})]}),(0,u.jsxs)("label",{className:"config-option",children:[(0,u.jsx)("input",{type:"checkbox",checked:M,onChange:()=>P&&P()}),(0,u.jsx)("span",{children:"Gyroscope"})]})]}),(0,u.jsx)("p",{className:"subdued",children:"These toggles control whether sensor data is forwarded to the app."})]})]}),(0,u.jsxs)("div",{className:"chart-block chart-fill",style:{marginTop:10},children:[(0,u.jsxs)("p",{className:"chart-label",children:["Combined EEG traces (per sensor, last ",B," samples)"]}),(0,u.jsx)("div",{className:"chart-frame",children:(0,u.jsx)(Aa,{channels:Ee.filter(e=>e.samples.length>0),windowSize:B,autoHeight:!0})})]}),(0,u.jsxs)("div",{className:"chart-block",style:{marginTop:10},children:[(0,u.jsxs)("p",{className:"chart-label",children:["Raw PPG traces (last ",U," samples)"]}),Te.length>0?(0,u.jsx)(Aa,{channels:Te,windowSize:U,sampleRate:L,height:160}):(0,u.jsx)("p",{className:"subdued",children:"Waiting for PPG data."})]})]})};const Ba=function(t){let{channel:n,negative:r=!1,targets:i=[],targetHistory:o={},durationSec:a,height:l=140}=t;const s=(0,e.useMemo)(()=>({alpha:"#f97316",beta:"#06b6d4",gamma:"#8b5cf6",delta:"#22c55e",theta:"#facc15"}),[]),c=Object.keys(n),f=c.length>0?n[c[0]].length:0,d=(0,e.useRef)(null),[h,p]=(0,e.useState)(200),m=l,v=6,g=8,b=36,y=m-v-28;return(0,e.useEffect)(()=>{var e;if(!d.current)return;if(0===f&&0===i.length)return;const t=(null===(e=d.current.parentElement)||void 0===e?void 0:e.clientWidth)||200;t!==h&&p(t);const l=ea(d.current);l.selectAll("*").remove();const u=t-b-g,m=c.some(e=>(n[e]||[]).some(e=>e&&"object"===typeof e&&null!=e.t)),w=m?function(e,t){let n,r;if(void 0===t)for(const i of e)null!=i&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}(c.flatMap(e=>(n[e]||[]).map(e=>e&&"object"===typeof e?e.t:null).filter(e=>null!=e))):null,k=w?w[1]:null,C=m&&w&&null!=w[0]&&null!=w[1]?Zo().domain(w.map(e=>new Date(e))).range([0,u]):Ir().domain([0,Math.max(1,f-1)]).range([0,u]),N=i.flatMap(e=>{const t=e.tolerance||0;return[e.target-t,e.target+t]}),E=Object.values(o||{}).flatMap(e=>Array.isArray(e)?e.flatMap(e=>{const t=(null===e||void 0===e?void 0:e.tolerance)||0;return[(null===e||void 0===e?void 0:e.target)-t,(null===e||void 0===e?void 0:e.target)+t]}):[]),T=Object.values(o||{}).flatMap(e=>Array.isArray(e)?e.map(e=>"number"===typeof(null===e||void 0===e?void 0:e.sensitivity)?e.sensitivity:null).filter(e=>null!=e):[]),M=[...c.flatMap(e=>(n[e]||[]).map(e=>e&&"object"===typeof e?e.v:e)),...N,...E].filter(e=>"number"===typeof e&&Number.isFinite(e)),j=M.length?Math.min(...M):null,A=M.length?Math.max(...M):null,P=r?-1:0,D=Math.min(P,null!=j?j:P),I=Math.max(1,null!=A?A:1),F=.08*(I-D),R=Ir().domain([D-F,I+F]).range([y,0]),z=l.append("g").attr("transform","translate(".concat(b,",").concat(v,")"));if(i.forEach(e=>{const t=e.target,n=e.tolerance||0,i=R(Math.min(1,t+n)),o=R(Math.max(r?-1:0,t-n));z.append("rect").attr("x",0).attr("width",u).attr("y",i).attr("height",Math.max(0,o-i)).attr("fill",s[e.band]||"#fff").attr("opacity",.12)}),m&&w&&Object.keys(o||{}).length>0){const e=l.append("g").attr("transform","translate(".concat(b,",").concat(v,")"));Object.entries(o).forEach(t=>{let[n,r]=t;if(!Array.isArray(r)||r.length<2)return;const i=[...r].filter(e=>e&&null!=e.t).sort((e,t)=>e.t-t.t);if(i.length<2)return;const o=function(e,t,n){var r=null,i=va(!0),o=null,a=ba,l=null,s=Na(u);function u(u){var c,f,d,h,p,m=(u=ma(u)).length,v=!1,g=new Array(m),b=new Array(m);for(null==o&&(l=a(p=s())),c=0;c<=m;++c){if(!(c<m&&i(h=u[c],c,u))===v)if(v=!v)f=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),d=c-1;d>=f;--d)l.point(g[d],b[d]);l.lineEnd(),l.areaEnd()}v&&(g[c]=+e(h,c,u),b[c]=+t(h,c,u),l.point(r?+r(h,c,u):g[c],n?+n(h,c,u):b[c]))}if(p)return l=null,p+""||null}function c(){return Ma().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?Ea:va(+e),t="function"===typeof t?t:va(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?Ta:va(+n),u.x=function(t){return arguments.length?(e="function"===typeof t?t:va(+t),r=null,u):e},u.x0=function(t){return arguments.length?(e="function"===typeof t?t:va(+t),u):e},u.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:va(+e),u):r},u.y=function(e){return arguments.length?(t="function"===typeof e?e:va(+e),n=null,u):t},u.y0=function(e){return arguments.length?(t="function"===typeof e?e:va(+e),u):t},u.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:va(+e),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(e){return arguments.length?(i="function"===typeof e?e:va(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(l=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=l=null:l=a(o=e),u):o},u}().x(e=>C(new Date(e.t))).y0(e=>R(e.target-(e.tolerance||0))).y1(e=>R(e.target+(e.tolerance||0))),a=Ma().x(e=>C(new Date(e.t))).y(e=>R(e.target));e.append("path").datum(i).attr("fill",s[n]||"#fff").attr("opacity",.18).attr("d",o),e.append("path").datum(i).attr("fill","none").attr("stroke",s[n]||"#fff").attr("stroke-width",1).attr("opacity",.5).attr("d",a)})}if(m&&T.length>0){const e=Math.min(...T),t=Math.max(...T),n=Math.max(.05,.2*(t-e)),r=Ir().domain([e-n,t+n]).range([y,0]),i=l.append("g").attr("transform","translate(".concat(b,",").concat(v,")"));Object.entries(o).forEach(e=>{let[t,n]=e;if(!Array.isArray(n)||n.length<2)return;const o=[...n].filter(e=>e&&null!=e.t&&"number"===typeof e.sensitivity).sort((e,t)=>e.t-t.t);if(o.length<2)return;const a=Ma().x(e=>C(new Date(e.t))).y(e=>r(e.sensitivity));i.append("path").datum(o).attr("fill","none").attr("stroke",s[t]||"#fff").attr("stroke-width",1).attr("stroke-dasharray","4 3").attr("opacity",.7).attr("d",a)}),l.append("g").attr("transform","translate(".concat(b+u,", ").concat(v,")")).call(x(r).ticks(3)),l.append("text").attr("x",b+u+6).attr("y",v+10).attr("fill","rgba(255,255,255,0.6)").attr("font-size",10).text("Sens")}const L=l.append("g").attr("transform","translate(".concat(b,",").concat(v,")")),O=Ma().x((e,t)=>m&&null!=e._t?C(new Date(e._t)):C(e._xIdx)).y(e=>R(e.v));c.forEach(e=>{const t=(n[e]||[]).map((e,t)=>{var n;return e&&"object"===typeof e?{v:e.v,_xIdx:t,_t:null!==(n=e.t)&&void 0!==n?n:null}:{v:e,_xIdx:t,_t:null}});let r;r=t.length>0&&null!=t[0]._t?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;if(!e||e.length<2)return[e];const r=[];let i=0;for(let o=1;o<e.length;++o)t(e[o])-t(e[o-1])>n&&(r.push(e.slice(i,o)),i=o);return i<e.length&&r.push(e.slice(i)),r}(t,e=>e._t,2e3):[t],r.forEach(t=>{t.length<2||L.append("path").datum(t).attr("fill","none").attr("stroke",s[e]||"#fff").attr("stroke-width",1.5).attr("d",O)})});const B=a||f-1,U=m&&k?S(C).ticks(4).tickFormat(e=>{const t=Math.max(0,(k-new Date(e).getTime())/1e3);return 0===t?"0s":"-".concat(Math.round(t),"s")}):S(C).ticks(4).tickFormat(e=>{const t=Math.max(0,B*(1-e/Math.max(1,f-1)));return e>=f-1?"0s":"-".concat(Math.round(t),"s")});l.append("g").attr("transform","translate(".concat(b,", ").concat(v+y,")")).call(U),l.append("g").attr("transform","translate(".concat(b,", ").concat(v,")")).call(_(R).ticks(4).tickFormat(Kn(".1f")))},[f,c,n,r,s,h,i,o,a,y,b,g,v]),(0,u.jsx)("svg",{ref:d,width:"100%",height:m})},Ua=[{key:"delta",label:"Delta",min:.5,max:4},{key:"theta",label:"Theta",min:4,max:8},{key:"alpha",label:"Alpha",min:8,max:12},{key:"beta",label:"Beta",min:12,max:30},{key:"gamma",label:"Gamma",min:30,max:50}],Ha=Ua.map(e=>e.key);function Va(e){let{title:t,subtitle:n,indicator:r,children:i}=e;return(0,u.jsxs)("div",{className:"panel-heading",children:[(0,u.jsxs)("div",{className:"panel-title",children:[(0,u.jsx)("h3",{children:t}),n?(0,u.jsx)("span",{children:n}):null,r]}),i]})}function Wa(e){let{children:t}=e;return(0,u.jsx)("div",{className:"panel-controls",children:t})}function qa(e){let{pressed:t=!1,onClick:n,ariaLabel:r,title:i,children:o}=e;return(0,u.jsx)("button",{type:"button",className:"panel-button","aria-pressed":t,"aria-label":r,title:i,onClick:n,children:o})}const Ga=function(t){let{bandHistory:n={},trainingTargets:r=[],targetHistory:i={},windowSeconds:o=120}=t;const[a,l]=(0,e.useState)(null),s=(0,e.useMemo)(()=>({expand:"\u2922",collapse:"\u2921"}),[]),c=Object.entries(n),f=a?c.filter(e=>{let[t]=e;return t===a}):c,d=(0,e.useMemo)(()=>{const e={};return r.forEach(t=>{"relative"===(t.model||"relative")&&(e[t.label]||(e[t.label]=[]),e[t.label].push(t))}),e},[r]);return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"panel-heading",style:{marginTop:8},children:(0,u.jsxs)("div",{className:"panel-title",children:[(0,u.jsx)("h3",{children:"Band Power Over Time"}),(0,u.jsx)("span",{className:"subdued",children:"Overlayed lines per band (relative power)"})]})}),(0,u.jsx)("div",{className:"band-legend",children:Ua.map(e=>(0,u.jsx)("span",{className:"legend-chip legend-".concat(e.key),children:e.label},e.key))}),(0,u.jsxs)("div",{className:"band-grid ".concat(a?"expanded":""),children:[0===c.length&&(0,u.jsx)("p",{className:"subdued",children:"Waiting for spectra to compute live band power."}),f.map(e=>{let[t,n]=e;const r=d[t]||[],c=i[t]||{},f=Object.fromEntries(Object.entries(n).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?n.map(e=>({v:e.v,t:e.t})):[]]}));return(0,u.jsxs)("div",{className:"band-card ".concat(a===t?"expanded":""),children:[(0,u.jsxs)("div",{className:"band-card-header",children:[(0,u.jsx)("p",{className:"eyebrow",children:t}),(0,u.jsx)("span",{className:"channel-meta",children:"Relative power history"}),(0,u.jsx)(qa,{pressed:a===t,ariaLabel:a===t?"Exit fullscreen":"Enter fullscreen",title:a===t?"Exit fullscreen":"Enter fullscreen",onClick:()=>l(a===t?null:t),children:a===t?s.collapse:s.expand})]}),(0,u.jsx)(Ba,{channel:f,targets:r,targetHistory:c,durationSec:o,height:a===t?320:140}),r.length>0&&(0,u.jsx)("div",{className:"inline-status",style:{marginTop:8},children:r.map(e=>{var t;return(0,u.jsxs)("span",{className:"status-pill",children:[e.band,": ",e.target.toFixed(3)," \xb1 ",(null!==(t=e.tolerance)&&void 0!==t?t:0).toFixed(3)," (sens ",Number(e.sensitivity||1).toFixed(2),")"]},"".concat(e.id,"-target"))})})]},t)})]})]})};const Ya=function(t){let{series:n=[],bands:r=[],height:i=140,width:o=300,padding:a={left:32,right:0,top:0,bottom:18},xDomain:l,yDomain:s,showAxes:c=!0,showLabels:f=!0,xLabel:d="time",rectOverlays:h=[],xTickCount:p=4,xTickFormatter:m,emptyLabel:v="No samples to plot.",emptyLabelX:g=8,emptyLabelY:b,yLabelFormatter:y=e=>e.toFixed(0)}=t;const w=(0,e.useMemo)(()=>{var e,t,u,c;const f=(n||[]).filter(e=>e&&Array.isArray(e.points)&&e.points.length>0),d=(r||[]).filter(e=>e&&Array.isArray(e.points)&&e.points.length>0),h=[...f.flatMap(e=>e.points),...d.flatMap(e=>e.points)];if(0===h.length)return{hasData:!1};const p=h.map(e=>e.x).filter(Number.isFinite),m=h.map(e=>e.y).filter(Number.isFinite);if(0===p.length||0===m.length)return{hasData:!1};const v=null!==(e=null===l||void 0===l?void 0:l.min)&&void 0!==e?e:Math.min(...p),g=null!==(t=null===l||void 0===l?void 0:l.max)&&void 0!==t?t:Math.max(...p),b=null!==(u=null===s||void 0===s?void 0:s.min)&&void 0!==u?u:Math.min(...m),y=null!==(c=null===s||void 0===s?void 0:s.max)&&void 0!==c?c:Math.max(...m),w=s?0:.1*(y-b||Math.abs(y)||1),x=b-w,S=y+w,_=Math.max(1,o-a.left-a.right),k=Math.max(1,i-a.top-a.bottom),C=g-v||1,N=S-x||1;return{hasData:!0,innerWidth:_,innerHeight:k,xMin:v,xMax:g,yMin:x,yMax:S,scaleX:e=>a.left+(e-v)/C*_,scaleY:e=>a.top+(1-(e-x)/N)*k,normalizedSeries:f,normalizedBands:d}},[r,i,a.bottom,a.left,a.right,a.top,n,o,l,s]);if(!w.hasData){const e=null!==b&&void 0!==b?b:i/2;return(0,u.jsx)("svg",{width:"100%",height:i,viewBox:"0 0 ".concat(o," ").concat(i),preserveAspectRatio:"none",children:(0,u.jsx)("text",{x:g,y:e,fill:"rgba(255,255,255,0.5)",fontSize:"10",children:v})})}const x=a.top+w.innerHeight,S=Math.max(2,p),_=new Array(S+1).fill(0).map((e,t)=>{const n=t/S,r=w.xMin+(w.xMax-w.xMin)*n;return{value:r,x:w.scaleX(r)}}),k=m||(e=>{const t=Math.max(1,(w.xMax-w.xMin)/1e3),n=Math.max(0,Math.round((w.xMax-e)/1e3));return 0===n?"now":"-".concat(Math.min(n,t),"s")});return(0,u.jsxs)("svg",{width:"100%",height:i,viewBox:"0 0 ".concat(o," ").concat(i),preserveAspectRatio:"none",children:[(h||[]).map((e,t)=>{var n;if(!Number.isFinite(e.start)||!Number.isFinite(e.end)||e.end<=e.start)return null;const r=Math.max(w.xMin,Math.min(w.xMax,e.start)),i=Math.max(w.xMin,Math.min(w.xMax,e.end)),o=w.scaleX(r),l=Math.max(1,w.scaleX(i)-w.scaleX(r));return(0,u.jsx)("rect",{x:o,y:a.top,width:l,height:w.innerHeight,fill:e.color||"#f97316",opacity:null!==(n=e.opacity)&&void 0!==n?n:.2},e.id||"".concat(e.start,"-").concat(e.end,"-").concat(t))}),w.normalizedBands.map((e,t)=>{var n;const r=e.points.map(e=>"".concat(w.scaleX(e.x),",").concat(w.scaleY(e.y))).join(" ");return(0,u.jsx)("polygon",{fill:e.fill||"rgba(248, 113, 113, 0.18)",opacity:null!==(n=e.opacity)&&void 0!==n?n:1,points:r},e.id||"band-".concat(t))}),w.normalizedSeries.map((e,t)=>{var n;const r=e.points.map(e=>"".concat(w.scaleX(e.x),",").concat(w.scaleY(e.y))).join(" ");if(1===e.points.length&&"x"===e.extend){var i;const n=w.scaleY(e.points[0].y);return(0,u.jsx)("line",{x1:a.left,x2:a.left+w.innerWidth,y1:n,y2:n,stroke:e.stroke||"#4ade80",strokeWidth:e.strokeWidth||1.4,strokeDasharray:e.strokeDasharray,opacity:null!==(i=e.opacity)&&void 0!==i?i:1},e.id||"series-".concat(t))}return(0,u.jsx)("polyline",{fill:"none",stroke:e.stroke||"#4ade80",strokeWidth:e.strokeWidth||1.4,strokeDasharray:e.strokeDasharray,opacity:null!==(n=e.opacity)&&void 0!==n?n:1,points:r},e.id||"series-".concat(t))}),c&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("line",{x1:a.left,y1:a.top,x2:a.left,y2:x,stroke:"rgba(255,255,255,0.35)",strokeWidth:"1"}),(0,u.jsx)("line",{x1:a.left,y1:x,x2:a.left+w.innerWidth,y2:x,stroke:"rgba(255,255,255,0.35)",strokeWidth:"1"}),_.map((e,t)=>(0,u.jsx)("line",{x1:e.x,x2:e.x,y1:x,y2:x+4,stroke:"rgba(255,255,255,0.35)",strokeWidth:"1"},"xtick-".concat(t)))]}),f&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("text",{x:"4",y:"10",fill:"rgba(255,255,255,0.6)",fontSize:"10",children:y(w.yMax)}),(0,u.jsx)("text",{x:"4",y:x-2,fill:"rgba(255,255,255,0.6)",fontSize:"10",children:y(w.yMin)}),(0,u.jsx)("text",{x:a.left,y:i-2,fill:"rgba(255,255,255,0.6)",fontSize:"10",children:d}),_.map((e,t)=>{const n=k(e.value),r=0===t?"start":t===_.length-1?"end":"middle";return(0,u.jsx)("text",{x:e.x,y:i-2,textAnchor:r,fill:"rgba(255,255,255,0.6)",fontSize:"10",children:n},"xlabel-".concat(t))})]})]})};function $a(t){let{availableChannels:n=[],selectedTargets:r=[],bandSnapshots:i=[],bandHistory:o={},targetHistoryById:a={},deltaSmoothingSec:s=10,onSaveTarget:c,onDeleteTarget:f,audioEnabled:d,onToggleAudio:h,presets:p=[],presetsLoading:m=!1,presetsError:v=null,onApplyPreset:g,onClearTargets:b,targetMetrics:y={}}=t;const[w,x]=(0,e.useState)({id:null,label:[],model:"relative",band:"alpha",numeratorBand:"theta",denominatorBand:"beta",target:.3,tolerance:.05}),[S,_]=(0,e.useState)("");function k(e,t){const n=e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),r="ratio"===t?"Ratio":"Relative";return"".concat(n," (").concat(r,")")}function C(e,t){const n=e.filter(e=>e.t>=t);return 0===n.length?null:n.reduce((e,t)=>e+t.v,0)/n.length}function N(e,t){const n=e&&e.length>1,r=t&&t.length>0;if(!n&&!r)return(0,u.jsx)(Ya,{height:140,width:140,padding:{left:0,right:0,top:10,bottom:14},series:[],bands:[],showAxes:!1,showLabels:!1,emptyLabel:"No recent data",emptyLabelX:8,emptyLabelY:70});const i=[...e||[],...t||[]].filter(e=>e&&null!=e.t).map(e=>e.t),o=Math.min(...i),a=Math.max(...i),l=[...(e||[]).map(e=>e.v),...(t||[]).flatMap(e=>{const t=e.tolerance||0;return[e.target-t,e.target,e.target+t]})].filter(e=>"number"===typeof e),s=Math.min(...l),c=Math.max(...l),f=(t||[]).slice().sort((e,t)=>e.t-t.t),d=f.length>0?[...f.map(e=>({x:e.t,y:e.target+(e.tolerance||0)})),...f.slice().reverse().map(e=>({x:e.t,y:e.target-(e.tolerance||0)}))]:[],h=[];return f.length>0&&h.push({id:"target",points:f.map(e=>({x:e.t,y:e.target})),stroke:"rgba(248, 113, 113, 0.85)",strokeWidth:1.5,extend:1===f.length?"x":void 0}),f.length<=1&&d.length>0&&h.push({id:"target-band",points:[{x:d[0].x,y:d[0].y}],stroke:"rgba(248, 113, 113, 0.4)",strokeWidth:1,strokeDasharray:"3 2",extend:"x"}),n&&h.push({id:"signal",points:(e||[]).map(e=>({x:e.t,y:e.v})),stroke:"rgba(96, 165, 250, 0.9)",strokeWidth:2}),(0,u.jsx)(Ya,{height:140,width:140,padding:{left:0,right:0,top:10,bottom:14},series:h,bands:d.length>2?[{id:"target-band-fill",points:d,fill:"rgba(248, 113, 113, 0.18)"}]:[],xDomain:{min:o,max:a},yDomain:{min:s,max:c},showAxes:!1,showLabels:!1})}function E(e){return"ratio"===(e.model||"relative")?e.numeratorBand&&e.denominatorBand?"".concat(e.numeratorBand,"/").concat(e.denominatorBand," ratio"):"ratio":e.band}return(0,e.useEffect)(()=>{null===w.id&&0===w.label.length&&(n.length>0?x(e=>l(l({},e),{},{label:[n[0]]})):x(e=>l(l({},e),{},{label:["ALL"]})))},[n,w.id,w.label.length]),(0,u.jsxs)("div",{className:"training-control",children:[(0,u.jsxs)("div",{className:"preset-selector",children:[(0,u.jsxs)("div",{className:"field",children:[(0,u.jsx)("label",{children:"Load Preset Profile"}),(0,u.jsx)("select",{value:S,onChange:function(e){const t=e.target.value;_(t),t&&g&&g(t)},disabled:m||0===p.length,children:m?(0,u.jsx)("option",{value:"",children:"Loading presets..."}):0===p.length?(0,u.jsx)("option",{value:"",children:v?"Failed to load presets":"No presets available"}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("option",{value:"",children:["-- Select a preset (",p.length," available) --"]}),p.map(e=>(0,u.jsx)("option",{value:e.name,children:k(e.name,e.model)},e.name))]})}),v&&(0,u.jsxs)("span",{className:"preset-error",children:["Error: ",v]})]}),r.length>0&&b&&(0,u.jsx)("button",{type:"button",className:"clear-btn",onClick:b,children:"Clear All Targets"})]}),(0,u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),0===w.label.length)return;const t=w.model||"relative";if(r.some(e=>{const n=e.model||"relative";return e.label===w.label[0]&&n===t&&e.id!==w.id&&("ratio"===t?e.numeratorBand===w.numeratorBand&&e.denominatorBand===w.denominatorBand:e.band===w.band)}))return;const n=w.id||Date.now().toString();c({id:n,label:w.label[0],model:t,band:"relative"===t?w.band:null,numeratorBand:"ratio"===t?w.numeratorBand:null,denominatorBand:"ratio"===t?w.denominatorBand:null,target:Number(w.target),tolerance:Number(w.tolerance)}),x({id:null,label:w.label,model:t,band:w.band,numeratorBand:w.numeratorBand,denominatorBand:w.denominatorBand,target:w.target,tolerance:w.tolerance})},className:"training-form",children:[(0,u.jsxs)("div",{className:"field",children:[(0,u.jsx)("label",{children:"Electrode"}),(0,u.jsxs)("select",{value:w.label[0]||"",onChange:e=>x(l(l({},w),{},{label:[e.target.value]})),children:[(0,u.jsx)("option",{value:"ALL",children:"All electrodes"}),(0,u.jsx)("option",{value:"PAIR_TP9_10",children:"Paired TP9/TP10"}),(0,u.jsx)("option",{value:"PAIR_AF7_8",children:"Paired AF7/AF8"}),n.map(e=>(0,u.jsx)("option",{value:e,children:e},e))]})]}),(0,u.jsxs)("div",{className:"field",children:[(0,u.jsx)("label",{children:"Metric"}),(0,u.jsxs)("select",{value:w.model,onChange:e=>x(l(l({},w),{},{model:e.target.value})),children:[(0,u.jsx)("option",{value:"relative",children:"Relative band power"}),(0,u.jsx)("option",{value:"ratio",children:"Band ratio"})]})]}),(0,u.jsxs)("div",{className:"field",children:[(0,u.jsx)("label",{children:"ratio"===w.model?"Ratio":"Band"}),"ratio"===w.model?(0,u.jsxs)("div",{className:"ratio-fields",children:[(0,u.jsx)("select",{value:w.numeratorBand,onChange:e=>x(l(l({},w),{},{numeratorBand:e.target.value})),children:Ha.map(e=>(0,u.jsx)("option",{value:e,children:e},e))}),(0,u.jsx)("span",{className:"ratio-sep",children:"/"}),(0,u.jsx)("select",{value:w.denominatorBand,onChange:e=>x(l(l({},w),{},{denominatorBand:e.target.value})),children:Ha.map(e=>(0,u.jsx)("option",{value:e,children:e},e))})]}):(0,u.jsx)("select",{value:w.band,onChange:e=>x(l(l({},w),{},{band:e.target.value})),children:Ha.map(e=>(0,u.jsx)("option",{value:e,children:e},e))})]}),(0,u.jsxs)("div",{className:"field",children:[(0,u.jsx)("label",{children:"ratio"===w.model?"Target (ratio)":"Target (relative 0-1)"}),(0,u.jsx)("input",{type:"number",step:"0.01",min:"0",max:"ratio"===w.model?void 0:1,value:w.target,onChange:e=>x(l(l({},w),{},{target:e.target.value}))})]}),(0,u.jsxs)("div",{className:"field",children:[(0,u.jsx)("label",{children:"Tolerance (\xb1)"}),(0,u.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1",value:w.tolerance,onChange:e=>x(l(l({},w),{},{tolerance:e.target.value}))})]}),(0,u.jsxs)("div",{className:"inline-buttons",children:[(0,u.jsx)("button",{type:"submit",children:w.id?"Update Target":"Add Target"}),(0,u.jsxs)("button",{type:"button",onClick:()=>h(!d),children:[d?"Disable":"Enable"," Audio Feedback"]})]})]}),(0,u.jsxs)("div",{className:"target-list",children:[0===r.length&&(0,u.jsx)("p",{className:"subdued",children:"No targets yet."}),r.map(e=>{var t;const n=Date.now(),r=1e3*s,i=1e3*Math.max(5,s),l=function(e,t,n){var r;if("ratio"===(e.model||"relative")){var i,a;if(!e.numeratorBand||!e.denominatorBand)return null;const r=(null===o||void 0===o||null===(i=o[e.label])||void 0===i?void 0:i[e.numeratorBand])||[],l=(null===o||void 0===o||null===(a=o[e.label])||void 0===a?void 0:a[e.denominatorBand])||[],s=C(r,t-n),u=C(l,t-n);return"number"!==typeof s||"number"!==typeof u||0===u?null:s/u}return C((null===o||void 0===o||null===(r=o[e.label])||void 0===r?void 0:r[e.band])||[],t-n)}(e,n,r),c="number"===typeof l?l-e.target:null,d=y[e.id],h=null!==(t=null===d||void 0===d?void 0:d.effectiveTolerance)&&void 0!==t?t:e.tolerance,p=function(e,t,n){var r;if("ratio"===(e.model||"relative")){var i,a;if(!e.numeratorBand||!e.denominatorBand)return[];const r=(null===o||void 0===o||null===(i=o[e.label])||void 0===i?void 0:i[e.numeratorBand])||[],l=(null===o||void 0===o||null===(a=o[e.label])||void 0===a?void 0:a[e.denominatorBand])||[],s=new Map(l.map(e=>[e.t,e.v]));return r.filter(e=>e.t>=t-n).map(e=>{const t=s.get(e.t);return"number"!==typeof t||0===t?null:{t:e.t,v:e.v/t}}).filter(Boolean)}return((null===o||void 0===o||null===(r=o[e.label])||void 0===r?void 0:r[e.band])||[]).filter(e=>e.t>=t-n)}(e,n,i),m=function(e,t,n){return((null===a||void 0===a?void 0:a[e.id])||[]).filter(e=>e.t>=t-n)}(e,n,i);return(0,u.jsxs)("div",{className:"target-item",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("strong",{children:e.label})," \u2022 ",E(e)," \u2022 target ",e.target," \xb1 ",e.tolerance,"number"===typeof l&&(0,u.jsxs)("span",{className:"target-delta",children:[" ","| avg ",l.toFixed(3)," | \u0394 ",c>=0?"+":"",c.toFixed(3)]}),d&&(0,u.jsxs)("span",{className:"target-delta",children:[" ","| sensitivity ",d.sensitivity.toFixed(2),"x \u2022 effective \xb1 ",h.toFixed(3)]})]}),(0,u.jsxs)("div",{className:"chart-block",style:{marginTop:6},children:[(0,u.jsx)("p",{className:"chart-label",style:{marginBottom:4},children:"Signal vs target band"}),N(p,m)]}),(0,u.jsxs)("div",{className:"inline-buttons",children:[(0,u.jsx)("button",{type:"button",onClick:()=>function(e){x({id:e.id,label:[e.label],model:e.model||"relative",band:e.band||"alpha",numeratorBand:e.numeratorBand||"theta",denominatorBand:e.denominatorBand||"beta",target:e.target,tolerance:e.tolerance})}(e),children:"Edit"}),(0,u.jsx)("button",{type:"button",onClick:()=>f(e.id),children:"Delete"})]})]},e.id)})]})]})}function Qa(e,t){var n,r;if(!(e.audioEnabled===t.audioEnabled&&e.targetMetrics===t.targetMetrics&&e.deltaSmoothingSec===t.deltaSmoothingSec&&e.bandSnapshots===t.bandSnapshots&&e.bandHistory===t.bandHistory&&e.targetHistoryById===t.targetHistoryById&&e.onSaveTarget===t.onSaveTarget&&e.onDeleteTarget===t.onDeleteTarget&&e.onToggleAudio===t.onToggleAudio&&e.onApplyPreset===t.onApplyPreset&&e.onClearTargets===t.onClearTargets&&e.presetsLoading===t.presetsLoading&&e.presetsError===t.presetsError))return!1;if(e.availableChannels.length!==t.availableChannels.length)return!1;if(e.selectedTargets.length!==t.selectedTargets.length)return!1;if(((null===(n=e.presets)||void 0===n?void 0:n.length)||0)!==((null===(r=t.presets)||void 0===r?void 0:r.length)||0))return!1;if(e.availableChannels.join("|")!==t.availableChannels.join("|"))return!1;if((e.presets||[]).map(e=>e.name).join("|")!==(t.presets||[]).map(e=>e.name).join("|"))return!1;return e.selectedTargets.map(e=>"".concat(e.id,"-").concat(e.label,"-").concat(e.model,"-").concat(e.band,"-").concat(e.numeratorBand,"-").concat(e.denominatorBand,"-").concat(e.target,"-").concat(e.tolerance)).join("|")===t.selectedTargets.map(e=>"".concat(e.id,"-").concat(e.label,"-").concat(e.model,"-").concat(e.band,"-").concat(e.numeratorBand,"-").concat(e.denominatorBand,"-").concat(e.target,"-").concat(e.tolerance)).join("|")}const Xa=e.memo($a,Qa);const Za=function(){return(0,u.jsx)("div",{children:"TrainingView"})};var Ka=n(7223);function Ja(e,t,n,r,i,o){if(!e||e.length<n)return null;const a=Math.max(1,n-r),l=function(e){const t=new Array(e);for(let n=0;n<e;n+=1)t[n]=.5*(1-Math.cos(2*Math.PI*n/(e-1)));return t}(n),s=l.reduce((e,t)=>e+t*t,0)/n,u=[],c=[];let f=null;for(let d=0;d+n<=e.length;d+=a){const r=e.slice(d,d+n),a=new Array(i).fill(0);for(let e=0;e<n;e+=1)a[e]=r[e]*l[e];const h=(0,Ka.fft)(a),p=Ka.util.fftFreq(h,t),m=Ka.util.fftMag(h),v=[],g=[],b=Math.floor(i/2);for(let e=0;e<p.length;e+=1){if(p[e]<0)continue;if(p[e]>o)continue;const r=m[e]*m[e]/(t*n*s),i=0===e||e===b?1:2;v.push(r*i),g.push(p[e])}f||(f=g);const y=(d+n/2)/t;u.push(y),c.push(v)}return c.length&&f&&f.length?{freqs:f,times:u,slices:c}:null}function el(e,t){if(!e.length)return 0;const n=[...e].sort((e,t)=>e-t);return n[Math.min(n.length-1,Math.max(0,Math.round(t/100*(n.length-1))))]}const tl=function(t){let{eegData:n,selectedChannels:r,windowSeconds:i=300,preferCachedSlices:o=!0}=t;const a=50,l=Math.round(256*i),s=Math.max(256,Math.min(2048,l)),c=Math.max(32,Math.floor(s/16)),f=Math.max(0,s-c),d=Math.max(8192,function(e){let t=Math.max(1,Math.floor(e)),n=1;for(;n<t;)n*=2;return n}(4*s)),h=(0,e.useRef)(null),[p,m]=(0,e.useState)(500),v=(0,e.useMemo)(()=>{const e=r.length?r:n.map(e=>e.label||e.electrode);return n.filter(t=>e.includes(t.label||t.electrode)).filter(e=>e.samples&&e.samples.length>=s)},[n,r,s]);(0,e.useEffect)(()=>{var e;if(!h.current)return;const t=(null===(e=h.current.parentElement)||void 0===e?void 0:e.clientWidth)||p;t!==p&&m(t)},[p]);const g=(0,e.useMemo)(()=>{if(!v.length)return[];const e=Date.now()-1e3*i;return v.map(t=>{const n=t.label||t.electrode,r=(Array.isArray(t.spectrogramSlices)?t.spectrogramSlices:[]).filter(t=>(t.t||0)>=e);if(o&&r.length>=2){const e=r[0].frequencies||[],t=e.map(e=>e<=a),i=r.map(e=>(e.t-r[0].t)/1e3),o=1e-12,l=r.map(e=>(e.magnitudes||[]).filter((e,n)=>t[n]).map(e=>10*Math.log10(Math.max(e,o))));return{label:n,freqs:e.filter((e,n)=>t[n]),times:i,dbSlices:l}}const i=t.samples||[],u=l>0?i.slice(-l):i.slice();if(u.length<s)return null;const c=u.reduce((e,t)=>e+t,0)/u.length,h=Ja(u.map(e=>e-c),256,s,f,d,a);if(!h)return null;const p=h.slices.map(e=>e.map(e=>10*Math.log10(Math.max(e,1e-12))));return{label:n,freqs:h.freqs,times:h.times,dbSlices:p}}).filter(Boolean)},[v,a,l,d,f,s,256,i,o]),b=g.map(e=>e.label),y=180,w=Math.max(20,b.length*y+20),x=g.flatMap(e=>e.dbSlices.flat());let S=el(x,5),_=el(x,95);isFinite(S)&&isFinite(_)&&S!==_||(S=-120,_=-40);const k=(0,e.useMemo)(()=>{const e=[];for(let t=0;t<256;t+=1){const n=qt(Jo(t/255));e.push([n.r,n.g,n.b])}return e},[]);return(0,e.useEffect)(()=>{var e,t;const n=h.current;if(!n)return;const r=n.getContext("2d");if(!r)return;const o=window.devicePixelRatio||1;if(n.width=Math.max(1,Math.floor(p*o)),n.height=Math.max(1,Math.floor(w*o)),n.style.width="".concat(p,"px"),n.style.height="".concat(w,"px"),r.setTransform(o,0,0,o,0,0),r.clearRect(0,0,p,w),g.forEach((e,t)=>{const{label:n,dbSlices:i}=e;if(!i||0===i.length)return;const o=i.length,l=i[0].length||1,s=document.createElement("canvas");s.width=o,s.height=l;const u=s.getContext("2d");if(!u)return;const c=u.createImageData(o,l),f=c.data;for(let r=0;r<o;r+=1){const e=i[r];for(let t=0;t<l;t+=1){const n=e[t],i=Math.max(0,Math.min(1,(n-S)/(_-S))),a=k[Math.min(255,Math.max(0,Math.round(255*i)))],s=4*((l-1-t)*o+r);f[s]=a[0],f[s+1]=a[1],f[s+2]=a[2],f[s+3]=255}}u.putImageData(c,0,0);const d=t*y;r.drawImage(s,0,d,p,y),r.strokeStyle="rgba(255,255,255,0.35)",r.lineWidth=1,r.beginPath(),r.moveTo(0,d),r.lineTo(0,d+y),r.stroke(),r.beginPath(),r.moveTo(0,d+y),r.lineTo(p,d+y),r.stroke(),r.strokeStyle="rgba(255,255,255,0.12)",r.setLineDash([4,4]),[{name:"delta",f:.5},{name:"theta",f:4},{name:"alpha",f:8},{name:"beta",f:12},{name:"gamma",f:30}].forEach(e=>{const t=d+y-e.f/a*y;r.beginPath(),r.moveTo(0,t),r.lineTo(p,t),r.stroke()}),r.setLineDash([]),r.fillStyle="rgba(255,255,255,0.8)",r.font="12px sans-serif",r.fillText(n,8,d+16),r.fillText("".concat(a," Hz"),8,d+30),r.fillText("0 Hz",8,d+y-6)}),b.length>0&&(null===(e=g[0])||void 0===e||null===(t=e.dbSlices)||void 0===t?void 0:t.length)>1){const e=Math.max(1,Math.round(i)),t=4;r.fillStyle="rgba(255,255,255,0.6)",r.font="10px sans-serif",r.strokeStyle="rgba(255,255,255,0.35)",r.beginPath(),r.moveTo(0,w-20),r.lineTo(p,w-20),r.stroke();for(let n=0;n<=t;n+=1){const i=n/t,o=i*p,a=n===t?"0s":"-".concat(Math.round((1-i)*e),"s"),l=r.measureText(a).width;let s=o;n===t&&(s=o-l),0===n&&(s=o),n>0&&n<t&&(s=o-l/2),r.fillText(a,s,w-4)}}},[w,b,k,p,g,_,S,i,a]),0===b.length?(0,u.jsx)("p",{className:"subdued",children:"Waiting for per-channel spectrograms."}):(0,u.jsx)("canvas",{ref:h,className:"spectrogram"})};const nl=50,rl=140,il=[{name:"delta",start:.5,end:4},{name:"theta",start:4,end:8},{name:"alpha",start:8,end:12},{name:"beta",start:12,end:30},{name:"gamma",start:30,end:45}];function ol(e,t,n){return e+(t-e)*n}function al(e){const t=[[10,20,80],[30,120,200],[80,200,255],[255,230,80],[255,120,40],[200,20,20]],n=Math.max(0,Math.min(1,e))*(t.length-1),r=Math.floor(n),i=n-r;return r>=t.length-1?"rgb(".concat(t[t.length-1].join(","),")"):function(e,t,n){let[r,i,o]=e,[a,l,s]=t;return"rgb(".concat(Math.round(ol(r,a,n)),", ").concat(Math.round(ol(i,l,n)),", ").concat(Math.round(ol(o,s,n)),")")}(t[r],t[r+1],i)}const ll=function(t){let{eegData:n,selectedChannels:r}=t;const i=(0,e.useRef)(null),[o,a]=(0,e.useState)(500),l=(0,e.useMemo)(()=>{const e=r.length?r:n.map(e=>e.label||e.electrode);return n.filter(t=>e.includes(t.label||t.electrode)).filter(e=>e.averagedPeriodogram)},[n,r]);if((0,e.useEffect)(()=>{var e;if(!i.current)return;const t=(null===(e=i.current.parentElement)||void 0===e?void 0:e.clientWidth)||o;t!==o&&a(t)},[o]),0===l.length)return(0,u.jsx)("p",{className:"subdued",children:"Waiting for per-channel periodograms."});const s=l.map(e=>{var t,n;const r=(null===(t=e.averagedPeriodogram)||void 0===t?void 0:t.frequencies)||[],i=(null===(n=e.averagedPeriodogram)||void 0===n?void 0:n.magnitudes)||[],a=r.map((t,n)=>{var r;return{f:t,m:i[n],t:null!==(r=e.averagedPeriodogram)&&void 0!==r&&r.timestamp?e.averagedPeriodogram.timestamp[n]:null}}).filter(e=>{let{f:t}=e;return t>=.5&&t<=nl}),l=Math.max(1,Math.floor(a.length/256)),s=a.filter((e,t)=>t%l===0);if(!s.length)return null;const u=s.map(e=>{let{f:t,m:n,t:r}=e;return{f:t,db:10*Math.log10(Math.max(n,1e-12)),t:r}}),c=Math.max(...u.map(e=>e.db)),f=Math.min(...u.map(e=>e.db)),d=Math.max(c-60,f),h=u.map(e=>{let{f:t,db:n,t:r}=e;return{x:t/nl*o,db:n,t:r}});return{id:e.label||e.electrode,bins:h,maxDb:c,minDb:d}}).filter(Boolean),c=Math.max(...s.map(e=>e.maxDb||-120),-120),f=Math.max(c-60,Math.min(...s.map(e=>e.minDb||-120))),d=l.length*rl;return(0,u.jsx)("svg",{ref:i,width:"100%",height:d,className:"periodogram-chart",children:s.map((e,t)=>{const n=e.bins.length>0?o/e.bins.length:0;let r;return r=e.bins.length>0&&null!=e.bins[0].t?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;if(!e||e.length<2)return[e];const r=[];let i=0;for(let o=1;o<e.length;++o)t(e[o])-t(e[o-1])>n&&(r.push(e.slice(i,o)),i=o);return i<e.length&&r.push(e.slice(i)),r}(e.bins,e=>e.t,2e3):[e.bins],(0,u.jsxs)("g",{transform:"translate(0, ".concat(t*rl,")"),children:[(0,u.jsx)("line",{x1:"0",y1:"0",x2:"0",y2:rl,stroke:"rgba(255,255,255,0.35)",strokeWidth:"1"}),(0,u.jsx)("line",{x1:"0",y1:rl,x2:o,y2:rl,stroke:"rgba(255,255,255,0.35)",strokeWidth:"1"}),(0,u.jsxs)("text",{x:"4",y:136,fill:"rgba(255,255,255,0.6)",fontSize:"10",children:[.5," Hz"]}),(0,u.jsxs)("text",{x:o-4,y:136,fill:"rgba(255,255,255,0.6)",fontSize:"10",textAnchor:"end",children:[nl," Hz"]}),(0,u.jsxs)("text",{x:"4",y:"12",fill:"rgba(255,255,255,0.6)",fontSize:"10",children:[c.toFixed(0)," dB"]}),(0,u.jsxs)("text",{x:"4",y:124,fill:"rgba(255,255,255,0.6)",fontSize:"10",children:[f.toFixed(0)," dB"]}),il.map(e=>(0,u.jsxs)("g",{children:[(0,u.jsx)("line",{x1:e.start/nl*o,x2:e.start/nl*o,y1:0,y2:rl,stroke:"rgba(255,255,255,0.15)",strokeDasharray:"4 4",strokeWidth:"1"}),(0,u.jsx)("text",{x:e.start/nl*o+4,y:12,fill:"rgba(255,255,255,0.6)",fontSize:"10",children:e.name})]},e.name)),r.map((t,r)=>(0,u.jsx)("g",{children:t.map((t,i)=>(0,u.jsx)("rect",{x:t.x,y:rl-(t.db-f)/(c-f+1e-6)*rl,width:n+.5,height:(t.db-f)/(c-f+1e-6)*rl,fill:al((t.db-f)/(c-f+1e-6)),stroke:"none"},"".concat(e.id,"-").concat(r,"-").concat(i)))},"seg-".concat(r))),(0,u.jsx)("text",{x:6,y:12,fill:"rgba(255,255,255,0.7)",fontSize:"11",children:e.id})]},e.id)})})};const sl=function(t){let{points:n=[],height:r=140,windowSec:i=300,stroke:o="#4ade80"}=t;const a=(0,e.useMemo)(()=>{if(!n||0===n.length)return null;const e=Date.now(),t=e-1e3*i,r=n.filter(n=>n.t>=t&&n.t<=e);if(0===r.length)return null;const o=r.map(e=>e.v),a=Math.min(...o),l=Math.max(...o),s=.1*(l-a||Math.abs(l)||1);return{start:t,end:e,values:r,yMin:a-s,yMax:l+s}},[n,i]),l=32+i;return(0,u.jsx)(Ya,{height:r,width:l,padding:{left:32,right:0,top:0,bottom:18},series:a?[{id:"primary",points:a.values.map(e=>({x:e.t,y:e.v})),stroke:o,strokeWidth:1.4}]:[],xDomain:a?{min:a.start,max:a.end}:void 0,yDomain:a?{min:a.yMin,max:a.yMax}:void 0,xTickCount:4,xTickFormatter:e=>{if(!a)return"";const t=Math.max(0,Math.round((a.end-e)/1e3));return 0===t?"now":"-".concat(t,"s")},xLabel:"",emptyLabel:"No samples to plot.",yLabelFormatter:e=>e.toFixed(0)})};const ul=function(t){let{samples:n=[],height:r=80,maxPoints:i=800,overlays:o=[],overlayAlpha:a=.2}=t;const l=(0,e.useMemo)(()=>{if(!n||0===n.length)return null;const e=Math.max(1,Math.ceil(n.length/i)),t=[];for(let r=0;r<n.length;r+=e)t.push({x:r,y:n[r]});return{points:t,width:t.length>0&&t[t.length-1].x||1,min:Math.min(...t.map(e=>e.y)),max:Math.max(...t.map(e=>e.y))}},[n,i]);if(!l)return(0,u.jsx)("p",{className:"subdued",children:"No samples yet."});const s=Math.max(1,l.width);return(0,u.jsx)(Ya,{height:r,width:s+24,padding:{left:24,right:0,top:0,bottom:14},series:[{id:"trace",points:l.points,stroke:"#4ade80",strokeWidth:1.2}],rectOverlays:(o||[]).map((e,t)=>({id:e.id||"".concat(e.start,"-").concat(e.end,"-").concat(t),start:e.start,end:e.end,color:e.color,opacity:a})),xDomain:{min:0,max:s},showAxes:!0,showLabels:!0,yLabelFormatter:e=>e.toFixed(1),emptyLabel:"No samples yet."})};function cl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:256,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;const i=2*Math.PI*t/n,o=Math.sin(i)/(2*r),a=-2*Math.cos(i),l=1+o,s=-2*Math.cos(i),u=1-o;let c=0,f=0,d=0,h=0;const p=new Array(e.length);for(let m=0;m<e.length;m++){const t=e[m],n=1/l*t+a/l*c+1/l*f-s/l*d-u/l*h;p[m]=n,f=c,c=t,h=d,d=n}return p}function fl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:60;const i=e.length;if(!i)return{frequencies:[],magnitudes:[]};const o=e.reduce((e,t)=>e+t,0)/i,a=e.map(e=>e-o),l=function(e){const t=new Array(e);for(let n=0;n<e;n++)t[n]=.5*(1-Math.cos(2*Math.PI*n/(e-1)));return t}(i),s=l.reduce((e,t)=>e+t*t,0)/i,u=(n?cl(a,r,t,30):a).map((e,t)=>e*l[t]),c=(0,Ka.fft)(u),f=Ka.util.fftFreq(c,t),d=Ka.util.fftMag(c),h=[],p=[];for(let m=0;m<f.length;m++){if(f[m]<0)continue;const e=d[m]*d[m]/(t*i*s),n=0===m||m===f.length-1?1:2;h.push(e*n),p.push(f[m])}return{frequencies:p,magnitudes:h}}function dl(e,t,n,r,i){if(!e||e.length<8)return 0;const{frequencies:o,magnitudes:a}=function(e){return fl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,!1)}(e,t);if(!o.length)return 0;const l=Math.max(.1,r/2);let s=0,u=0;for(let c=0;c<o.length;c+=1){const e=o[c];if(e<.5)continue;if(null!=i&&e>i)continue;const t=a[c];s+=t,Math.abs(e-n)<=l&&(u+=t)}return s<=0?0:u/s}function hl(t){let{sampleRateHz:n,fftWindow:r,traceWindow:i,notchHz:o,spectrogramWindowSec:a,artifactWindowSec:s,artifactStepSec:u,amplitudeRangeThreshold:c,lineNoiseHz:f,lineNoiseBandHz:d,lineNoiseMaxHz:h,lineNoiseRatioThreshold:p,autoDownloadMs:m=0}=t;const v=(0,e.useRef)([]),g=(0,e.useRef)([]),[b,y]=(0,e.useState)([]),[w,x]=(0,e.useState)([]),[S,_]=(0,e.useState)(null),k=(0,e.useRef)(!1),C=(0,e.useRef)(0),N=(0,e.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;if(k.current)return;const t=Date.now(),n=Math.max(0,e-(t-C.current));k.current=!0,setTimeout(()=>{k.current=!1,C.current=Date.now(),x([...g.current.filter(Boolean)])},n)},[]),E=(0,e.useCallback)(e=>{Array.isArray(e)&&0!==e.length&&(v.current=[...e],y([...e]),e.forEach((e,t)=>{g.current[t]?g.current[t].label=e:g.current[t]={electrode:t,label:e,samples:[],periodograms:[],averagedPeriodogram:void 0,spectrogramSlices:[],artifactWindows:[],artifactLatest:null}}),N(0))},[N]),T=(0,e.useCallback)(e=>{if(!e||"number"!==typeof e.electrode)return;const t=function(e,t,n){if(e.current[n])t.current[n]&&(e.current[n].label=t.current[n]);else{const r=t.current[n]||"CH ".concat(n);e.current[n]={electrode:n,label:r,samples:[],periodograms:[],averagedPeriodogram:void 0,spectrogramSlices:[],artifactWindows:[],artifactLatest:null}}return e.current[n]}(g,v,e.electrode),o=t.samples;o.push(...e.samples);const a=Math.ceil(m/1e3*n),l=Math.max(i,2*r,a+r);o.length>l&&o.splice(0,o.length-l),t.samples=o,N()},[m,r,n,i,N]);return(0,e.useEffect)(()=>{const e=setInterval(()=>{g.current.forEach(e=>{if(!e||!e.samples)return;if(e.samples.length>r){const t=function(e){return fl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,!0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:60)}(e.samples.slice(-r),n,o),i=l(l({},t),{},{t:Date.now()});e.periodograms=[...e.periodograms||[],t].slice(-4),e.averagedPeriodogram=function(e){const t={frequencies:e[0].frequencies,magnitudes:[]},n=e.length;return e[0].magnitudes.forEach((r,i)=>{let o=0;for(let t=0;t<n;t++)o+=e[t].magnitudes[i];t.magnitudes[i]=o/n}),t}(e.periodograms);const s=e.spectrogramSlices||[];s.push(i);const u=Date.now()-1e3*Math.max(1,a);e.spectrogramSlices=s.filter(e=>(e.t||0)>=u)}const t=e.samples.slice(-i),m=Math.max(1,Math.round(s*n)),v=Math.max(1,Math.round(u*n));if(t.length>=m){const r=function(e,t,n){const{windowSamples:r,stepSamples:i,amplitudeRangeThreshold:o,lineNoiseRatioThreshold:a,lineNoiseHz:l,lineNoiseBandHz:s,lineNoiseMaxHz:u}=n;if(!e||e.length<r)return[];const c=[];for(let f=0;f+r<=e.length;f+=i){const n=e.slice(f,f+r);let i=1/0,d=-1/0;for(let e=0;e<n.length;e+=1){const t=n[e];t<i&&(i=t),t>d&&(d=t)}const h=Number.isFinite(i)&&Number.isFinite(d)?d-i:0,p=dl(n,t,l,s,u),m=null!=o&&h>o,v=null!=a&&p>a;c.push({startSample:f,endSample:f+r,amplitudeRange:h,lineNoiseRatio:p,amplitudeArtifact:m,lineNoiseArtifact:v})}return c}(t,n,{windowSamples:m,stepSamples:v,amplitudeRangeThreshold:c,lineNoiseRatioThreshold:p,lineNoiseHz:f,lineNoiseBandHz:d,lineNoiseMaxHz:h});e.artifactWindows=r,e.artifactLatest=r.length>0?r[r.length-1]:null}else e.artifactWindows=[],e.artifactLatest=null}),x([...g.current.filter(Boolean)]),_(Date.now())},1e3);return()=>clearInterval(e)},[r,i,s,u,c,p,f,d,h,n,o,a]),{eegData:w,lastFFT:S,channelMaps:b,handleChannelMaps:E,handleEegPacket:T}}const pl=.5,ml=.2,vl=Object.freeze({irChannel:1,redChannel:2,greenChannel:0});function gl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.SQRT1_2;const i=2*Math.PI*t/n,o=Math.sin(i),a=Math.cos(i),l=o/(2*r);let s=0,u=0,c=0,f=1,d=0,h=0;return"lowpass"===e?(s=(1-a)/2,u=1-a,c=(1-a)/2,f=1+l,d=-2*a,h=1-l):"highpass"===e&&(s=(1+a)/2,u=-(1+a),c=(1+a)/2,f=1+l,d=-2*a,h=1-l),{b0:s/f,b1:u/f,b2:c/f,a1:d/f,a2:h/f}}function bl(e,t){const n=new Array(e.length);let r=0,i=0,o=0,a=0;for(let l=0;l<e.length;l+=1){const s=e[l],u=t.b0*s+t.b1*r+t.b2*i-t.a1*o-t.a2*a;n[l]=u,i=r,r=s,a=o,o=u}return n}function yl(e,t,n){const r=gl("lowpass",t,n);return bl(bl(e,r),r)}function wl(e,t,n,r){const i=gl("highpass",t,r),o=gl("lowpass",n,r);return bl(bl(e,i),o)}function xl(e,t){if(!e.length)return 0;const n=[...e].sort((e,t)=>e-t),r=(n.length-1)*t,i=Math.floor(r),o=Math.ceil(r);if(i===o)return n[i];const a=r-i;return n[i]+(n[o]-n[i])*a}function Sl(e){if(!e.length)return e;const t=e.reduce((e,t)=>e+t,0)/e.length;return e.map(e=>e-t)}function _l(e,t){if(!e||e.length<3)return[];const n=xl(e,.5),r=xl(e.map(e=>Math.abs(e-n)),.5)||1e-6,i=n+1.25*r,o=Math.max(1,Math.round(.4*t)),a=[];let l=-1/0;for(let s=1;s<e.length-1;s+=1){const t=e[s];if(!(t<i)&&(t>e[s-1]&&t>e[s+1]))if(s-l>=o)a.push(s),l=s;else{const n=a[a.length-1];null!=n&&t>e[n]&&(a[a.length-1]=s,l=s)}}return a}function kl(e,t,n,r){if(!e||0===e.length)return null;const i=Math.max(1,Math.round(r*n)),o=e.find(e=>e.ppgChannel===t.irChannel),a=e.find(e=>e.ppgChannel===t.redChannel);if(!o||!a)return null;if(o.samples.length<i||a.samples.length<i)return null;const l=o.samples.slice(-i),s=a.samples.slice(-i),u=yl(l,.5,n),c=yl(s,.5,n),f=Math.abs(u.reduce((e,t)=>e+t,0)/u.length),d=Math.abs(c.reduce((e,t)=>e+t,0)/c.length);if(f<=0||d<=0)return{ok:!1,reason:"DC_ZERO",irLabel:o.label,redLabel:a.label};const h=wl(Sl(l),pl,4,n),p=wl(Sl(s),pl,4,n),m=(xl(h,.95)-xl(h,.05))/2,v=(xl(p,.95)-xl(p,.05))/2;if(m<=0||v<=0)return{ok:!1,reason:"AC_ZERO",irLabel:o.label,redLabel:a.label,piIr:m/f,piRed:v/d};const g=m/f,b=v/d;if(!Number.isFinite(g)||!Number.isFinite(b))return{ok:!1,reason:"PI_NAN",irLabel:o.label,redLabel:a.label,piIr:g,piRed:b};if(g<=.005||b<=.005)return{ok:!1,reason:"PI_LOW",irLabel:o.label,redLabel:a.label,piIr:g,piRed:b,ratio:b/g};const y=b/g;let w=110-25*y;return w=Math.max(80,Math.min(100,w)),{ok:!0,spo2:w,ratio:y,piIr:g,piRed:b,irLabel:o.label,redLabel:a.label}}function Cl(e,t){return t&&"number"===typeof t.greenChannel?e.filter(e=>e.ppgChannel!==t.greenChannel):e}function Nl(e,t){const n=e.filter(e=>e&&Array.isArray(e.samples)&&e.samples.length>0);if(0===n.length)return null;const r=n.map(e=>e.samples.length),i=Math.min(t||1/0,...r);if(!Number.isFinite(i)||i<=0)return null;const o=new Array(i);for(let a=0;a<i;a+=1){let e=0;for(let t=0;t<n.length;t+=1){const r=n[t].samples;e+=r[r.length-i+a]}o[a]=e/n.length}return{label:"PPG combined",samples:o}}function El(e,t){if(!e||e.length<3*t)return null;const n=_l(wl(Sl(e),pl,4,t),t);if(n.length<2)return null;const r=[];for(let l=1;l<n.length;l+=1)r.push(n[l]-n[l-1]);r.sort((e,t)=>e-t);const i=Math.floor(r.length/2),o=r.length%2===0?(r[i-1]+r[i])/2:r[i];if(!o||o<=0)return null;const a=Math.round(60*t/o);return a<35||a>220?null:a}function Tl(e,t){let n=null,r=-1/0;return e.forEach(e=>{const i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8;if(!e||e.length<3*t)return null;const r=Math.min(e.length,Math.round(t*n));if(r<=0)return null;const i=wl(Sl(e.slice(-r)),pl,4,t);if(!i.length)return null;const o=xl(i,.05),a=xl(i,.95)-o;return Number.isFinite(a)&&a>0?a:null}(e.samples,t,8);null!=i&&i>r&&(n=e,r=i)}),n?{channel:n,quality:r}:null}function Ml(e,t,n,r){if(!e||0===e.length)return{selection:null,next:n};const i=Tl(e,t);if(!i)return{selection:null,next:n};const o=null!=(null===n||void 0===n?void 0:n.channelId)?e.find(e=>e.ppgChannel===n.channelId):null;return o&&Array.isArray(o.samples)&&o.samples.length>0?i.channel.ppgChannel===n.channelId?{selection:{channel:o,quality:i.quality},next:l(l({},n),{},{label:o.label||n.label,quality:i.quality})}:r-n.selectedAt<1e4?{selection:{channel:o,quality:n.quality},next:n}:{selection:i,next:{channelId:i.channel.ppgChannel,label:i.channel.label||null,quality:i.quality,selectedAt:r}}:{selection:i,next:{channelId:i.channel.ppgChannel,label:i.channel.label||null,quality:i.quality,selectedAt:r}}}function jl(e,t){if(!e||e.length<3*t)return null;const n=wl(Sl(e),pl,4,t),r=_l(n,t);if(r.length<2)return null;const i=[];for(let o=Math.max(1,r.length-5);o<r.length;o+=1){const e=r[o-1],t=r[o];t>e&&i.push(...n.slice(e,t))}return i.length>0?{label:"Cardiogram",samples:i}:null}function Al(e,t,n){if(!t||0===t.length)return e;const r=new Set(t),i=null===n||void 0===n?void 0:n.irChannel,o=null===n||void 0===n?void 0:n.redChannel,a=null===n||void 0===n?void 0:n.greenChannel;return e.filter(e=>!!r.has(e.label)||(!(e.ppgChannel!==i||!r.has("IR"))||(!(e.ppgChannel!==o||!r.has("RED"))||!(e.ppgChannel!==a||!r.has("AMBIENT")))))}function Pl(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}const Dl=120,Il={selectedChannels:[],selectedPpgChannels:["IR","AMBIENT","RED"],shareTelemetry:!0,shareAccelerometer:!0,shareGyro:!0,ppgSensorMapping:{irChannel:1,redChannel:2,greenChannel:0},trainingTargets:[],bandWindowSec:300,spectrogramWindowSec:300,bandSmoothingSec:20,deltaSmoothingSec:20,eegTraceWindow:4096,eegFftWindow:1024,ppgTraceWindow:3840,notchHz:50,spectrogramUseCachedSlices:!0,artifactWindowSec:2,artifactStepSec:1,amplitudeRangeThreshold:150,lineNoiseHz:60,lineNoiseBandHz:2,lineNoiseMaxHz:80,lineNoiseRatioThreshold:.5,targetSensitivityRisePerSec:.002,targetSensitivityFallPerSec:.008,targetSensitivityMin:0,targetSensitivityMax:2,audioSensitivityRisePerSec:.01,audioSensitivityFallPerSec:.003,audioSensitivityMin:1,audioSensitivityMax:2,audioFeedbackScale:5,audioFeedbackGain:.2,audioIncreaseStopNorm:.5,rejectionOverlayMode:"auto",rejectionOverlayMaxWindows:200,showBandPower:!1,showPeriodograms:!1,showSpectrogram:!1,showArtifactDiagnostics:!0};function Fl(e){return"ratio"===(null===e||void 0===e?void 0:e.model)?"ratio":"relative"}function Rl(e,t){var n,r;const i=t.get(e.label);if(!i)return null;if("ratio"===Fl(e)){var o,a,l,s;const t=null===(o=i.bands)||void 0===o||null===(a=o[e.numeratorBand])||void 0===a?void 0:a.relative,n=null===(l=i.bands)||void 0===l||null===(s=l[e.denominatorBand])||void 0===s?void 0:s.relative;return"number"!==typeof t||"number"!==typeof n||0===n?null:t/n}const u=null===(n=i.bands)||void 0===n||null===(r=n[e.band])||void 0===r?void 0:r.relative;return"number"===typeof u?u:null}const zl=function(){var t,n,r,i,o,a,s,c,f,d,h,p,m,v,g,b,y,w,x,S,_,k,C,N,E,T,M,j,A,P,D,I,F,R,z,L;const[O,B]=(0,e.useState)(Il.selectedChannels),[U,H]=(0,e.useState)(Il.selectedPpgChannels),[V,W]=(0,e.useState)(Il.shareTelemetry),[q,G]=(0,e.useState)(Il.shareAccelerometer),[Y,$]=(0,e.useState)(Il.shareGyro),[Q,X]=(0,e.useState)(Il.ppgSensorMapping),[Z,K]=(0,e.useState)(null),[J,ee]=(0,e.useState)(null),[te,ne]=(0,e.useState)(null),[re,ie]=(0,e.useState)(Il.trainingTargets),[oe,ae]=(0,e.useState)([]),[le,se]=(0,e.useState)({}),[ue,ce]=(0,e.useState)({}),[fe,de]=(0,e.useState)({}),[he,pe]=(0,e.useState)(Il.bandWindowSec),[me,ve]=(0,e.useState)(Il.spectrogramWindowSec),[ge,be]=(0,e.useState)(Il.bandSmoothingSec),[ye,we]=(0,e.useState)(Il.deltaSmoothingSec),[xe,Se]=(0,e.useState)(Il.eegTraceWindow),[_e,ke]=(0,e.useState)(Il.eegFftWindow),[Ce,Ne]=(0,e.useState)(Il.ppgTraceWindow),[Ee,Te]=(0,e.useState)(Il.notchHz),[Me,je]=(0,e.useState)(Il.artifactWindowSec),[Ae,Pe]=(0,e.useState)(Il.artifactStepSec),[De,Ie]=(0,e.useState)(Il.amplitudeRangeThreshold),[Fe,Re]=(0,e.useState)(Il.lineNoiseHz),[ze,Le]=(0,e.useState)(Il.lineNoiseBandHz),[Oe,Be]=(0,e.useState)(Il.lineNoiseMaxHz),[Ue,He]=(0,e.useState)(Il.lineNoiseRatioThreshold),[Ve,We]=(0,e.useState)(Il.rejectionOverlayMode),[qe,Ge]=(0,e.useState)(Il.rejectionOverlayMaxWindows),[Ye,$e]=(0,e.useState)(!1),[Qe,Xe]=(0,e.useState)(!1),[Ze,Ke]=(0,e.useState)({isStreaming:!1,dataStale:!1,isConnected:!1,isConnecting:!1}),[Je,et]=(0,e.useState)(null),[tt,nt]=(0,e.useState)(null),[rt,it]=(0,e.useState)(null),ot=(0,e.useRef)(null),at=(0,e.useRef)(0),lt=(0,e.useRef)(0),st=(0,e.useRef)(null),ut=(0,e.useRef)(null),[ct,ft]=(0,e.useState)(null),[dt,ht]=(0,e.useState)([]),[pt,mt]=(0,e.useState)([]),[vt,gt]=(0,e.useState)([]),[bt,yt]=(0,e.useState)([]),[wt,xt]=(0,e.useState)([]),[St,_t]=(0,e.useState)([]),[kt,Ct]=(0,e.useState)([]),[Nt,Et]=(0,e.useState)([]),[Tt,Mt]=(0,e.useState)([]),jt=256,At=12e4,Pt=Math.max(1,Math.round(7680)),Dt=6e4,{eegData:It,lastFFT:Ft,channelMaps:Rt,handleChannelMaps:zt,handleEegPacket:Lt}=hl({sampleRateHz:jt,fftWindow:_e,traceWindow:xe,notchHz:Ee,spectrogramWindowSec:me,artifactWindowSec:Me,artifactStepSec:Ae,amplitudeRangeThreshold:De,lineNoiseHz:Fe,lineNoiseBandHz:ze,lineNoiseMaxHz:Oe,lineNoiseRatioThreshold:Ue,autoDownloadMs:Dt}),{ppgChannels:Ot,heartData:Bt,handlePpgPacket:Ut}=function(t){let{ppgTraceWindow:n,sampleRateHz:r,autoDownloadMs:i=0,enabledPpgLabels:o=[],sensorMapping:a=vl}=t;const s=(0,e.useRef)([]),[u,c]=(0,e.useState)([]),[f,d]=(0,e.useState)({heartRateBpm:null,spo2:null,spo2Ratio:null,perfusionIndexIr:null,perfusionIndexRed:null,spo2Labels:null,pulseChannelLabel:null,pulseChannelId:null,pulseChannelQuality:null,combinedPpg:null,cardiogramPpg:null,ppgChannels:[],ppgChannelsAll:[],sampleRateHz:r,sensorMapping:a}),h=(0,e.useRef)(!1),p=(0,e.useRef)(0),m=(0,e.useRef)(0),v=(0,e.useRef)(o),g=(0,e.useRef)(null),b=(0,e.useRef)({channelId:null,label:null,quality:null,selectedAt:0});(0,e.useEffect)(()=>{v.current=Array.isArray(o)?o:[]},[o]);const y=(0,e.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;if(h.current)return;const t=Date.now(),n=Math.max(0,e-(t-p.current));h.current=!0,setTimeout(()=>{h.current=!1,p.current=Date.now(),c([...s.current.filter(Boolean)])},n)},[]),w=(0,e.useCallback)(e=>{var t,o,l,u,c,f,h,p,w,x,S,_;if(!e||"number"!==typeof e.ppgChannel)return;if(e.ppgChannel>2)return;const k=e.ppgChannel;s.current[k]?e.label&&(s.current[k].label=e.label):s.current[k]={ppgChannel:k,label:e.label||"PPG".concat(k+1),samples:[]};const C=s.current[k],N=C.samples;N.push(...e.samples);const E=Math.ceil(i/1e3*r),T=Math.max(n,E,8*r);N.length>T&&N.splice(0,N.length-T),C.samples=N,y();const M=Date.now();if(M-m.current<500)return;m.current=M;const j=Al(s.current.filter(e=>e&&e.samples.length>0&&e.ppgChannel<=2),v.current,a),A=Cl(j,a),P=Ml(j,r,b.current,M);b.current=P.next;const D=P.selection,I=Nl(A,n);if(!I&&!D)return;const F=(null===D||void 0===D||null===(t=D.channel)||void 0===t?void 0:t.samples)||(null===I||void 0===I?void 0:I.samples)||[],R=Math.min(F.length,8*r),z=F.slice(-R),L=El(z,r),O=jl(z,r),B=kl(A,a,r,8),U=A.find(e=>e.ppgChannel===a.irChannel),H=A.find(e=>e.ppgChannel===a.redChannel),V=null!==B&&void 0!==B&&B.ok?B.spo2:null;null!=V&&(g.current=null==g.current?V:ml*V+.8*g.current),d({heartRateBpm:L,spo2:null!==(o=g.current)&&void 0!==o?o:V,spo2Ratio:null!==(l=null===B||void 0===B?void 0:B.ratio)&&void 0!==l?l:null,perfusionIndexIr:null!==(u=null===B||void 0===B?void 0:B.piIr)&&void 0!==u?u:null,perfusionIndexRed:null!==(c=null===B||void 0===B?void 0:B.piRed)&&void 0!==c?c:null,spo2Labels:{ir:(null===U||void 0===U?void 0:U.label)||null,red:(null===H||void 0===H?void 0:H.label)||null},pulseChannelLabel:(null===D||void 0===D||null===(f=D.channel)||void 0===f?void 0:f.label)||null,pulseChannelId:null!==(h=null===D||void 0===D||null===(p=D.channel)||void 0===p?void 0:p.ppgChannel)&&void 0!==h?h:null,pulseChannelQuality:null!==(w=null===D||void 0===D?void 0:D.quality)&&void 0!==w?w:null,spo2Debug:null!==B&&void 0!==B&&B.ok?{ok:!0}:{ok:!1,reason:(null===B||void 0===B?void 0:B.reason)||"NO_DATA",piIr:null!==(x=null===B||void 0===B?void 0:B.piIr)&&void 0!==x?x:null,piRed:null!==(S=null===B||void 0===B?void 0:B.piRed)&&void 0!==S?S:null,ratio:null!==(_=null===B||void 0===B?void 0:B.ratio)&&void 0!==_?_:null},combinedPpg:I,cardiogramPpg:O,ppgChannels:A,ppgChannelsAll:j,sampleRateHz:r,sensorMapping:a})},[i,n,r,y,a]);return(0,e.useEffect)(()=>{d(e=>l(l({},e),{},{sampleRateHz:r,sensorMapping:a}))},[r,a]),(0,e.useEffect)(()=>{var e,t,i,o,u,c,f,h,p,m,y,w;const x=s.current.filter(e=>e&&e.samples.length>0&&e.ppgChannel<=2),S=Date.now(),_=Al(x,v.current,a),k=Cl(_,a),C=Ml(_,r,b.current,S);b.current=C.next;const N=C.selection,E=Nl(k,n);if(!E&&!N)return b.current={channelId:null,label:null,quality:null,selectedAt:0},d(e=>l(l({},e),{},{heartRateBpm:null,spo2:null,spo2Ratio:null,perfusionIndexIr:null,perfusionIndexRed:null,spo2Labels:{ir:null,red:null},pulseChannelLabel:null,pulseChannelId:null,pulseChannelQuality:null,spo2Debug:{ok:!1,reason:"NO_SIGNAL",piIr:null,piRed:null,ratio:null},combinedPpg:null,cardiogramPpg:null,ppgChannels:k,ppgChannelsAll:_})),void(g.current=null);const T=(null===N||void 0===N||null===(e=N.channel)||void 0===e?void 0:e.samples)||(null===E||void 0===E?void 0:E.samples)||[],M=Math.min(T.length,8*r),j=T.slice(-M),A=El(j,r),P=jl(j,r),D=kl(k,a,r,8),I=k.find(e=>e.ppgChannel===a.irChannel),F=k.find(e=>e.ppgChannel===a.redChannel),R=null!==D&&void 0!==D&&D.ok?D.spo2:null;null!=R&&(g.current=null==g.current?R:ml*R+.8*g.current),d({heartRateBpm:A,spo2:null!==(t=g.current)&&void 0!==t?t:R,spo2Ratio:null!==(i=null===D||void 0===D?void 0:D.ratio)&&void 0!==i?i:null,perfusionIndexIr:null!==(o=null===D||void 0===D?void 0:D.piIr)&&void 0!==o?o:null,perfusionIndexRed:null!==(u=null===D||void 0===D?void 0:D.piRed)&&void 0!==u?u:null,spo2Labels:{ir:(null===I||void 0===I?void 0:I.label)||null,red:(null===F||void 0===F?void 0:F.label)||null},pulseChannelLabel:(null===N||void 0===N||null===(c=N.channel)||void 0===c?void 0:c.label)||null,pulseChannelId:null!==(f=null===N||void 0===N||null===(h=N.channel)||void 0===h?void 0:h.ppgChannel)&&void 0!==f?f:null,pulseChannelQuality:null!==(p=null===N||void 0===N?void 0:N.quality)&&void 0!==p?p:null,spo2Debug:null!==D&&void 0!==D&&D.ok?{ok:!0}:{ok:!1,reason:(null===D||void 0===D?void 0:D.reason)||"NO_DATA",piIr:null!==(m=null===D||void 0===D?void 0:D.piIr)&&void 0!==m?m:null,piRed:null!==(y=null===D||void 0===D?void 0:D.piRed)&&void 0!==y?y:null,ratio:null!==(w=null===D||void 0===D?void 0:D.ratio)&&void 0!==w?w:null},combinedPpg:E,cardiogramPpg:P,ppgChannels:k,ppgChannelsAll:_,sampleRateHz:r,sensorMapping:a})},[o,n,r,a]),{ppgChannels:u,heartData:f,handlePpgPacket:w}}({ppgTraceWindow:Ce,sampleRateHz:64,autoDownloadMs:Dt,enabledPpgLabels:U,sensorMapping:Q}),Ht=(0,e.useCallback)(e=>{ot.current=Date.now(),at.current+=1,Lt(e)},[Lt]),Vt=(0,e.useCallback)(e=>{Ut(e)},[Ut]),Wt=(0,e.useCallback)(e=>{et(e)},[]),qt=(0,e.useCallback)(e=>{nt(e)},[]),Gt=(0,e.useCallback)(e=>{it(e)},[]),Yt=(0,e.useCallback)(e=>{var t;if(K((null===e||void 0===e?void 0:e.deviceInfo)||null),ee((null===e||void 0===e?void 0:e.ppgLabelMap)||null),ne((null===e||void 0===e?void 0:e.deviceType)||null),null!==e&&void 0!==e&&null!==(t=e.ppgLabelMap)&&void 0!==t&&t.mapping){const t=e.ppgLabelMap.mapping;X({irChannel:t.infrared,redChannel:t.red,greenChannel:t.ambient})}},[]),$t=(0,e.useCallback)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12e4;if(!Number.isFinite(t))return;const r=Date.now();e(e=>[...e,{t:r,v:t}].filter(e=>e.t>=r-n))},[]);(0,e.useEffect)(()=>{Je&&(Number.isFinite(Je.batteryLevel)&&$t(mt,Je.batteryLevel),Number.isFinite(Je.temperature)&&$t(gt,Je.temperature))},[Je,$t]),(0,e.useEffect)(()=>{if(null===tt||void 0===tt||!tt.samples||0===tt.samples.length)return;const e=tt.samples[tt.samples.length-1];e&&($t(yt,e.x),$t(xt,e.y),$t(_t,e.z))},[tt,$t]),(0,e.useEffect)(()=>{if(null===rt||void 0===rt||!rt.samples||0===rt.samples.length)return;const e=rt.samples[rt.samples.length-1];e&&($t(Ct,e.x),$t(Et,e.y),$t(Mt,e.z))},[rt,$t]);const[Qt,Xt]=(0,e.useState)({}),Zt=(0,e.useRef)(null),Kt=(0,e.useRef)(null),Jt=(0,e.useRef)(null),en=(0,e.useRef)({value:1,lastUpdate:Date.now()}),tn=(0,e.useRef)({}),nn=(0,e.useRef)({}),rn=(0,e.useRef)(Il),[on,an]=(0,e.useState)(Il.showBandPower),[ln,sn]=(0,e.useState)(Il.showPeriodograms),[un,cn]=(0,e.useState)(Il.showSpectrogram),[fn,dn]=(0,e.useState)(Il.spectrogramUseCachedSlices),[hn,pn]=(0,e.useState)(Il.showArtifactDiagnostics),[mn,vn]=(0,e.useState)(null),gn=(0,e.useRef)(null),[bn,yn]=(0,e.useState)(null),[wn,xn]=(0,e.useState)([]),[Sn,_n]=(0,e.useState)({profiles:[]}),[kn,Cn]=(0,e.useState)(!0),[Nn,En]=(0,e.useState)(null),Tn=(0,e.useMemo)(()=>({show:"\u25cb",hide:"\u25c9",expand:"\u2922",collapse:"\u2921"}),[]);function Mn(e){const t=l(l({},Il),e||{});B(Array.isArray(t.selectedChannels)?t.selectedChannels:Il.selectedChannels),H(Array.isArray(t.selectedPpgChannels)?t.selectedPpgChannels:Il.selectedPpgChannels),"boolean"===typeof t.shareTelemetry&&W(t.shareTelemetry),"boolean"===typeof t.shareAccelerometer&&G(t.shareAccelerometer),"boolean"===typeof t.shareGyro&&$(t.shareGyro),t.ppgSensorMapping&&"object"===typeof t.ppgSensorMapping&&X(t.ppgSensorMapping),ie(Array.isArray(t.trainingTargets)?t.trainingTargets:Il.trainingTargets),"number"===typeof t.bandWindowSec&&pe(t.bandWindowSec),"number"===typeof t.spectrogramWindowSec&&ve(t.spectrogramWindowSec),"number"===typeof t.bandSmoothingSec&&be(t.bandSmoothingSec),"number"===typeof t.deltaSmoothingSec&&we(t.deltaSmoothingSec),"number"===typeof t.eegTraceWindow&&Se(t.eegTraceWindow),"number"===typeof t.eegFftWindow&&ke(t.eegFftWindow),"number"===typeof t.ppgTraceWindow&&Ne(t.ppgTraceWindow),"number"===typeof t.notchHz&&Te(t.notchHz),"boolean"===typeof t.spectrogramUseCachedSlices&&dn(t.spectrogramUseCachedSlices),"number"===typeof t.artifactWindowSec&&je(t.artifactWindowSec),"number"===typeof t.artifactStepSec&&Pe(t.artifactStepSec),"number"===typeof t.amplitudeRangeThreshold&&Ie(t.amplitudeRangeThreshold),"number"===typeof t.lineNoiseHz&&Re(t.lineNoiseHz),"number"===typeof t.lineNoiseBandHz&&Le(t.lineNoiseBandHz),"number"===typeof t.lineNoiseMaxHz&&Be(t.lineNoiseMaxHz),"number"===typeof t.lineNoiseRatioThreshold&&He(t.lineNoiseRatioThreshold),"string"===typeof t.rejectionOverlayMode&&We(t.rejectionOverlayMode),"number"===typeof t.rejectionOverlayMaxWindows&&Ge(t.rejectionOverlayMaxWindows),"boolean"===typeof t.showBandPower&&an(t.showBandPower),"boolean"===typeof t.showPeriodograms&&sn(t.showPeriodograms),"boolean"===typeof t.showSpectrogram&&cn(t.showSpectrogram),"boolean"===typeof t.showArtifactDiagnostics&&pn(t.showArtifactDiagnostics)}(0,e.useEffect)(()=>{const e=gn.current;e&&(e.scrollTop=e.scrollHeight)},[null===mn||void 0===mn||null===(t=mn.eventLog)||void 0===t?void 0:t.length]),(0,e.useEffect)(()=>{Cn(!0),En(null);const e=Date.now(),t="".concat("/meditrain","/band_targets.json?ts=").concat(e);fetch(t,{cache:"no-store",headers:{"Cache-Control":"no-store"}}).then(e=>{if(!e.ok)throw new Error("Failed to load band_targets.json: HTTP ".concat(e.status," ").concat(e.statusText));const t=e.headers.get("content-type");if(t&&t.includes("text/html"))throw new Error("Failed to load band_targets.json: received HTML (likely base path or SPA fallback)");return e.json()}).then(e=>{if(!e.profiles||!Array.isArray(e.profiles))throw new Error("Failed to load band_targets.json: missing profiles array");_n(e),Cn(!1)}).catch(e=>{throw Cn(!1),En(e&&e.message?e.message:"Failed to load band_targets.json"),e})},[]);const jn=It.length,An=It.reduce((e,t)=>{var n;return e+((null===(n=t.samples)||void 0===n?void 0:n.length)||0)},0),Pn=It.reduce((e,t)=>{var n;return e+((null===(n=t.periodograms)||void 0===n?void 0:n.length)||0)},0),Dn=Array.from(new Set(It.map(e=>e.label||e.electrode))),In=Array.from(new Set(Ot.map(e=>e.label)));(0,e.useEffect)(()=>{if(Dn.length>0&&0===O.length){const e=Dn.filter(e=>"AUXL"!==e&&"AUXR"!==e);B(e)}},[Dn,O.length]),(0,e.useEffect)(()=>{if(In.length>0&&0===U.length){const e=["IR","AMBIENT","RED"].filter(e=>In.includes(e));H(e.length>0?e:In)}},[In,U.length]),(0,e.useEffect)(()=>{0!==In.length&&H(e=>e.filter(e=>In.includes(e)))},[In]),(0,e.useEffect)(()=>{let e=!0;return(async()=>{const t=Date.now(),n="".concat("/meditrain","/default_settings.json?ts=").concat(t),r=await fetch(n,{cache:"no-store",headers:{"Cache-Control":"no-store"}});if(!r.ok)throw new Error("Failed to load default_settings.json: HTTP ".concat(r.status," ").concat(r.statusText));const i=r.headers.get("content-type");if(i&&i.includes("text/html"))throw new Error("Failed to load default_settings.json: received HTML (likely base path or SPA fallback)");const o=await r.json(),a=l(l({},Il),o||{});if(e){rn.current=a,Mn(a);try{const e=JSON.parse(localStorage.getItem("meditrain-settings")||"{}");Mn(l(l({},a),e||{}))}catch(s){}}})(),()=>{e=!1}},[]);const Fn=(0,e.useCallback)(()=>{const e={selectedChannels:O,selectedPpgChannels:U,shareTelemetry:V,shareAccelerometer:q,shareGyro:Y,ppgSensorMapping:Q,trainingTargets:re,bandWindowSec:he,spectrogramWindowSec:me,bandSmoothingSec:ge,deltaSmoothingSec:ye,eegTraceWindow:xe,eegFftWindow:_e,ppgTraceWindow:Ce,notchHz:Ee,spectrogramUseCachedSlices:fn,artifactWindowSec:Me,artifactStepSec:Ae,amplitudeRangeThreshold:De,lineNoiseHz:Fe,lineNoiseBandHz:ze,lineNoiseMaxHz:Oe,lineNoiseRatioThreshold:Ue,rejectionOverlayMode:Ve,rejectionOverlayMaxWindows:qe,showBandPower:on,showPeriodograms:ln,showSpectrogram:un,showArtifactDiagnostics:hn};localStorage.setItem("meditrain-settings",JSON.stringify(e))},[O,U,V,q,Y,Q,re,he,me,ge,ye,xe,_e,Ce,Ee,fn,Me,Ae,De,Fe,ze,Oe,Ue,Ve,qe,on,ln,un,hn]),Rn=(0,e.useCallback)(()=>{Mn(rn.current||Il),localStorage.removeItem("meditrain-settings")},[]);(0,e.useEffect)(()=>{if(null==Bt.heartRateBpm)return;const e=Date.now();xn(t=>{const n=t[t.length-1];if(n&&e-n.t<1e3)return t;const r=e-At;return[...t,{t:e,v:Bt.heartRateBpm}].filter(e=>e.t>=r)})},[Bt.heartRateBpm,At]),(0,e.useEffect)(()=>{xe<_e&&Se(_e)},[_e,xe]),(0,e.useEffect)(()=>{Ce<Pt&&Ne(Pt)},[Pt,Ce]);const zn=0===O.length?It:It.filter(e=>O.includes(e.label||e.electrode)),Ln=(0,e.useMemo)(()=>zn.map(e=>{var t;const n=e.label||e.electrode,r=(null===(t=e.samples)||void 0===t?void 0:t.slice(-xe))||[],i=Array.isArray(e.artifactWindows)?e.artifactWindows:[];return{label:n,samples:r,artifactWindows:i,latest:e.artifactLatest||i[i.length-1]||null}}),[zn,xe]),On=(0,e.useCallback)((e,t,n,r)=>{const i=[],o=[];for(let l=0;l<e.length;l+=1){const a=e[l];a>=n&&a<r&&(i.push(a),o.push(t[l]))}if(i.length<2)return 0;let a=0;for(let l=1;l<i.length;l+=1)a+=(i[l]-i[l-1])*(o[l]+o[l-1])*.5;return a},[]),Bn=(0,e.useCallback)(e=>{if(!e.length)return 0;const t=[...e].sort((e,t)=>e-t),n=Math.floor(t.length/2);return t.length%2===1?t[n]:(t[n-1]+t[n])/2},[]),Un=(0,e.useCallback)(e=>{if(!e||0===e.length)return null;const t=e[0];if(null===t||void 0===t||!t.frequencies||null===t||void 0===t||!t.magnitudes)return null;const n=t.magnitudes.map((t,n)=>{const r=e.map(e=>{var t;return null===(t=e.magnitudes)||void 0===t?void 0:t[n]}).filter(e=>"number"===typeof e);return Bn(r)});return{frequencies:t.frequencies,magnitudes:n}},[Bn]);(0,e.useEffect)(()=>{const e=0===O.length?It:It.filter(e=>O.includes(e.label||e.electrode)),t=[],n=Date.now();e.forEach(e=>{var r,i,o;const a=e.label||e.electrode;if(null!==e&&void 0!==e&&null!==(r=e.artifactLatest)&&void 0!==r&&r.amplitudeArtifact||null!==e&&void 0!==e&&null!==(i=e.artifactLatest)&&void 0!==i&&i.lineNoiseArtifact){const e=tn.current[a];return void(e&&t.push(l(l({},e),{},{timestamp:n})))}const s=null!==e&&void 0!==e&&null!==(o=e.periodograms)&&void 0!==o&&o.length?e.periodograms:[],u=Un(s)||(null===e||void 0===e?void 0:e.averagedPeriodogram);if(!u)return;const c={};let f=0;Ua.forEach(e=>{let{key:t}=e;c[t]=0});const d=u.frequencies,h=u.magnitudes;Ua.forEach(e=>{let{key:t,min:n,max:r}=e;const i=On(d,h,n,r);c[t]+=i,f+=i});const p={};Ua.forEach(e=>{let{key:t}=e;const n=c[t];p[t]={absolute:n,relative:f>0?n/f:0}});const m={label:a,bands:p,timestamp:n};tn.current[a]=m,t.push(m)});const r=Object.fromEntries(t.map(e=>[e.label,e]));function i(e,i){const o=i.map(e=>r[e]).filter(Boolean);if(0===o.length)return;const a={};Ua.forEach(e=>{let{key:t}=e;a[t]=0}),o.forEach(e=>{Ua.forEach(t=>{var n,r;let{key:i}=t;a[i]+=(null===(n=e.bands)||void 0===n||null===(r=n[i])||void 0===r?void 0:r.absolute)||0})});const l=Object.values(a).reduce((e,t)=>e+t,0),s={};Ua.forEach(e=>{let{key:t}=e;const n=a[t];s[t]={absolute:n,relative:l>0?n/l:0}}),t.push({label:e,bands:s,timestamp:n})}i("ALL",t.map(e=>e.label)),i("PAIR_TP9_10",["TP9","TP10"]),i("PAIR_AF7_8",["AF7","AF8"]),ae(t)},[It,O,On,Un]),(0,e.useEffect)(()=>{const e={};let t=!1;if(oe.forEach(n=>{const r=Ua.map(e=>{var t,r;return(null===(t=n.bands)||void 0===t||null===(r=t[e.key])||void 0===r?void 0:r.relative)||0}).join("|");e[n.label]=r,t||nn.current[n.label]===r||(t=!0)}),!t&&Object.keys(e).length===Object.keys(nn.current).length&&Object.keys(e).every(t=>nn.current[t]===e[t]))return;nn.current=e;const n=Date.now(),r=1e3*he,i=1e3*ge;se(e=>{const t=l({},e),o=new Set;return oe.forEach(e=>{const a=e.label;o.add(a),t[a]||(t[a]={}),Ua.forEach(o=>{var l,s;let{key:u}=o;const c=null===(l=e.bands)||void 0===l||null===(s=l[u])||void 0===s?void 0:s.relative;if("number"!==typeof c)return;t[a][u]||(t[a][u]=[]);const f=e.timestamp||n;for(t[a][u].push({t:f,v:c});t[a][u].length&&t[a][u][0].t<f-r;)t[a][u].shift();const d=f-i,h=t[a][u].filter(e=>e.t>=d).map(e=>e.v),p=h.length?h.reduce((e,t)=>e+t,0)/h.length:c;t[a][u].avg=p})}),Object.keys(t).forEach(e=>{o.has(e)||delete t[e]}),t})},[oe,he,ge]),(0,e.useEffect)(()=>{if(0===re.length)return void Xt({});const e=Date.now();Xt(t=>{let n=!1;const r=l({},t),i=new Set(re.map(e=>e.id));return re.forEach(t=>{r[t.id]||(r[t.id]={value:1,lastUpdate:e,inZone:!1},n=!0)}),Object.keys(r).forEach(e=>{i.has(e)||(delete r[e],n=!0)}),n?r:t})},[re]),(0,e.useEffect)(()=>{if(0===re.length||0===oe.length)return;const e=Date.now(),t=new Map(oe.map(e=>[e.label,e]));Xt(n=>{let r=!1;const i=l({},n);return re.forEach(n=>{const o=Rl(n,t),a="number"===typeof n.tolerance?n.tolerance:0,l=i[n.id]||{value:1,lastUpdate:e,inZone:!1},s=Math.max(0,(e-l.lastUpdate)/1e3);if(0===s)return;const u=l.value>0?a/l.value:a,c="number"===typeof o?Math.abs(o-n.target)<=u:l.inZone,f=(c?.002:-.008)*s,d={value:Math.min(2,Math.max(0,l.value+f)),lastUpdate:e,inZone:c};d.value===l.value&&d.inZone===l.inZone&&d.lastUpdate===l.lastUpdate||(i[n.id]=d,r=!0)}),r?i:n})},[oe,re]);const Hn=(0,e.useMemo)(()=>{const e={};return re.forEach(t=>{const n=Qt[t.id]||{value:1,inZone:!1},r="number"===typeof t.tolerance?t.tolerance:0,i=n.value>0?r/n.value:r;e[t.id]={sensitivity:n.value,effectiveTolerance:i,inZone:n.inZone}}),e},[re,Qt]),Vn=(0,e.useMemo)(()=>{var e;const t=new Map(oe.map(e=>[e.label,e])),n=(null===(e=oe[0])||void 0===e?void 0:e.timestamp)||Date.now();return re.map(e=>{var r,i,o,a,l,s;const u=Rl(e,t),c=Hn[e.id];return{id:e.id,label:e.label,model:Fl(e),band:null!==(r=e.band)&&void 0!==r?r:null,numeratorBand:null!==(i=e.numeratorBand)&&void 0!==i?i:null,denominatorBand:null!==(o=e.denominatorBand)&&void 0!==o?o:null,target:e.target,tolerance:null!==(a=null!==(l=null===c||void 0===c?void 0:c.effectiveTolerance)&&void 0!==l?l:e.tolerance)&&void 0!==a?a:0,value:u,delta:"number"===typeof u?u-e.target:null,inZone:null!==(s=null===c||void 0===c?void 0:c.inZone)&&void 0!==s&&s,timestamp:n}})},[oe,re,Hn]),Wn=(0,e.useMemo)(()=>re.map(e=>{const t=Hn[e.id];return l(l({},e),{},{tolerance:t?t.effectiveTolerance:e.tolerance,baseTolerance:e.tolerance,sensitivity:t?t.sensitivity:1,inZone:!!t&&t.inZone})}),[re,Hn]);(0,e.useEffect)(()=>{if(0===Wn.length)return void ce({});const e=Date.now(),t=1e3*he;ce(n=>{const r=l({},n);return Wn.forEach(n=>{var i,o,a,l;if("relative"!==Fl(n))return;const s=n.label,u=n.band;if(!s||!u)return;r[s]||(r[s]={});const c=r[s][u]?[...r[s][u]]:[];c.push({t:e,target:n.target,tolerance:null!==(i=n.tolerance)&&void 0!==i?i:0,baseTolerance:null!==(o=null!==(a=n.baseTolerance)&&void 0!==a?a:n.tolerance)&&void 0!==o?o:0,sensitivity:null!==(l=n.sensitivity)&&void 0!==l?l:1}),r[s][u]=c.filter(n=>n.t>=e-t)}),r})},[Wn,he]),(0,e.useEffect)(()=>{if(0===Wn.length)return void de({});const e=Date.now(),t=1e3*he;de(n=>{const r=l({},n),i=new Set(Wn.map(e=>e.id));return Wn.forEach(n=>{var i,o,a,l;const s=r[n.id]?[...r[n.id]]:[];s.push({t:e,target:n.target,tolerance:null!==(i=n.tolerance)&&void 0!==i?i:0,baseTolerance:null!==(o=null!==(a=n.baseTolerance)&&void 0!==a?a:n.tolerance)&&void 0!==o?o:0,sensitivity:null!==(l=n.sensitivity)&&void 0!==l?l:1}),r[n.id]=s.filter(n=>n.t>=e-t)}),Object.keys(r).forEach(e=>{i.has(e)||delete r[e]}),r})},[Wn,he]);const qn=(0,e.useMemo)(()=>({trainingTargets:Wn,targetMetrics:Hn,targetHistory:ue,targetHistoryById:fe,targetReadings:Vn,telemetry:Je,accelerometer:tt,gyroscope:rt,telemetryHistory:{battery:pt,temperature:vt},accelerometerHistory:{x:bt,y:wt,z:St},gyroscopeHistory:{x:kt,y:Nt,z:Tt},deviceInfo:Z,ppgLabelMap:J,config:{bandWindowSec:he,bandSmoothingSec:ge,deltaSmoothingSec:ye,spectrogramWindowSec:me,eegTraceWindow:xe,eegFftWindow:_e,ppgTraceWindow:Ce,notchHz:Ee,spectrogramUseCachedSlices:fn,artifactWindowSec:Me,artifactStepSec:Ae,amplitudeRangeThreshold:De,lineNoiseHz:Fe,lineNoiseBandHz:ze,lineNoiseMaxHz:Oe,lineNoiseRatioThreshold:Ue,rejectionOverlayMode:Ve,rejectionOverlayMaxWindows:qe,ppgSensorMapping:Q}}),[Wn,Hn,ue,fe,Vn,Je,tt,rt,pt,vt,bt,wt,St,kt,Nt,Tt,Z,J,he,ge,ye,me,xe,_e,Ce,Ee,fn,Me,Ae,De,Fe,ze,Oe,Ue,Ve,qe,Q]),Gn=(0,e.useCallback)(function(){let{requireFullWindow:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=ot.current;if(!t)return!1;if(at.current<=lt.current)return!1;const n=Math.ceil(15360);let r=(It||[]).filter(e=>e&&e.samples&&e.samples.length>0);if(O.length>0&&(r=r.filter(e=>O.includes(e.label||e.electrode))),e&&(r=r.filter(e=>e.samples.length>=n)),0===r.length)return!1;const i=r.map(e=>e.samples.length),o=e?n:Math.min(...i);if(!o||o<=0)return!1;const a=function(e){let{activeEeg:t,windowSamples:n,sampleRateHz:r,lastTimestampMs:i,notchHz:o,downloadMetadata:a,ppgChannels:l,ppgSampleRateHz:s}=e;const u=1e3/r,c=new Date(i),f=new Date(c.getTime()-Math.max(n-1,0)*u).toISOString(),{eegBase:d,ppgBase:h}=function(e){const t=e.replace(/[:.]/g,"-"),n="sub-01_ses-01_task-meditrain_run-".concat(t,"_eeg"),r=n.replace("_eeg","_ppg");return{eegBase:n,ppgBase:r}}(f),p="".concat(d,".eeg"),m="".concat(d,".vhdr"),v="".concat(d,".vmrk"),g="".concat(d.replace("_eeg","_channels"),".tsv"),b="".concat(d,".json"),y="".concat(h,".tsv"),w="".concat(h,".json"),x=t.map(e=>e.label||e.electrode),S=t.map(e=>e.samples.slice(-n)),_=S.length,k=new Float32Array(n*_);for(let A=0;A<n;A+=1)for(let e=0;e<_;e+=1)k[A*_+e]=S[e][A]||0;const C=["Brain Vision Data Exchange Header File Version 1.0","; Generated by meditrain","","[Common Infos]","DataFile=".concat(p),"MarkerFile=".concat(v),"DataFormat=BINARY","DataOrientation=MULTIPLEXED","DataType=FLOAT32","NumberOfChannels=".concat(_),"SamplingInterval=".concat(Math.round(1e6/r)),"","[Channel Infos]",...x.map((e,t)=>"Ch".concat(t+1,"=").concat(e,",,uV"))],N=["Brain Vision Data Exchange Marker File, Version 1.0","; Generated by meditrain","","[Common Infos]","DataFile=".concat(p),"","[Marker Infos]","Mk1=New Segment,,1,1,0,0"],E={SamplingFrequency:r,PowerLineFrequency:60,EEGReference:"unknown",EEGGround:"unknown",SoftwareFilters:"none",RecordingType:"continuous",TaskName:"meditrain",AcquisitionDateTime:f,NotchHz:o};a&&(E.TrainingTargets=a.trainingTargets||[],E.TrainingTargetMetrics=a.targetMetrics||{},E.TrainingTargetHistory=a.targetHistory||{},E.TrainingTargetReadings=a.targetReadings||[],E.Config=a.config||{},a.telemetry&&(E.Telemetry=a.telemetry),a.accelerometer&&(E.Accelerometer=a.accelerometer),a.gyroscope&&(E.Gyroscope=a.gyroscope),a.telemetryHistory&&(E.TelemetryHistory=a.telemetryHistory),a.accelerometerHistory&&(E.AccelerometerHistory=a.accelerometerHistory),a.gyroscopeHistory&&(E.GyroscopeHistory=a.gyroscopeHistory),a.deviceInfo&&(E.DeviceInfo=a.deviceInfo),a.ppgLabelMap&&(E.PpgLabelMap=a.ppgLabelMap));const T=["name","type","units","sampling_frequency","low_cutoff","high_cutoff","reference"].join("\t"),M=x.map(e=>[e,"EEG","uV",r,"n/a","n/a","unknown"].join("\t"));Pl(new Blob([k.buffer],{type:"application/octet-stream"}),p),Pl(new Blob([C.join("\n")],{type:"text/plain"}),m),Pl(new Blob([N.join("\n")],{type:"text/plain"}),v),Pl(new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),b),Pl(new Blob([[T,...M].join("\n")],{type:"text/tab-separated-values"}),g);const j=(l||[]).filter(e=>e&&e.samples&&e.samples.length>0);if(j.length>0){const e=n/r,t=Math.min(Math.round(e*s),...j.map(e=>e.samples.length));if(t>0){const e=j.map(e=>e.samples.slice(-t)),n=j.map(e=>e.label).join("\t"),r=[];for(let o=0;o<t;o+=1)r.push(e.map(e=>{var t;return null!==(t=e[o])&&void 0!==t?t:""}).join("\t"));const i={SamplingFrequency:s,PowerLineFrequency:60,RecordingType:"continuous",TaskName:"meditrain",AcquisitionDateTime:f,Columns:j.map(e=>e.label)};Pl(new Blob([[n,...r].join("\n")],{type:"text/tab-separated-values"}),y),Pl(new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),w)}}return{captureStartedAtIso:f,windowSec:Math.floor(n/r)}}({activeEeg:r,windowSamples:o,sampleRateHz:jt,lastTimestampMs:t,notchHz:Ee,downloadMetadata:qn,ppgChannels:Ot,ppgSampleRateHz:64});lt.current=at.current,st.current=Date.now()+Dt;const l=a.windowSec;return ht(e=>[...e,{t:Date.now(),windowSec:l}].slice(-20)),!0},[Dt,qn,It,Ee,Ot,64,jt,O]);return(0,e.useEffect)(()=>{ut.current=Gn},[Gn]),(0,e.useEffect)(()=>{if(!Qe)return;if(!Ze.isStreaming)return;st.current||(st.current=Date.now()+Dt);const e=setInterval(()=>{at.current!==lt.current&&ut.current&&ut.current({requireFullWindow:!0})},Dt);return()=>{clearInterval(e),st.current=null}},[Qe,Dt,Ze.isStreaming]),(0,e.useEffect)(()=>{if(!Qe||!Ze.isStreaming)return st.current=null,void ft(null);const e=()=>{if(st.current||(st.current=Date.now()+Dt),!st.current)return void ft(null);const e=Math.max(0,st.current-Date.now());ft(Math.ceil(e/1e3))};e();const t=setInterval(e,500);return()=>clearInterval(t)},[Qe,Dt,Ze.isStreaming]),(0,e.useEffect)(()=>{if(!Ye||0===re.length)return;en.current={value:1,lastUpdate:Date.now()};const e=new(window.AudioContext||window.webkitAudioContext),t=2*e.sampleRate,n=e.createBuffer(1,t,e.sampleRate),r=n.getChannelData(0);for(let a=0;a<t;a++)r[a]=2*Math.random()-1;const i=e.createBufferSource();i.buffer=n,i.loop=!0;const o=e.createGain();return o.gain.value=0,i.connect(o).connect(e.destination),i.start(),Zt.current=e,Kt.current=o,Jt.current=i,()=>{i.stop(),i.disconnect(),o.disconnect(),e.close(),Zt.current=null,Kt.current=null,Jt.current=null}},[Ye,re.length]),(0,e.useEffect)(()=>{Ye&&0!==re.length&&(en.current={value:1,lastUpdate:Date.now()})},[Ye,re]),(0,e.useEffect)(()=>{if(!Ye||!Kt.current||0===re.length)return void(Kt.current&&Kt.current.gain.setTargetAtTime(0,Zt.current.currentTime,.05));let e=0,t=!0;const n=new Map(oe.map(e=>[e.label,e]));re.forEach(r=>{var i,o,a;const l=Rl(r,n);if("number"!==typeof l)return void(t=!1);const s=Math.abs(l-r.target),u=null!==(i=null!==(o=null===(a=Hn[r.id])||void 0===a?void 0:a.effectiveTolerance)&&void 0!==o?o:r.tolerance)&&void 0!==i?i:0,c=Math.max(0,s-u);c>e&&(e=c),c>0&&(t=!1)});const r=Date.now(),i=en.current,o=Math.max(0,(r-i.lastUpdate)/1e3),a=Math.max(0,Math.min(1,5*e/i.value)),l=(t&&a<=.5?.01:-.003)*o,s=Math.min(2,Math.max(1,i.value+l));en.current={value:s,lastUpdate:r};const u=Math.max(0,Math.min(1,5*e/s));Kt.current&&Kt.current.gain.setTargetAtTime(.2*u,Zt.current.currentTime,.05)},[Ye,re,oe,Hn]),(0,u.jsxs)("div",{className:"app-shell",children:[(0,u.jsx)("div",{className:"background-grid"}),(0,u.jsxs)("header",{className:"hero",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"eyebrow",children:"Meditrain"}),(0,u.jsx)("h1",{children:"EEG Biofeedback Lab"}),(0,u.jsx)("p",{children:"Connect a Muse headset, monitor brain rhythm trends in real time, and experiment with band-power training loops."}),(0,u.jsxs)("div",{className:"stat-row",children:[(0,u.jsxs)("div",{className:"stat-card",children:[(0,u.jsx)("p",{className:"stat-label",children:"Active Electrodes"}),(0,u.jsx)("p",{className:"stat-value",children:jn||"\u2014"})]}),(0,u.jsxs)("div",{className:"stat-card",children:[(0,u.jsx)("p",{className:"stat-label",children:"Samples Buffered"}),(0,u.jsx)("p",{className:"stat-value",children:An||"\u2014"})]}),(0,u.jsxs)("div",{className:"stat-card",children:[(0,u.jsx)("p",{className:"stat-label",children:"Periodograms"}),(0,u.jsx)("p",{className:"stat-value",children:Pn||"\u2014"})]})]})]}),(0,u.jsxs)("div",{className:"hero-card",children:[(0,u.jsx)("h3",{children:"Live Device & Signal"}),(0,u.jsx)("p",{children:"Connect, stream EEG, and preview channels without leaving this dashboard."}),(0,u.jsx)(Oa,{onEegPacket:Ht,onPpgPacket:Vt,onChannelMap:zt,onTelemetryPacket:Wt,onAccelerometerPacket:qt,onGyroPacket:Gt,onDeviceInfo:Yt,onStreamStatus:Ke,eegData:It,ppgChannels:Ot,channelMaps:Rt,onDeviceDebug:vn,selectedChannels:O,onToggleChannel:function(e){B(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},availableChannels:Dn,availablePpgChannels:In,selectedPpgChannels:U,onTogglePpgChannel:function(e){H(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},shareTelemetry:V,shareAccelerometer:q,shareGyro:Y,onToggleShareTelemetry:()=>W(e=>!e),onToggleShareAccelerometer:()=>G(e=>!e),onToggleShareGyro:()=>$(e=>!e),deviceInfo:Z,deviceType:te,ppgLabelMap:J,lastFFT:Ft,sampleRateHz:jt,ppgSampleRateHz:64,traceWindow:xe,fftWindow:_e,ppgTraceWindow:Ce})]})]}),(0,u.jsxs)("main",{className:"content-grid",children:[(0,u.jsxs)("section",{className:"panel tall ".concat("bandpower"===bn?"fullscreen":""),children:[(0,u.jsx)(Va,{title:"Band Power Observatory",subtitle:"Alpha / Beta / Gamma with regional deltas",indicator:(0,u.jsx)("span",{className:"heartbeat-dot ".concat(Ft&&Date.now()-Ft<5e3?"alive":""),children:Ft?"".concat(Math.round((Date.now()-Ft)/1e3),"s"):"\u2014"}),children:(0,u.jsxs)(Wa,{children:[(0,u.jsx)(qa,{pressed:on,ariaLabel:on?"Hide band power":"Show band power",title:on?"Hide band power":"Show band power",onClick:()=>an(e=>!e),children:on?Tn.hide:Tn.show}),(0,u.jsx)(qa,{pressed:"bandpower"===bn,ariaLabel:"bandpower"===bn?"Exit fullscreen":"Enter fullscreen",title:"bandpower"===bn?"Exit fullscreen":"Enter fullscreen",onClick:()=>yn(e=>"bandpower"===e?null:"bandpower"),children:"bandpower"===bn?Tn.collapse:Tn.expand})]})}),(0,u.jsx)("p",{className:"subdued",children:"Toggle into band views to compare electrodes, see averaged periodograms, and spot left/right imbalances. Targets (if defined) are shaded on each band line; a preview appears when no live data is available."}),on&&(0,u.jsx)(Ga,{bandHistory:le,trainingTargets:Wn,targetHistory:ue,windowSeconds:he})]}),(0,u.jsxs)("section",{className:"panel ".concat("training"===bn?"fullscreen":""),children:[(0,u.jsx)(Va,{title:"Training Console",subtitle:"Targets & feedback",children:(0,u.jsx)(Wa,{children:(0,u.jsx)(qa,{pressed:"training"===bn,ariaLabel:"training"===bn?"Exit fullscreen":"Enter fullscreen",title:"training"===bn?"Exit fullscreen":"Enter fullscreen",onClick:()=>yn(e=>"training"===e?null:"training"),children:"training"===bn?Tn.collapse:Tn.expand})})}),(0,u.jsx)("p",{className:"subdued",children:"Select targets, pick a feedback mode, and monitor how often you stay in the pocket."}),(0,u.jsx)(Xa,{availableChannels:Dn,selectedTargets:re,bandSnapshots:oe,bandHistory:le,targetHistoryById:fe,deltaSmoothingSec:ye,onSaveTarget:function(e){ie(t=>{const n=t.findIndex(t=>t.id===e.id);if(n>=0){const r=[...t];return r[n]=e,r}return[...t,e]})},onDeleteTarget:function(e){ie(t=>t.filter(t=>t.id!==e))},audioEnabled:Ye,onToggleAudio:$e,presets:Sn.profiles||[],presetsLoading:kn,presetsError:Nn,onApplyPreset:function(e){var t;const n=null===(t=Sn.profiles)||void 0===t?void 0:t.find(t=>t.name===e);if(!n)return;const r=[];n.targets.forEach(t=>{const i=t.electrodes||[],o=t.model||n.model||"relative";let a;if(a=2===i.length?i.includes("TP9")&&i.includes("TP10")?"PAIR_TP9_10":i.includes("AF7")&&i.includes("AF8")?"PAIR_AF7_8":i[0]:1===i.length?i[0]:"ALL","ratio"===o){const n=t.ratios||{};Object.entries(n).forEach(t=>{let[n,i]=t;null!==i&&void 0!==i&&i.numerator&&null!==i&&void 0!==i&&i.denominator&&r.push({id:"preset-".concat(e,"-").concat(a,"-").concat(n,"-").concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,5)),label:a,model:"ratio",numeratorBand:i.numerator,denominatorBand:i.denominator,target:i.target,tolerance:i.tolerance})})}else Object.entries(t.bands||{}).forEach(t=>{let[n,i]=t;r.push({id:"preset-".concat(e,"-").concat(a,"-").concat(n,"-").concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,5)),label:a,model:"relative",band:n,target:i.target,tolerance:i.tolerance})})}),ie(r)},onClearTargets:function(){ie([])},targetMetrics:Hn}),(0,u.jsx)(Za,{})]}),(0,u.jsxs)("section",{className:"panel ".concat("telemetry"===bn?"fullscreen":""),children:[(0,u.jsx)(Va,{title:"Telemetry",subtitle:"Battery, temperature, motion sensors",children:(0,u.jsx)(Wa,{children:(0,u.jsx)(qa,{pressed:"telemetry"===bn,ariaLabel:"telemetry"===bn?"Exit fullscreen":"Enter fullscreen",title:"telemetry"===bn?"Exit fullscreen":"Enter fullscreen",onClick:()=>yn(e=>"telemetry"===e?null:"telemetry"),children:"telemetry"===bn?Tn.collapse:Tn.expand})})}),(0,u.jsx)("p",{className:"subdued",children:"Latest sensor readings plus rolling charts for device health."}),(0,u.jsxs)("div",{className:"inline-status",style:{marginBottom:10,flexWrap:"wrap"},children:[(0,u.jsxs)("span",{className:"status-pill",children:["Battery: ",null!=(null===Je||void 0===Je?void 0:Je.batteryLevel)?"".concat(Je.batteryLevel,"%"):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Temp: ",null!=(null===Je||void 0===Je?void 0:Je.temperature)?"".concat(Je.temperature.toFixed(1),"\xb0C"):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Accel: ",null!==tt&&void 0!==tt&&null!==(n=tt.samples)&&void 0!==n&&n.length?"x".concat(null!==(r=null===(i=tt.samples.at(-1))||void 0===i||null===(o=i.x)||void 0===o?void 0:o.toFixed(2))&&void 0!==r?r:"\u2014"," y").concat(null!==(a=null===(s=tt.samples.at(-1))||void 0===s||null===(c=s.y)||void 0===c?void 0:c.toFixed(2))&&void 0!==a?a:"\u2014"," z").concat(null!==(f=null===(d=tt.samples.at(-1))||void 0===d||null===(h=d.z)||void 0===h?void 0:h.toFixed(2))&&void 0!==f?f:"\u2014"):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Gyro: ",null!==rt&&void 0!==rt&&null!==(p=rt.samples)&&void 0!==p&&p.length?"x".concat(null!==(m=null===(v=rt.samples.at(-1))||void 0===v||null===(g=v.x)||void 0===g?void 0:g.toFixed(2))&&void 0!==m?m:"\u2014"," y").concat(null!==(b=null===(y=rt.samples.at(-1))||void 0===y||null===(w=y.y)||void 0===w?void 0:w.toFixed(2))&&void 0!==b?b:"\u2014"," z").concat(null!==(x=null===(S=rt.samples.at(-1))||void 0===S||null===(_=S.z)||void 0===_?void 0:_.toFixed(2))&&void 0!==x?x:"\u2014"):"\u2014"]})]}),(0,u.jsxs)("div",{className:"chart-block",style:{marginBottom:10},children:[(0,u.jsx)("p",{className:"chart-label",children:"Battery (%)"}),(0,u.jsx)(sl,{points:pt,windowSec:Dl,height:140})]}),(0,u.jsxs)("div",{className:"chart-block",style:{marginBottom:10},children:[(0,u.jsx)("p",{className:"chart-label",children:"Temperature (\xb0C)"}),(0,u.jsx)(sl,{points:vt,windowSec:Dl,height:140})]}),(0,u.jsxs)("div",{className:"chart-block",style:{marginBottom:10},children:[(0,u.jsx)("p",{className:"chart-label",children:"Accelerometer X"}),(0,u.jsx)(sl,{points:bt,windowSec:Dl,height:120})]}),(0,u.jsxs)("div",{className:"chart-block",style:{marginBottom:10},children:[(0,u.jsx)("p",{className:"chart-label",children:"Accelerometer Y"}),(0,u.jsx)(sl,{points:wt,windowSec:Dl,height:120})]}),(0,u.jsxs)("div",{className:"chart-block",style:{marginBottom:10},children:[(0,u.jsx)("p",{className:"chart-label",children:"Accelerometer Z"}),(0,u.jsx)(sl,{points:St,windowSec:Dl,height:120})]}),(0,u.jsxs)("div",{className:"chart-block",style:{marginBottom:10},children:[(0,u.jsx)("p",{className:"chart-label",children:"Gyroscope X"}),(0,u.jsx)(sl,{points:kt,windowSec:Dl,height:120})]}),(0,u.jsxs)("div",{className:"chart-block",style:{marginBottom:10},children:[(0,u.jsx)("p",{className:"chart-label",children:"Gyroscope Y"}),(0,u.jsx)(sl,{points:Nt,windowSec:Dl,height:120})]}),(0,u.jsxs)("div",{className:"chart-block",children:[(0,u.jsx)("p",{className:"chart-label",children:"Gyroscope Z"}),(0,u.jsx)(sl,{points:Tt,windowSec:Dl,height:120})]})]}),(0,u.jsxs)("section",{className:"panel ".concat("heart"===bn?"fullscreen":""),children:[(0,u.jsx)(Va,{title:"Heart Observatory",subtitle:"PPG heart rate + SpO2 estimate",children:(0,u.jsx)(Wa,{children:(0,u.jsx)(qa,{pressed:"heart"===bn,ariaLabel:"heart"===bn?"Exit fullscreen":"Enter fullscreen",title:"heart"===bn?"Exit fullscreen":"Enter fullscreen",onClick:()=>yn(e=>"heart"===e?null:"heart"),children:"heart"===bn?Tn.collapse:Tn.expand})})}),(0,u.jsx)("p",{className:"subdued",children:"Combined PPG pulse trace, cardiogram, and SpO2 (ratio-of-ratios)."}),(0,u.jsxs)("p",{className:"subdued",children:["SpO2 debug: IR=",(null===(k=Bt.spo2Labels)||void 0===k?void 0:k.ir)||"\u2014"," (",(null===(C=Bt.ppgChannelsAll)||void 0===C||null===(N=C.find(e=>{var t;return e.label===(null===(t=Bt.spo2Labels)||void 0===t?void 0:t.ir)}))||void 0===N||null===(E=N.samples)||void 0===E?void 0:E.length)||0,") \xb7 RED=",(null===(T=Bt.spo2Labels)||void 0===T?void 0:T.red)||"\u2014"," (",(null===(M=Bt.ppgChannelsAll)||void 0===M||null===(j=M.find(e=>{var t;return e.label===(null===(t=Bt.spo2Labels)||void 0===t?void 0:t.red)}))||void 0===j||null===(A=j.samples)||void 0===A?void 0:A.length)||0,") \xb7 ",null!==(P=Bt.spo2Debug)&&void 0!==P&&P.ok?"OK":"BLOCKED (".concat((null===(D=Bt.spo2Debug)||void 0===D?void 0:D.reason)||"NO_DATA",")"),null!=(null===(I=Bt.spo2Debug)||void 0===I?void 0:I.piIr)&&null!=(null===(F=Bt.spo2Debug)||void 0===F?void 0:F.piRed)?" PI=".concat(Bt.spo2Debug.piIr.toFixed(4),"/").concat(Bt.spo2Debug.piRed.toFixed(4)):"",null!=(null===(R=Bt.spo2Debug)||void 0===R?void 0:R.ratio)?" R=".concat(Bt.spo2Debug.ratio.toFixed(3)):""]}),(0,u.jsxs)("div",{className:"inline-status",style:{marginBottom:10},children:[(0,u.jsxs)("span",{className:"status-pill",children:["Heart rate: ",null!=Bt.heartRateBpm?"".concat(Bt.heartRateBpm," bpm"):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["Pulse channel (auto): ",Bt.pulseChannelLabel||"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["SpO2: ",null!=Bt.spo2?"".concat(Bt.spo2.toFixed(0),"%"):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["R (red/IR): ",null!=Bt.spo2Ratio?Bt.spo2Ratio.toFixed(3):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["PI (IR/Red): ",null!=Bt.perfusionIndexIr&&null!=Bt.perfusionIndexRed?"".concat(Bt.perfusionIndexIr.toFixed(3)," / ").concat(Bt.perfusionIndexRed.toFixed(3)):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["PPG: ",null!==(z=Bt.ppgChannels)&&void 0!==z&&z.length?Bt.ppgChannels.map(e=>e.label).join(" + "):"\u2014"]}),(0,u.jsxs)("span",{className:"status-pill",children:["SpO2 channels: ",Bt.spo2Labels?"".concat(Bt.spo2Labels.ir," / ").concat(Bt.spo2Labels.red):"\u2014"]})]}),Bt.combinedPpg?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"chart-block",style:{marginBottom:10},children:[(0,u.jsx)("p",{className:"chart-label",children:"PPG combined"}),(0,u.jsx)(ul,{samples:Bt.combinedPpg.samples.slice(-Pt),height:220,maxPoints:2400})]}),(0,u.jsxs)("div",{className:"chart-block",style:{marginBottom:10},children:[(0,u.jsx)("p",{className:"chart-label",children:"Cardiogram (last 5 beats)"}),Bt.cardiogramPpg?(0,u.jsx)(ul,{samples:Bt.cardiogramPpg.samples,height:180,maxPoints:1800}):(0,u.jsx)("p",{className:"subdued",children:"Waiting for cardiogram samples."})]}),(0,u.jsxs)("div",{className:"chart-block",children:[(0,u.jsx)("p",{className:"chart-label",children:"Heart rate (15s average)"}),(0,u.jsx)(sl,{points:wn,windowSec:120,height:160})]})]}):(0,u.jsx)("p",{className:"subdued",children:"Waiting for PPG data."})]}),(0,u.jsxs)("section",{className:"panel ".concat("config"===bn?"fullscreen":""),children:[(0,u.jsx)(Va,{title:"Configuration",subtitle:"Display windows",children:(0,u.jsx)(Wa,{children:(0,u.jsx)(qa,{pressed:"config"===bn,ariaLabel:"config"===bn?"Exit fullscreen":"Enter fullscreen",title:"config"===bn?"Exit fullscreen":"Enter fullscreen",onClick:()=>yn(e=>"config"===e?null:"config"),children:"config"===bn?Tn.collapse:Tn.expand})})}),(0,u.jsx)("p",{className:"subdued",children:"Adjust how many seconds of history are rendered for band power and spectrograms."}),(0,u.jsxs)("div",{className:"inline-buttons",style:{marginBottom:12},children:[(0,u.jsx)("button",{type:"button",onClick:Fn,children:"Save"}),(0,u.jsx)("button",{type:"button",onClick:Rn,children:"Defaults"})]}),(0,u.jsxs)("div",{className:"inline-buttons",children:[(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Band power window (s)"}),(0,u.jsx)("input",{type:"number",min:"10",max:"28800",value:he,onChange:e=>pe(Math.max(10,Math.min(28800,Number(e.target.value))))})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Band power smoothing (s)"}),(0,u.jsx)("input",{type:"number",min:"1",max:he,value:ge,onChange:e=>{const t=Math.max(1,Math.min(he,Number(e.target.value)));be(t)}})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Spectrogram window (s)"}),(0,u.jsx)("input",{type:"number",min:"10",max:"900",value:me,onChange:e=>ve(Math.max(10,Math.min(900,Number(e.target.value))))})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Training delta smoothing (s)"}),(0,u.jsx)("input",{type:"number",min:"1",max:"900",value:ye,onChange:e=>we(Math.max(1,Math.min(900,Number(e.target.value))))})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Notch filter Hz"}),(0,u.jsxs)("select",{value:Ee,onChange:e=>Te(Number(e.target.value)),children:[(0,u.jsx)("option",{value:50,children:"50 Hz"}),(0,u.jsx)("option",{value:60,children:"60 Hz"})]})]})]}),(0,u.jsx)("p",{className:"subdued",children:"Tune buffer sizes for trace rendering and FFT processing."}),(0,u.jsxs)("div",{className:"inline-buttons",children:[(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"EEG trace window (samples)"}),(0,u.jsx)("input",{type:"number",min:"512",max:"16384",value:xe,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||Se(Math.max(_e,Math.min(16384,t)))}})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"EEG FFT window (samples)"}),(0,u.jsx)("input",{type:"number",min:"256",max:"4096",value:_e,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||ke(Math.max(256,Math.min(4096,t)))}})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"PPG trace window (samples)"}),(0,u.jsx)("input",{type:"number",min:"256",max:"4096",value:Ce,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||Ne(Math.max(256,Math.min(4096,t)))}})]})]}),(0,u.jsx)("p",{className:"subdued",children:"Artifact detection uses amplitude range and line-noise ratios."}),(0,u.jsxs)("div",{className:"inline-buttons",children:[(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Artifact window (s)"}),(0,u.jsx)("input",{type:"number",min:"0.5",max:"10",step:"0.5",value:Me,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||je(Math.max(.5,Math.min(10,t)))}})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Artifact step (s)"}),(0,u.jsx)("input",{type:"number",min:"0.25",max:"5",step:"0.25",value:Ae,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||Pe(Math.max(.25,Math.min(5,t)))}})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Amplitude range threshold"}),(0,u.jsx)("input",{type:"number",min:"10",max:"500",step:"5",value:De,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||Ie(Math.max(10,Math.min(500,t)))}})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Line-noise ratio threshold"}),(0,u.jsx)("input",{type:"number",min:"0",max:"1",step:"0.01",value:Ue,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||He(Math.max(0,Math.min(1,t)))}})]})]}),(0,u.jsxs)("div",{className:"inline-buttons",children:[(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Line-noise Hz"}),(0,u.jsx)("input",{type:"number",min:"50",max:"70",step:"1",value:Fe,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||Re(Math.max(50,Math.min(70,t)))}})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Line-noise band (Hz)"}),(0,u.jsx)("input",{type:"number",min:"0.5",max:"6",step:"0.5",value:ze,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||Le(Math.max(.5,Math.min(6,t)))}})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Line-noise max Hz"}),(0,u.jsx)("input",{type:"number",min:"20",max:"120",step:"5",value:Oe,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||Be(Math.max(20,Math.min(120,t)))}})]})]}),(0,u.jsxs)("div",{className:"inline-buttons",children:[(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Rejection overlay mode"}),(0,u.jsxs)("select",{value:Ve,onChange:e=>We(e.target.value),children:[(0,u.jsx)("option",{value:"auto",children:"auto"}),(0,u.jsx)("option",{value:"always",children:"always"}),(0,u.jsx)("option",{value:"off",children:"off"})]})]}),(0,u.jsxs)("label",{className:"field",children:[(0,u.jsx)("span",{children:"Overlay max windows"}),(0,u.jsx)("input",{type:"number",min:"20",max:"1000",step:"10",value:qe,onChange:e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||Ge(Math.max(20,Math.min(1e3,t)))}})]})]})]}),(0,u.jsxs)("section",{className:"panel ".concat("periodograms"===bn?"fullscreen":""),children:[(0,u.jsx)(Va,{title:"Band Periodograms",subtitle:"Per-channel spectra (weighted selection)",indicator:(0,u.jsx)("span",{className:"heartbeat-dot ".concat(Ft&&Date.now()-Ft<5e3?"alive":""),children:Ft?"".concat(Math.round((Date.now()-Ft)/1e3),"s"):"\u2014"}),children:(0,u.jsxs)(Wa,{children:[(0,u.jsx)(qa,{pressed:ln,ariaLabel:ln?"Hide periodograms":"Show periodograms",title:ln?"Hide periodograms":"Show periodograms",onClick:()=>sn(e=>!e),children:ln?Tn.hide:Tn.show}),(0,u.jsx)(qa,{pressed:"periodograms"===bn,ariaLabel:"periodograms"===bn?"Exit fullscreen":"Enter fullscreen",title:"periodograms"===bn?"Exit fullscreen":"Enter fullscreen",onClick:()=>yn(e=>"periodograms"===e?null:"periodograms"),children:"periodograms"===bn?Tn.collapse:Tn.expand})]})}),(0,u.jsx)("p",{className:"subdued",children:"Live per-channel periodograms up to 50 Hz (uses selected sensors)."}),ln&&(0,u.jsx)(ll,{eegData:zn,selectedChannels:O})]}),(0,u.jsxs)("section",{className:"panel tall ".concat("spectrogram"===bn?"fullscreen":""),children:[(0,u.jsx)(Va,{title:"Spectrogram",subtitle:"Per-channel heatmaps",indicator:(0,u.jsx)("span",{className:"heartbeat-dot ".concat(Ft&&Date.now()-Ft<5e3?"alive":""),children:Ft?"".concat(Math.round((Date.now()-Ft)/1e3),"s"):"\u2014"}),children:(0,u.jsxs)(Wa,{children:[(0,u.jsxs)("label",{className:"panel-toggle",children:[(0,u.jsx)("input",{type:"checkbox",checked:fn,onChange:e=>dn(e.target.checked)}),(0,u.jsx)("span",{children:"Cached FFT"})]}),(0,u.jsx)(qa,{pressed:un,ariaLabel:un?"Hide spectrogram":"Show spectrogram",title:un?"Hide spectrogram":"Show spectrogram",onClick:()=>cn(e=>!e),children:un?Tn.hide:Tn.show}),(0,u.jsx)(qa,{pressed:"spectrogram"===bn,ariaLabel:"spectrogram"===bn?"Exit fullscreen":"Enter fullscreen",title:"spectrogram"===bn?"Exit fullscreen":"Enter fullscreen",onClick:()=>yn(e=>"spectrogram"===e?null:"spectrogram"),children:"spectrogram"===bn?Tn.collapse:Tn.expand})]})}),(0,u.jsx)("p",{className:"subdued",children:"Live per-channel spectrograms up to 50 Hz, honoring your sensor selection."}),un&&(0,u.jsx)(tl,{eegData:zn,selectedChannels:O,windowSeconds:me,preferCachedSlices:fn})]}),(0,u.jsxs)("section",{className:"panel ".concat("downloads"===bn?"fullscreen":""),children:[(0,u.jsx)(Va,{title:"Session Exports",subtitle:"Download EEG/PPG snapshots",children:(0,u.jsx)(Wa,{children:(0,u.jsx)(qa,{pressed:"downloads"===bn,ariaLabel:"downloads"===bn?"Exit fullscreen":"Enter fullscreen",title:"downloads"===bn?"Exit fullscreen":"Enter fullscreen",onClick:()=>yn(e=>"downloads"===e?null:"downloads"),children:"downloads"===bn?Tn.collapse:Tn.expand})})}),(0,u.jsx)("p",{className:"subdued",children:"Export BrainVision EEG plus BIDS sidecars (and PPG TSV when available). Auto-download runs while streaming."}),(0,u.jsxs)("div",{className:"inline-status",style:{marginBottom:8},children:[(0,u.jsxs)("label",{className:"field",style:{marginRight:12},children:[(0,u.jsx)("input",{type:"checkbox",checked:Qe,onChange:e=>Xe(e.target.checked)}),(0,u.jsxs)("span",{style:{marginLeft:8},children:["Auto-download every ",Math.max(1,Math.round(60)),"s"]})]}),(0,u.jsxs)("span",{className:"status-pill",children:["Next export: ",null!=ct?"".concat(ct,"s"):"\u2014"]}),(0,u.jsx)("span",{className:"status-pill ".concat(Ze.isStreaming?"":"warn"),children:Ze.isStreaming?"Streaming":"Not streaming"})]}),dt.length>0?(0,u.jsxs)("div",{className:"chart-block",children:[(0,u.jsx)("p",{className:"chart-label",children:"Export log (last 20)"}),(0,u.jsx)("div",{className:"inline-status",style:{flexWrap:"wrap"},children:dt.slice().reverse().map(e=>(0,u.jsxs)("span",{className:"status-pill",children:[new Date(e.t).toLocaleTimeString()," \xb7 ",e.windowSec,"s window"]},e.t))})]}):(0,u.jsx)("p",{className:"subdued",children:"No exports yet."})]}),(0,u.jsxs)("section",{className:"panel device-debug ".concat("device-debug"===bn?"fullscreen":""),children:[(0,u.jsx)(Va,{title:"Device Debug",subtitle:"Connection + telemetry log",children:(0,u.jsx)(Wa,{children:(0,u.jsx)(qa,{pressed:"device-debug"===bn,ariaLabel:"device-debug"===bn?"Exit fullscreen":"Enter fullscreen",title:"device-debug"===bn?"Exit fullscreen":"Enter fullscreen",onClick:()=>yn(e=>"device-debug"===e?null:"device-debug"),children:"device-debug"===bn?Tn.collapse:Tn.expand})})}),(0,u.jsx)("p",{className:"subdued",children:"Full device diagnostics for troubleshooting disconnects and data flow."}),mn?(0,u.jsx)(u.Fragment,{children:(null===(L=mn.eventLog)||void 0===L?void 0:L.length)>0?(0,u.jsx)("pre",{ref:gn,className:"debug-pre",children:mn.eventLog.map(e=>{const t=new Date(e.t).toISOString().split("T")[1].replace("Z","");return"".concat(t," | ").concat(e.msg)}).join("\n")}):(0,u.jsx)("p",{className:"subdued",children:"No connection events yet."})}):(0,u.jsx)("p",{className:"subdued",children:"Waiting for device status."})]}),(0,u.jsxs)("section",{className:"panel tall ".concat("artifacts"===bn?"fullscreen":""),children:[(0,u.jsx)(Va,{title:"Artifact Rejection Diagnostics",subtitle:"Amplitude range + line noise",children:(0,u.jsxs)(Wa,{children:[(0,u.jsx)(qa,{pressed:hn,ariaLabel:hn?"Hide artifact diagnostics":"Show artifact diagnostics",title:hn?"Hide artifact diagnostics":"Show artifact diagnostics",onClick:()=>pn(e=>!e),children:hn?Tn.hide:Tn.show}),(0,u.jsx)(qa,{pressed:"artifacts"===bn,ariaLabel:"artifacts"===bn?"Exit fullscreen":"Enter fullscreen",title:"artifacts"===bn?"Exit fullscreen":"Enter fullscreen",onClick:()=>yn(e=>"artifacts"===e?null:"artifacts"),children:"artifacts"===bn?Tn.collapse:Tn.expand})]})}),(0,u.jsx)("p",{className:"subdued",children:"Each trace is shaded where amplitude range or line noise exceeds the configured thresholds."}),hn&&(Ln.length>0?(0,u.jsx)("div",{className:"channel-grid",children:Ln.map(e=>{const t=e.artifactWindows||[],n=String(Ve||"auto").toLowerCase(),r="always"===n||"auto"===n&&t.length<=qe,i=r?t.filter(e=>e.amplitudeArtifact||e.lineNoiseArtifact).map(e=>{let t="#f97316";return e.amplitudeArtifact&&e.lineNoiseArtifact?t="#ef4444":e.lineNoiseArtifact&&(t="#60a5fa"),{start:e.startSample,end:e.endSample,color:t}}):[],o=t.filter(e=>e.amplitudeArtifact).length,a=t.filter(e=>e.lineNoiseArtifact).length,l=t.filter(e=>e.amplitudeArtifact&&e.lineNoiseArtifact).length,s=e.latest;return(0,u.jsxs)("div",{className:"channel-card",children:[(0,u.jsx)("div",{className:"channel-header",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"eyebrow",children:e.label}),(0,u.jsxs)("p",{className:"channel-meta",children:["Windows: ",t.length," \u2022 amplitude hits: ",o," \u2022 line-noise hits: ",a," \u2022 both: ",l]})]})}),(0,u.jsxs)("div",{className:"inline-status",children:[(0,u.jsxs)("span",{className:"status-pill ".concat(null!==s&&void 0!==s&&s.amplitudeArtifact?"warn":""),children:["Amplitude range: ",s?s.amplitudeRange.toFixed(1):"\u2014"," (thr ",De,")"]}),(0,u.jsxs)("span",{className:"status-pill ".concat(null!==s&&void 0!==s&&s.lineNoiseArtifact?"warn":""),children:["Line-noise ratio: ",s?s.lineNoiseRatio.toFixed(3):"\u2014"," (thr ",Ue,")"]}),!r&&(0,u.jsxs)("span",{className:"status-pill",children:["Overlays off (windows ",t.length,")"]})]}),(0,u.jsxs)("div",{className:"chart-block",children:[(0,u.jsxs)("p",{className:"chart-label",children:["EEG trace (last ",xe," samples)"]}),e.samples.length>0?(0,u.jsx)(ul,{samples:e.samples,overlays:i,height:140,maxPoints:1200}):(0,u.jsx)("p",{className:"subdued",children:"No samples yet."})]})]},e.label)})}):(0,u.jsx)("p",{className:"subdued",children:"Waiting for EEG samples."}))]})]})]})},Ll=e=>{e&&e instanceof Function&&n.e(206).then(n.bind(n,8206)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)})};t.createRoot(document.getElementById("root")).render((0,u.jsx)(e.StrictMode,{children:(0,u.jsx)(zl,{})})),Ll()})()})();